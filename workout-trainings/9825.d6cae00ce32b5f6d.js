(self.webpackChunkworkout_trainings=self.webpackChunkworkout_trainings||[]).push([[9825],{1399:(L,x,r)=>{r.r(x),r.d(x,{WorkoutTrainingComponent:()=>I});var e=r(3731),v=r(5793),C=r(8978),g=r(5004),T=r(9964),h=r(5301),E=r(3114),w=r(5795),l=r(9401),c=r(9576),s=r(6751),y=r(3515),p=r(4232),m=r(6571),f=r(470),_=r(9120),k=r(4503);function D(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.setExerciseTemplate(d))}),e.\u0275\u0275element(1,"workout-tracker-exercise-template-card",14),e.\u0275\u0275elementEnd()}if(2&n){const t=a.$implicit;e.\u0275\u0275advance(),e.\u0275\u0275property("exerciseTemplate",t)}}function W(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.createTrainingExercise())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("mat-dialog-close",!1)("disabled",!t.form.valid),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"common.actions.create")," ")}}function S(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"h2",2),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"mat-dialog-content",3)(5,"mat-stepper",4,5)(7,"mat-step",6),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementStart(9,"form",7)(10,"workout-tracker-muscles-selector",8),e.\u0275\u0275listener("muscleSelection",function(o){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.filterByMuscleInvolved(o))}),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,D,2,1,"div",9),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"mat-dialog-actions",10)(14,"button",11),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,W,3,5,"button",12),e.\u0275\u0275elementEnd()()}if(2&n){const t=a.ngrxLet,i=e.\u0275\u0275reference(6),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"apps.workout-trainings.training.addTrainingExercise.title")),e.\u0275\u0275advance(5),e.\u0275\u0275property("stepControl",o.form)("label",e.\u0275\u0275pipeBind1(8,10,"apps.workout-trainings.training.addTrainingExercise.step.basicInfo.title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(11,12,"apps.workout-exercises.list.filter.byMusclePlaceholder")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.filteredExerciseTemplates),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,14,"common.actions.cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===i.selectedIndex)}}const A=n=>({filteredExerciseTemplates:n});let F=(()=>{class n{constructor(){this.dialogRef=(0,e.inject)(c.MatDialogRef),this.store=(0,e.inject)(v.Store),this.filteredExerciseTemplates$=this.store.select(p.getExerciseTemplatesListFiltered)}ngOnInit(){this.form=new s.FormGroup({exerciseTemplate:new s.FormControl(null,[s.Validators.required])}),this.store.dispatch((0,p.getUserExerciseTemplatesListRequest)())}createTrainingExercise(){if(this.form.valid){const t={...this.form.getRawValue(),series:[]};this.store.dispatch((0,y.a2)({trainingExercise:t})),this.dialogRef.close()}}filterByMuscleInvolved(t){this.store.dispatch((0,p.setExerciseTemplateListMuscleInvolvedQueryFilter)({muscleInvolved:t}))}setExerciseTemplate(t){this.form.setValue({exerciseTemplate:this.form.controls.exerciseTemplate.value?.id===t.id?null:t})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["workout-tracker-add-training-exercise-dialog"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:1,vars:3,consts:[["class","AddTrainingExerciseDialog_MainContainer",4,"ngrxLet"],[1,"AddTrainingExerciseDialog_MainContainer"],["mat-dialog-title",""],[1,"mat-typography"],["orientation","vertical","linear","","animationDuration","700"],["stepper",""],[3,"stepControl","label"],[3,"formGroup"],[3,"label","muscleSelection"],["class","AddTrainingExerciseDialog_ListContainer",3,"click",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close","disabled","click",4,"ngIf"],[1,"AddTrainingExerciseDialog_ListContainer",3,"click"],[3,"exerciseTemplate"],["mat-button","",3,"mat-dialog-close","disabled","click"]],template:function(i,o){1&i&&e.\u0275\u0275template(0,S,18,16,"div",0),2&i&&e.\u0275\u0275property("ngrxLet",e.\u0275\u0275pureFunction1(1,A,o.filteredExerciseTemplates$))},dependencies:[C.UiModule,m.NgForOf,m.NgIf,s.\u0275NgNoValidate,s.NgControlStatusGroup,f.MatButton,_.LetDirective,s.FormGroupDirective,c.MatDialogClose,c.MatDialogTitle,c.MatDialogActions,c.MatDialogContent,k.MatStep,k.MatStepper,g.TranslateModule,g.TranslatePipe,l.ExerciseTemplateCardComponent,l.MusclesSelectorComponent],styles:["html,body{height:100%}body{margin:0}.dialogClass{min-width:350px;width:25%}@media (max-width: 960px){.dialogClass{min-width:inherit;width:90%}}.view-body{display:flex;flex-direction:column;gap:35px;align-items:center;justify-content:center;width:80%}.view-padding-top{padding-top:30px}workout-tracker-add-training-exercise-dialog .AddTrainingExerciseDialog_MainContainer mat-dialog-content{display:flex;flex-direction:column;align-items:center;padding:0!important}workout-tracker-add-training-exercise-dialog .AddTrainingExerciseDialog_MainContainer mat-dialog-content .mat-step-header .mat-step-icon-selected,workout-tracker-add-training-exercise-dialog .AddTrainingExerciseDialog_MainContainer mat-dialog-content .mat-step-header .mat-step-icon-state-edit{background-color:#05668d}workout-tracker-add-training-exercise-dialog .AddTrainingExerciseDialog_MainContainer mat-dialog-content .mat-vertical-content{padding:24px}workout-tracker-add-training-exercise-dialog .AddTrainingExerciseDialog_MainContainer mat-dialog-content .mat-vertical-content form{display:flex;flex-direction:column;align-items:center;gap:10px;width:100%}\n"],encapsulation:2})}return n})();function V(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext().ngrxLet,B=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(B.openTrainingExercise(u.training,d))}),e.\u0275\u0275element(1,"workout-tracker-training-exercise-card",8),e.\u0275\u0275elementEnd()}if(2&n){const t=a.$implicit;e.\u0275\u0275advance(),e.\u0275\u0275property("trainingExercise",t)}}function O(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275element(1,"workout-tracker-view-header",2),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementStart(3,"div",3)(4,"button",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.newTrainingExercise())}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h2"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"workout-tracker-training-info",5),e.\u0275\u0275elementStart(11,"h2"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,V,2,1,"div",6),e.\u0275\u0275elementEnd()()}if(2&n){const t=a.ngrxLet,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,7,"common.actions.goBack"))("goBackUrl",i.appRoutes.WorkoutTrainingsList),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,9,"apps.workout-trainings.training.actions.addNewTrainingExercise")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,11,"apps.workout-trainings.training.title")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("training",t.training),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,13,"apps.workout-trainings.training.training-exercises.list.title")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",null==t.training?null:t.training.trainingExercises)}}const j=n=>({training:n});let I=(()=>{class n{constructor(){this.store=(0,e.inject)(v.Store),this.router=(0,e.inject)(T.Router),this.dialogService=(0,e.inject)(h.DialogService),this.training$=this.store.select(w.zp),this.appRoutes=E.AppRoutes}editTraining(){}newTrainingExercise(){this.dialogService.showDialog(F,!0)}openTrainingExercise(t,i){this.router.navigate([`/trainings/${t.id}/exercise/${i.id}`])}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["workout-tracker-training"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:1,vars:3,consts:[["class","WorkoutTraining_MainContainer",4,"ngrxLet"],[1,"WorkoutTraining_MainContainer"],[3,"title","goBackUrl"],[1,"WorkoutTraining_ContentContainer","view-body"],["mat-flat-button","","color","primary",3,"click"],[3,"training"],["class","WorkoutTraining_TrainingExercise",3,"click",4,"ngFor","ngForOf"],[1,"WorkoutTraining_TrainingExercise",3,"click"],[3,"trainingExercise"]],template:function(i,o){1&i&&e.\u0275\u0275template(0,O,15,15,"div",0),2&i&&e.\u0275\u0275property("ngrxLet",e.\u0275\u0275pureFunction1(1,j,o.training$))},dependencies:[C.UiModule,m.NgForOf,f.MatButton,_.LetDirective,g.TranslateModule,g.TranslatePipe,T.RouterModule,l.ViewHeaderComponent,l.TrainingInfoComponent,l.TrainingExerciseCardComponent],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0}.dialogClass[_ngcontent-%COMP%]{min-width:350px;width:25%}@media (max-width: 960px){.dialogClass[_ngcontent-%COMP%]{min-width:inherit;width:90%}}.view-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:35px;align-items:center;justify-content:center;width:80%}.view-padding-top[_ngcontent-%COMP%]{padding-top:30px}[_nghost-%COMP%]{height:100%}.WorkoutTraining_MainContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.WorkoutTraining_MainContainer[_ngcontent-%COMP%]   .WorkoutTraining_ContentContainer[_ngcontent-%COMP%]   .WorkoutTraining_TrainingExercise[_ngcontent-%COMP%]{width:100%}"]})}return n})()}}]);