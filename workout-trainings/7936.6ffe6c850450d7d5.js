(self.webpackChunkworkout_trainings=self.webpackChunkworkout_trainings||[]).push([[7936],{7872:(O,i,t)=>{t.d(i,{o:()=>r,c:()=>a});var E=t(5793),D=t(3424),e=t(3005);const I={[D.Ny]:D.gT,[e.eu]:e.AM},r="workout-trainings",a=(s=I,n)=>(0,E.combineReducers)({[D.Ny]:D.jv,[e.eu]:e.JN},I)(s,n)},5307:(O,i,t)=>{t.d(i,{E:()=>I});var E=t(5793),e=t(7872);const I=(0,E.createFeatureSelector)(e.o)},8591:(O,i,t)=>{t.d(i,{y:()=>r});var E=t(9964),e=t(3731);let r=(()=>{class a{static#t=this.\u0275fac=function(R){return new(R||a)};static#E=this.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["workout-tracker-trainings"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(R,u){1&R&&e.\u0275\u0275element(0,"router-outlet")},dependencies:[E.RouterOutlet],styles:["[_nghost-%COMP%]{height:100%}"]})}return a})()},3781:(O,i,t)=>{t.d(i,{z:()=>g});var E=t(3731),r=(t(9964),t(5793)),s=t(3635),R=t(612),u=t(8911);let g=(()=>{class c{constructor(){this.store=(0,E.inject)(r.Store)}resolve(N){const U=N.paramMap.get("id"),d=N.paramMap.get("exerciseId");return U&&d?(this.store.dispatch((0,R.ow)({trainingId:U,trainingExerciseId:d})),this.store.select(u.Q0).pipe((0,s.filter)(_=>!!_))):(0,s.of)(void 0)}static#t=this.\u0275fac=function(U){return new(U||c)};static#E=this.\u0275prov=E.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},1201:(O,i,t)=>{t.d(i,{l:()=>g});var E=t(3731),r=(t(9964),t(5793)),s=t(3635),R=t(3515),u=t(5795);let g=(()=>{class c{constructor(){this.store=(0,E.inject)(r.Store)}resolve(N){const U=N.paramMap.get("id");return U?(this.store.dispatch((0,R.yH)({trainingId:U})),this.store.select(u.zp).pipe((0,s.filter)(d=>!!d))):(0,s.of)(void 0)}static#t=this.\u0275fac=function(U){return new(U||c)};static#E=this.\u0275prov=E.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},8549:(O,i,t)=>{t.d(i,{$:()=>g});var E=t(3731),r=(t(9964),t(5793)),s=t(4232),R=t(3635);let g=(()=>{class c{constructor(){this.store=(0,E.inject)(r.Store)}resolve(N){return this.store.dispatch((0,s.getUserTrainingsListRequest)()),this.store.select((0,s.getIsAppLoaded)(s.AppInit.TRAININGS)).pipe((0,R.filter)(U=>U),(0,R.mergeMap)(()=>this.store.select(s.getTrainingsList)))}static#t=this.\u0275fac=function(U){return new(U||c)};static#E=this.\u0275prov=E.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},612:(O,i,t)=>{t.d(i,{$h:()=>n,$r:()=>f,AM:()=>u,Gs:()=>A,Nv:()=>a,Qi:()=>C,RD:()=>l,UN:()=>c,Yl:()=>W,_G:()=>N,gJ:()=>T,ot:()=>d,ow:()=>I,tH:()=>P});var E=t(5793);const I=(0,E.createAction)("GET USER TRAINING EXERCISE",(0,E.props)()),a=(0,E.createAction)("GET AUTHENTICATED USER TRAINING EXERCISE Request",(0,E.props)()),n=(0,E.createAction)("GET AUTHENTICATED USER TRAINING EXERCISE Success",(0,E.props)()),u=(0,E.createAction)("GET AUTHENTICATED USER TRAINING EXERCISE Error",(0,E.props)()),c=(0,E.createAction)("GET ANONYMOUS USER TRAINING EXERCISE Request",(0,E.props)()),N=(0,E.createAction)("GET ANONYMOUS USER TRAINING EXERCISE Success",(0,E.props)()),d=(0,E.createAction)("GET ANONYMOUS USER TRAINING EXERCISE Error",(0,E.props)()),P=(0,E.createAction)("ADD USER TRAINING EXERCISE SERIE",(0,E.props)()),f=(0,E.createAction)("ADD AUTHENTICATED USER TRAINING EXERCISE SERIE Request",(0,E.props)()),C=(0,E.createAction)("ADD AUTHENTICATED USER TRAINING EXERCISE SERIE Success",(0,E.props)()),A=(0,E.createAction)("ADD AUTHENTICATED USER TRAINING EXERCISE SERIE Error"),T=(0,E.createAction)("ADD ANONYMOUS USER TRAINING EXERCISE SERIE Request",(0,E.props)()),l=(0,E.createAction)("ADD ANONYMOUS USER TRAINING EXERCISE SERIE Success",(0,E.props)()),W=(0,E.createAction)("ADD ANONYMOUS USER TRAINING EXERCISE SERIE Error")},4273:(O,i,t)=>{t.d(i,{k:()=>C});var E=t(3731),e=t(1705),r=t(3635),s=t(9964),R=t(5004),g=t(5793),S=t(4232),U=t(3114),_=t(612),P=t(8034),f=t(5795),G=t(8911);let C=(()=>{class v{constructor(){this.exercisesService=(0,E.inject)(P.TrainingsService),this.translateService=(0,E.inject)(R.TranslateService),this.actions$=(0,E.inject)(e.Actions),this.router=(0,E.inject)(s.Router),this.store=(0,E.inject)(g.Store),this.getUserTrainingExerciseRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.ow),(0,e.concatLatestFrom)(()=>this.store.select(S.getUser)),(0,r.mergeMap)(([{trainingId:o,trainingExerciseId:T},M])=>(0,r.iif)(()=>!!M,(0,r.of)((0,_.Nv)({trainingId:o,trainingExerciseId:T})),(0,r.of)((0,_.UN)({trainingId:o,trainingExerciseId:T})))))),this.getAuthenticatedUserTrainingExerciseRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.Nv),(0,e.concatLatestFrom)(()=>this.store.select(S.getUser)),(0,r.mergeMap)(([{trainingId:o,trainingExerciseId:T},M])=>this.exercisesService.getTrainingExercise(M?.uid,o,T).pipe((0,r.map)(l=>(0,_.$h)({trainingId:o,trainingExercise:l})),(0,r.catchError)(l=>(this.router.navigate([U.AppRoutes.WorkoutTrainingsList]),(0,r.of)((0,_.AM)({trainingExerciseId:T})))))))),this.getAnonymousUserTrainingExerciseRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.UN),(0,r.mergeMap)(({trainingId:o,trainingExerciseId:T})=>this.store.select((0,f.v0)(T)).pipe((0,r.take)(1),(0,r.map)(M=>M?(0,_._G)({trainingId:o,trainingExercise:M}):(0,_.ot)({trainingExerciseId:T})))))),this.getTrainingExerciseRequestError$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.ot,_.AM),(0,r.map)(({trainingExerciseId:o})=>(0,S.showError)({errorMessage:`${this.translateService.instant("apps.workout-trainings.errors.trainingExerciseNotFound",{trainingExerciseId:o.toUpperCase()})}`})))),this.addUserTrainingExerciseTrainingRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.tH),(0,e.concatLatestFrom)(()=>this.store.select(S.getUser)),(0,r.mergeMap)(([{trainingExerciseSerie:o},T])=>(0,r.iif)(()=>!!T,(0,r.of)((0,_.$r)({trainingExerciseSerie:o})),(0,r.of)((0,_.gJ)({trainingExerciseSerie:o})))))),this.addAuthenticatedUserTrainingExerciseRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.$r),(0,e.concatLatestFrom)(()=>[this.store.select(S.getUser),this.store.select(G.E7),this.store.select(G.Q0)]),(0,r.switchMap)(([{trainingExerciseSerie:o},T,M,l])=>this.exercisesService.setTrainingExerciseSerie(T?.uid,M,l?.id,o).pipe((0,r.map)(h=>(0,_.Qi)({trainingExerciseSerie:h})),(0,r.catchError)(h=>(0,r.of)((0,_.Gs)())))))),this.addAnonymousUserTrainingExerciseRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.gJ),(0,r.mergeMap)(({trainingExerciseSerie:o})=>(0,r.of)((0,_.RD)({trainingExerciseSerie:o}))))),this.addUserTrainingExerciseRequestError$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.Gs,_.Yl),(0,r.map)(()=>(0,S.showError)({errorMessage:`${this.translateService.instant("apps.workout-trainings.errors.trainingExerciseSerieCouldntBeCreated")}`}))))}static#t=this.\u0275fac=function(T){return new(T||v)};static#E=this.\u0275prov=E.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac})}return v})()},3005:(O,i,t)=>{t.d(i,{AM:()=>r,JN:()=>a,eu:()=>I});var E=t(5793),e=t(612);const I="workout-training-exercise",r={trainingId:void 0,trainingExercise:void 0},a=(0,E.createReducer)(r,(0,E.on)(e.ow,s=>({...r})),(0,E.on)(e.$h,e._G,(s,{trainingId:n,trainingExercise:R})=>({...s,trainingId:n,trainingExercise:R})),(0,E.on)(e.Qi,e.RD,(s,{trainingExerciseSerie:n})=>({...s,trainingExercise:{...s.trainingExercise,series:[...s.trainingExercise?.series||[],n]}})))},8911:(O,i,t)=>{t.d(i,{E7:()=>a,Q0:()=>s});var E=t(5793),e=t(3005),I=t(5307);const r=(0,E.createSelector)(I.E,n=>n[e.eu]),a=(0,E.createSelector)(r,n=>n.trainingId),s=(0,E.createSelector)(r,n=>n.trainingExercise)},3515:(O,i,t)=>{t.d(i,{$b:()=>A,BU:()=>C,NK:()=>u,Qe:()=>T,Vt:()=>N,Wy:()=>f,a2:()=>P,iG:()=>n,uv:()=>d,wf:()=>a,wo:()=>l,yH:()=>I,z3:()=>W,zr:()=>c});var E=t(5793);const I=(0,E.createAction)("GET USER TRAINING",(0,E.props)()),a=(0,E.createAction)("GET AUTHENTICATED USER TRAINING Request",(0,E.props)()),n=(0,E.createAction)("GET AUTHENTICATED USER TRAINING Success",(0,E.props)()),u=(0,E.createAction)("GET AUTHENTICATED USER TRAINING Error",(0,E.props)()),c=(0,E.createAction)("GET ANONYMOUS USER TRAINING Request",(0,E.props)()),N=(0,E.createAction)("GET ANONYMOUS USER TRAINING Success",(0,E.props)()),d=(0,E.createAction)("GET ANONYMOUS USER TRAINING Error",(0,E.props)()),P=(0,E.createAction)("ADD USER TRAINING EXERCISE",(0,E.props)()),f=(0,E.createAction)("ADD AUTHENTICATED USER TRAINING EXERCISE Request",(0,E.props)()),C=(0,E.createAction)("ADD AUTHENTICATED USER TRAINING EXERCISE Success",(0,E.props)()),A=(0,E.createAction)("ADD AUTHENTICATED USER TRAINING EXERCISE Error"),T=(0,E.createAction)("ADD ANONYMOUS USER TRAINING EXERCISE Request",(0,E.props)()),l=(0,E.createAction)("ADD ANONYMOUS USER TRAINING EXERCISE Success",(0,E.props)()),W=(0,E.createAction)("ADD ANONYMOUS USER TRAINING EXERCISE Error")},7298:(O,i,t)=>{t.d(i,{r:()=>G});var E=t(3731),e=t(1705),r=t(3635),s=t(9964),R=t(5004),g=t(5793),S=t(4232),U=t(3114),_=t(3515),P=t(8034),f=t(5795);let G=(()=>{class C{constructor(){this.exercisesService=(0,E.inject)(P.TrainingsService),this.translateService=(0,E.inject)(R.TranslateService),this.actions$=(0,E.inject)(e.Actions),this.router=(0,E.inject)(s.Router),this.store=(0,E.inject)(g.Store),this.getUserTrainingDetailsRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.yH),(0,e.concatLatestFrom)(()=>this.store.select(S.getUser)),(0,r.mergeMap)(([{trainingId:A},o])=>(0,r.iif)(()=>!!o,(0,r.of)((0,_.wf)({trainingId:A})),(0,r.of)((0,_.zr)({trainingId:A})))))),this.getAuthenticatedUserTrainingDetailsRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.wf),(0,e.concatLatestFrom)(()=>this.store.select(S.getUser)),(0,r.mergeMap)(([{trainingId:A},o])=>this.exercisesService.getTraining(o?.uid,A).pipe((0,r.map)(T=>(0,_.iG)({training:T})),(0,r.catchError)(T=>(this.router.navigate([U.AppRoutes.WorkoutTrainingsList]),(0,r.of)((0,_.NK)({trainingId:A})))))))),this.getAnonymousUserTrainingDetailsRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.zr),(0,r.mergeMap)(({trainingId:A})=>this.store.select((0,S.getTrainingById)(A)).pipe((0,r.take)(1),(0,r.map)(o=>o?(0,_.Vt)({training:o}):(0,_.uv)({trainingId:A})))))),this.getTrainingDetailsRequestError$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.uv,_.NK),(0,r.map)(({trainingId:A})=>(0,S.showError)({errorMessage:`${this.translateService.instant("apps.workout-trainings.errors.trainingNotFound",{trainingId:A.toUpperCase()})}`})))),this.addUserTrainingExerciseTrainingRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.a2),(0,e.concatLatestFrom)(()=>this.store.select(S.getUser)),(0,r.mergeMap)(([{trainingExercise:A},o])=>(0,r.iif)(()=>!!o,(0,r.of)((0,_.Wy)({trainingExercise:A})),(0,r.of)((0,_.Qe)({trainingExercise:A})))))),this.addAuthenticatedUserTrainingExerciseRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.Wy),(0,e.concatLatestFrom)(()=>[this.store.select(S.getUser),this.store.select(f.zp)]),(0,r.switchMap)(([{trainingExercise:A},o,T])=>this.exercisesService.setTrainingExercise(o?.uid,T?.id,A).pipe((0,r.map)(M=>(0,_.BU)({trainingExercise:M})),(0,r.catchError)(M=>(0,r.of)((0,_.$b)())))))),this.addAnonymousUserTrainingExerciseRequest$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.Qe),(0,r.mergeMap)(({trainingExercise:A})=>(0,r.of)((0,_.wo)({trainingExercise:A}))))),this.addUserTrainingExerciseRequestError$=(0,e.createEffect)(()=>this.actions$.pipe((0,e.ofType)(_.$b,_.z3),(0,r.map)(()=>(0,S.showError)({errorMessage:`${this.translateService.instant("apps.workout-trainings.errors.trainingExerciseCouldntBeCreated")}`}))))}static#t=this.\u0275fac=function(o){return new(o||C)};static#E=this.\u0275prov=E.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac})}return C})()},3424:(O,i,t)=>{t.d(i,{Ny:()=>I,gT:()=>r,jv:()=>a});var E=t(5793),e=t(3515);const I="workout-training",r={training:void 0},a=(0,E.createReducer)(r,(0,E.on)(e.yH,s=>({...r})),(0,E.on)(e.iG,e.Vt,(s,{training:n})=>({...s,training:n})),(0,E.on)(e.BU,e.wo,(s,{trainingExercise:n})=>({...s,training:{...s.training,trainingExercises:[...s.training?.trainingExercises||[],n]}})))},5795:(O,i,t)=>{t.d(i,{v0:()=>s,zp:()=>a});var E=t(5793),e=t(3424),I=t(5307);const r=(0,E.createSelector)(I.E,n=>n[e.Ny]),a=(0,E.createSelector)(r,n=>n.training),s=n=>(0,E.createSelector)(a,R=>R?.trainingExercises?.find(u=>u.id===n))}}]);