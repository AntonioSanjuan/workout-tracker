(self.webpackChunkworkout_trainings=self.webpackChunkworkout_trainings||[]).push([[8592],{7872:(j,S,t)=>{t.d(S,{c:()=>s});var e=t(5793),c=t(4232),d=t(3424);const n={...c.trainingsHubInitialState,[d.Ny]:d.pY},s=(M=n,E)=>(0,e.combineReducers)({[c.TRAININGS_LIST_FEATURE_KEY]:c.trainingsListReducer,[d.Ny]:d.Qe},n)(M,E)},8591:(j,S,t)=>{t.d(S,{y:()=>s});var e=t(9964),d=t(3731);let s=/^(179|3116)$/.test(t.j)?(()=>{class M{static#e=this.\u0275fac=function(f){return new(f||M)};static#t=this.\u0275cmp=d.\u0275\u0275defineComponent({type:M,selectors:[["workout-tracker-trainings"]],standalone:!0,features:[d.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(f,u){1&f&&d.\u0275\u0275element(0,"router-outlet")},dependencies:[e.RouterOutlet],styles:["[_nghost-%COMP%]{height:100%}"]})}return M})():null},1201:(j,S,t)=>{t.d(S,{l:()=>o});var e=t(3731),s=(t(9964),t(5793)),E=t(3635),f=t(3515),u=t(227);let o=/^(179|3116)$/.test(t.j)?(()=>{class _{constructor(){this.store=(0,e.inject)(s.Store)}resolve(a){const l=a.paramMap.get("id");return l?(this.store.dispatch((0,f.zl)({trainingId:l})),this.store.select(u.dK)):(0,E.of)(void 0)}static#e=this.\u0275fac=function(l){return new(l||_)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})():null},8549:(j,S,t)=>{t.d(S,{$:()=>o});var e=t(3731),s=(t(9964),t(5793)),E=t(4232),f=t(3635);let o=/^(179|3116)$/.test(t.j)?(()=>{class _{constructor(){this.store=(0,e.inject)(s.Store)}resolve(a){return this.store.dispatch((0,E.getUserTrainingsListRequest)()),this.store.select((0,E.getIsAppLoaded)(E.AppInit.TRAININGS)).pipe((0,f.filter)(l=>l),(0,f.mergeMap)(()=>this.store.select(E.getTrainingsList)))}static#e=this.\u0275fac=function(l){return new(l||_)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})():null},3515:(j,S,t)=>{t.d(S,{I4:()=>m,Ip:()=>i,_C:()=>_,ge:()=>M,t1:()=>a,yL:()=>u,zl:()=>n});var e=t(5793);const n=(0,e.createAction)("GET USER TRAINING DETAILS",(0,e.props)()),M=(0,e.createAction)("GET AUTHENTICATED USER TRAINING DETAILS Request",(0,e.props)()),i=(0,e.createAction)("GET AUTHENTICATED USER TRAINING DETAILS Success",(0,e.props)()),u=(0,e.createAction)("GET AUTHENTICATED USER TRAINING DETAILS Error",(0,e.props)()),_=(0,e.createAction)("GET ANONYMOUS USER TRAINING DETAILS Request",(0,e.props)()),a=(0,e.createAction)("GET ANONYMOUS USER TRAINING DETAILS Success",(0,e.props)()),m=(0,e.createAction)("GET ANONYMOUS USER TRAINING DETAILS Error",(0,e.props)())},7298:(j,S,t)=>{t.d(S,{r:()=>w});var e=t(3731),d=t(1705),s=t(3635),E=t(9964),f=t(5004),o=t(5793),r=t(4232),l=t(3114),p=t(3515),C=t(8034);let w=/^(179|3116)$/.test(t.j)?(()=>{class h{constructor(){this.exercisesService=(0,e.inject)(C.TrainingsService),this.translateService=(0,e.inject)(f.TranslateService),this.actions$=(0,e.inject)(d.Actions),this.router=(0,e.inject)(E.Router),this.store=(0,e.inject)(o.Store),this.getUserTrainingDetailsRequest$=(0,d.createEffect)(()=>this.actions$.pipe((0,d.ofType)(p.zl),(0,d.concatLatestFrom)(()=>this.store.select(r.getUser)),(0,s.mergeMap)(([{trainingId:T},v])=>(0,s.iif)(()=>!!v,(0,s.of)((0,p.ge)({trainingId:T})),(0,s.of)((0,p._C)({trainingId:T})))))),this.getAuthenticatedUserTrainingDetailsRequest$=(0,d.createEffect)(()=>this.actions$.pipe((0,d.ofType)(p.ge),(0,d.concatLatestFrom)(()=>this.store.select(r.getUser)),(0,s.mergeMap)(([{trainingId:T},v])=>this.exercisesService.getTraining(v?.uid,T).pipe((0,s.map)(G=>(0,p.Ip)({training:G})),(0,s.catchError)(G=>(this.router.navigate([l.AppRoutes.WorkoutTrainingsList]),(0,s.of)((0,p.yL)({trainingId:T})))))))),this.getAnonymousUserTrainingDetailsRequest$=(0,d.createEffect)(()=>this.actions$.pipe((0,d.ofType)(p._C),(0,s.mergeMap)(({trainingId:T})=>this.store.select((0,r.getTrainingById)(T)).pipe((0,s.take)(1),(0,s.map)(v=>v?(0,p.t1)({training:v}):(0,p.I4)({trainingId:T})))))),this.getTrainingDetailsRequestError$=(0,d.createEffect)(()=>this.actions$.pipe((0,d.ofType)(p.I4,p.yL),(0,s.map)(({trainingId:T})=>(0,r.showError)({errorMessage:`${this.translateService.instant("apps.workout-trainings.errors.trainingNotFound",{trainingId:T.toUpperCase()})}`}))))}static#e=this.\u0275fac=function(v){return new(v||h)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac})}return h})():null},3424:(j,S,t)=>{t.d(S,{Ny:()=>n,Qe:()=>M,pY:()=>s});var e=t(5793),d=t(3515);const n="training",s={details:{training:void 0}},M=(0,e.createReducer)(s,(0,e.on)(d.Ip,d.t1,(E,{training:i})=>({...E,details:{...E.details,training:i}})))},227:(j,S,t)=>{t.d(S,{dK:()=>E,fT:()=>M});var e=t(5793),c=t(3424),d=t(4232);const n=(0,e.createFeatureSelector)(d.TRAININGS_HUB_FEATURE_KEY),s=(0,e.createSelector)(n,i=>i[c.Ny]),M=(0,e.createSelector)(s,i=>i.details),E=(0,e.createSelector)(M,i=>i.training)},5304:(j,S,t)=>{t.r(S),t.d(S,{DateAdapter:()=>c,ExerciseTemplateAdapter:()=>d,TrainingAdapter:()=>n,TrainingExerciseAdapter:()=>s,TrainingExerciseSerieAdapter:()=>M});var e=t(3894);class c{static toState(i){return i.toDate()}static toDto(i){return e.EK.fromDate(i)}}class d{static toState(i,f){return{...i,id:f,creationDate:c.toState(i.creationDate),lastModification:i.lastModification?c.toState(i.lastModification):void 0}}static toDto(i){return{name:i.name,musclesInvolved:i.musclesInvolved,image:i.image,observations:i.observations,creationDate:c.toDto(i.creationDate),lastModification:i.lastModification?c.toDto(i.lastModification):void 0}}}class n{static toState(i,f,u){return{...i,id:f,trainingExercises:u,creationDate:c.toState(i.creationDate),finishDate:i.finishDate?c.toState(i.finishDate):void 0}}static toDto(i){return{observations:i.observations,muscleGroups:i.muscleGroups,creationDate:c.toDto(i.creationDate),finishDate:i.finishDate?c.toDto(i.finishDate):void 0}}}class s{static toState(i,f,u,o){return{id:f,exerciseTemplate:u,series:o}}static toDto(i,f){return{exerciseTemplateId:f}}}class M{static toState(i,f){return{...i,id:f}}static toDto(i){return{weight:i.weight,repetitions:i.repetitions,observations:i.observations}}}},7906:(j,S,t)=>{t.r(S),t.d(S,{AppRoutes:()=>e,BannerType:()=>d,LibsModelsModule:()=>f,MessageTypes:()=>c,MuscleGroups:()=>n,MusclesInvolved:()=>s,muscleInvolvedByGroups:()=>M});var e=function(u){return u.Home="/",u.Login="/account/login",u.SignUp="/account/signUp",u.Settings="/account/settings",u.WorkoutExerciseTemplatesList="/exercise-templates",u.WorkoutTrainingsList="/trainings",u}(e||{}),c=function(u){return u[u.Error=0]="Error",u}(c||{}),d=function(u){return u[u.Info=0]="Info",u[u.Warning=1]="Warning",u[u.Success=2]="Success",u[u.Error=3]="Error",u}(d||{}),n=function(u){return u.Legs="Legs",u.Arms="Arms",u.Shoulder="Shoulder",u.Back="Back",u.Chest="Chest",u.Core="Core",u}(n||{}),s=function(u){return u.Abdominals="Abdominals",u.Abductors="Abductors",u.Adductors="Adductors",u.Biceps="Biceps",u.Calves="Calves",u.Chest="Chest",u.Forearms="Forearms",u.Glutes="Glutes",u.Hamstrings="Hamstrings",u.Lats="Lats",u.Lower_back="Lower_back",u.Middle_back="Middle_back",u.Neck="Neck",u.Quadriceps="Quadriceps",u.Traps="Traps",u.Triceps="Triceps",u.Anterior_deltoid="Anterior_deltoid",u.Medial_deltoid="Medial_deltoid",u.Posterior_deltoid="Posterior_deltoid",u}(s||{});const M={[n.Chest]:[s.Chest],[n.Back]:[s.Lower_back,s.Middle_back],[n.Legs]:[s.Abductors,s.Adductors,s.Quadriceps,s.Hamstrings,s.Calves],[n.Arms]:[s.Biceps,s.Triceps,s.Forearms],[n.Shoulder]:[s.Anterior_deltoid,s.Medial_deltoid,s.Posterior_deltoid],[n.Core]:[s.Abdominals]};var E=t(6571),i=t(3731);let f=(()=>{class u{static#e=this.\u0275fac=function(r){return new(r||u)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:u});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({imports:[E.CommonModule]})}return u})()},5111:(j,S,t)=>{t.r(S),t.d(S,{AuthService:()=>s,LibsServicesAuthModule:()=>i,authServiceMock:()=>M});var e=t(3731),c=t(3635),d=t(8251),n=t(7142);let s=(()=>{class f{constructor(){this.auth=(0,e.inject)(d.zQ)}logIn(o,_){return(0,c.from)(this.auth.signInWithEmailAndPassword(o,_))}logOut(){return(0,c.from)(this.auth.signOut())}signUp(o,_){return(0,c.from)(this.auth.createUserWithEmailAndPassword(o,_))}googleSignIn(){const o=new n.Z.auth.GoogleAuthProvider;return(0,c.from)(this.auth.signInWithPopup(o))}isNewUser(o){return!!o?.additionalUserInfo?.isNewUser}static#e=this.\u0275fac=function(_){return new(_||f)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})();const M={logIn:()=>(0,c.of)({}),logOut:()=>(0,c.of)(),signUp:()=>(0,c.of)({}),googleSignIn:()=>(0,c.of)({}),isNewUser:()=>!0};var E=t(6571);let i=(()=>{class f{static#e=this.\u0275fac=function(_){return new(_||f)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:f});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[s],imports:[E.CommonModule]})}return f})()},6052:(j,S,t)=>{t.r(S),t.d(S,{CultureService:()=>_,LibsServicesCultureModule:()=>r});var e=t(6571),c=t(3731),d=t(5004),n=t(3635);const s=void 0,E=["es",[["a.\xa0m.","p.\xa0m."],s,s],s,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],s,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],s,[["a. C.","d. C."],s,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",s,s,s],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[s,"$"],BRL:[s,"R$"],BYN:[s,"\u0440."],CAD:[s,"$"],CNY:[s,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[s,"\xa3"],HKD:[s,"$"],ILS:[s,"\u20aa"],INR:[s,"\u20b9"],JPY:[s,"\xa5"],KRW:[s,"\u20a9"],MXN:[s,"$"],NZD:[s,"$"],PHP:[s,"\u20b1"],RON:[s,"L"],THB:["\u0e3f"],TWD:[s,"NT$"],USD:["US$","$"],XAF:[],XCD:[s,"$"],XOF:[]},"ltr",function M(a){const l=a,m=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length,C=parseInt(a.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===l?1:0===C&&0!==m&&m%1e6==0&&0===p||!(C>=0&&C<=5)?4:5}],i=void 0,u=["en",[["a","p"],["AM","PM"],i],[["AM","PM"],i,i],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],i,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",i,"{1} 'at' {0}",i],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f(a){const m=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===p?1:5}];var o=t(3122);let _=(()=>{class a{constructor(){this.defaultLangCode="ES-ES",this.translateService=(0,c.inject)(d.TranslateService),this.dateAdapter=(0,c.inject)(o.DateAdapter),this.acceptedLanguages=["EN-GB","ES-ES"]}initialize(){this.registerLocales(),this.translateService.setDefaultLang(this.defaultLangCode),this.translateService.addLangs(this.acceptedLanguages)}changeLanguage(m){return this.setCulture(m)}getBrowserLanguage(){return this.getLangCode(this.translateService.getBrowserCultureLang()||this.defaultLangCode)}changeDarkMode(m){this.setDarkMode(m)}getBrowserIsDarkMode(){return!1}registerLocales(){(0,e.registerLocaleData)(u),(0,e.registerLocaleData)(E)}getLangCode(m){return this.acceptedLanguages.find(C=>C===m.toUpperCase())||this.defaultLangCode}setCulture(m){return(0,e.registerLocaleData)(this.getLangCode(m)),this.dateAdapter.setLocale(m),this.translateService.use(this.getLangCode(m)).pipe((0,n.first)())}setDarkMode(m){console.log("setDarkMode",m)}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac})}return a})(),r=(()=>{class a{static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:a});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[_],imports:[e.CommonModule]})}return a})()},8388:(j,S,t)=>{t.r(S),t.d(S,{DialogService:()=>s,LibsServicesDialogModule:()=>M});var e=t(6571),c=t(8978),d=t(3731),n=t(9576);let s=(()=>{class E{constructor(){this.dialog=(0,d.inject)(n.MatDialog)}showDialog(f,u,o){return this.dialog.open(f,{...o,panelClass:"dialogClass",disableClose:!u}).afterClosed()}static#e=this.\u0275fac=function(u){return new(u||E)};static#t=this.\u0275prov=d.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}return E})(),M=(()=>{class E{static#e=this.\u0275fac=function(u){return new(u||E)};static#t=this.\u0275mod=d.\u0275\u0275defineNgModule({type:E});static#r=this.\u0275inj=d.\u0275\u0275defineInjector({providers:[s],imports:[c.UiModule,e.CommonModule]})}return E})()},6992:(j,S,t)=>{t.r(S),t.d(S,{ExerciseTemplatesRefService:()=>M,ExerciseTemplatesService:()=>E,LibsServicesExerciseTemplatesModule:()=>i,exerciseTemplatesRefServiceMock:()=>u,exerciseTemplatesServiceMock:()=>f});var e=t(6571),c=t(3731),d=t(8154),n=t(3635),s=t(6369);let M=(()=>{class o{constructor(){this.firebaseDataBase=(0,c.inject)(s.ST)}getExerciseTemplatesCollectionRef(r){return this.firebaseDataBase.collection(`user/${r}/exercises`)}getExerciseTemplateDocRef(r,a){return this.firebaseDataBase.doc(`user/${r}/exercises/${a}`)}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})}return o})(),E=(()=>{class o{constructor(){this.exerciseTemplatesRefService=(0,c.inject)(M)}getExerciseTemplate(r,a){return(0,n.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(r,a).get()).pipe((0,n.map)(l=>d.ExerciseTemplateAdapter.toState({...l.data()},l.id)))}getExerciseTemplates(r){return this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(r).get().pipe((0,n.map)(a=>a.docs.map(l=>d.ExerciseTemplateAdapter.toState({...l.data()},l.id))))}setExerciseTemplate(r,a){const l=d.ExerciseTemplateAdapter.toDto(a);return(0,n.from)(this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(r).add(l)).pipe((0,n.map)(m=>d.ExerciseTemplateAdapter.toState({...l},m.id)))}updateExerciseTemplate(r,a){a.lastModification=new Date;const l=d.ExerciseTemplateAdapter.toDto(a);return(0,n.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(r,a.id).update(l)).pipe((0,n.map)(()=>({...a})))}deleteExerciseTemplate(r,a){return(0,n.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(r,a.id).delete()).pipe((0,n.map)(()=>!0))}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})}return o})(),i=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:o});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[E,M],imports:[e.CommonModule]})}return o})();const f={getExerciseTemplate:()=>(0,n.of)({}),getExerciseTemplates:()=>(0,n.of)([]),setExerciseTemplate:()=>(0,n.of)({}),updateExerciseTemplate:()=>(0,n.of)({}),deleteExerciseTemplate:()=>(0,n.of)(!0)},u={getExerciseTemplatesCollectionRef:()=>({}),getExerciseTemplateDocRef:()=>({})}},8959:(j,S,t)=>{t.r(S),t.d(S,{LibsServicesMessageModule:()=>E,MessageService:()=>M});var e=t(6571),c=t(8978),d=t(3731),n=t(3496),s=t(3635);let M=(()=>{class i{constructor(){this.snackBar=(0,d.inject)(n.MatSnackBar)}showAlertMessage(u,o){return this.snackBar.open(o,void 0,{horizontalPosition:"right",verticalPosition:"top",duration:3e3}).afterDismissed().pipe((0,s.map)(a=>a.dismissedByAction))}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=d.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac})}return i})(),E=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=d.\u0275\u0275defineNgModule({type:i});static#r=this.\u0275inj=d.\u0275\u0275defineInjector({providers:[M],imports:[c.UiModule,e.CommonModule]})}return i})()},1759:(j,S,t)=>{t.r(S),t.d(S,{LibsServicesTrainingsModule:()=>f,TrainingsService:()=>i,trainingsServiceMock:()=>u});var e=t(6571),c=t(3731),d=t(8154),n=t(3635),s=t(8467),M=t(6369);let E=(()=>{class o{constructor(){this.firebaseDataBase=(0,c.inject)(M.ST)}getTrainingsPaginatedQuery(r){return l=>{let m=l;return r.filters.betweenDates&&(console.log("trainingQuery.filters.betweenDates",r.filters.betweenDates),m=m.where("creationDate",">=",d.DateAdapter.toDto(r.filters.betweenDates.fromDate)).where("creationDate","<=",d.DateAdapter.toDto(r.filters.betweenDates.toDate))),r.filters.muscleGroups.length&&(console.log("trainingQuery.filters.muscleGroups",r.filters.muscleGroups),m=m.where("muscleGroups","array-contains-any",r.filters.muscleGroups)),m=m.limit(r.pagination.pageElements).orderBy("creationDate","desc"),r.pagination.lastElement&&(m=m.startAt(d.DateAdapter.toDto(r.pagination.lastElement.creationDate))),m}}getTrainingsCollectionRef(r){return this.firebaseDataBase.collection(`user/${r}/trainings`)}getTrainingsPaginatedCollectionRef(r,a){const l=this.getTrainingsPaginatedQuery(a);return this.firebaseDataBase.collection(`user/${r}/trainings`,l)}getTrainingExercisesCollectionRef(r,a){return this.firebaseDataBase.collection(`user/${r}/trainings/${a}/exercises`)}getTrainingExerciseSeriesCollectionRef(r,a,l){return this.firebaseDataBase.collection(`user/${r}/trainings/${a}/exercises/${l}/series`)}getTrainingDocRef(r,a){return this.firebaseDataBase.doc(`user/${r}/trainings/${a}`)}getTrainingExerciseDocRef(r,a,l){return this.firebaseDataBase.doc(`user/${r}/trainings/${a}/exercises/${l}`)}getTrainingExerciseSerieDocRef(r,a,l,m){return this.firebaseDataBase.doc(`user/${r}/trainings/${a}/exercises/${l}/series/${m}`)}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})}return o})(),i=(()=>{class o{constructor(){this.exerciseRefService=(0,c.inject)(s.ExerciseTemplatesRefService),this.trainingsRefService=(0,c.inject)(E)}getTraining(r,a){return this.trainingsRefService.getTrainingDocRef(r,a).get().pipe((0,n.switchMap)(l=>{const m=l.id,p=l.data();return this.getTrainingExercises(r,m).pipe((0,n.map)(C=>d.TrainingAdapter.toState(p,m,C)))}))}getTrainings(r,a){return this.trainingsRefService.getTrainingsPaginatedCollectionRef(r,a).get().pipe((0,n.switchMap)(l=>{const m=[];return l.docs.forEach(p=>{const C=p.id,B=p.data(),w=this.getTrainingExercises(r,C).pipe((0,n.map)(h=>d.TrainingAdapter.toState(B,C,h)));m.push(w)}),(0,n.forkJoin)(m).pipe((0,n.defaultIfEmpty)([]))}),(0,n.catchError)(l=>{throw console.log("error",l),l}))}getTrainingExercises(r,a){return this.trainingsRefService.getTrainingExercisesCollectionRef(r,a).get().pipe((0,n.switchMap)(l=>{const m=[];return l.docs.forEach(p=>{const C=p.id,B=p.data(),w=(0,n.combineLatest)(B.exerciseTemplateId.get(),this.getTrainingExerciseSeries(r,a,C)).pipe((0,n.map)(([h,L])=>d.TrainingExerciseAdapter.toState(B,C,h.data(),L)));m.push(w)}),(0,n.forkJoin)(m).pipe((0,n.defaultIfEmpty)([]))}))}getTrainingExerciseSeries(r,a,l){return this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(r,a,l).get().pipe((0,n.map)(m=>m.docs.map(p=>d.TrainingExerciseSerieAdapter.toState(p.data(),p.id))))}setTraining(r,a){const l=d.TrainingAdapter.toDto(a);return(0,n.from)(this.trainingsRefService.getTrainingsCollectionRef(r).add(l)).pipe((0,n.map)(m=>d.TrainingAdapter.toState(l,m.id,[])))}setTrainingExercise(r,a,l){const m=d.TrainingExerciseAdapter.toDto(l,this.exerciseRefService.getExerciseTemplateDocRef(r,l.exerciseTemplate.id).ref);return(0,n.from)(this.trainingsRefService.getTrainingExercisesCollectionRef(r,a).add(m)).pipe((0,n.map)(p=>d.TrainingExerciseAdapter.toState(m,p.id,l.exerciseTemplate,[])))}setTrainingExerciseSerie(r,a,l,m){const p=d.TrainingExerciseSerieAdapter.toDto(m);return(0,n.from)(this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(r,a,l).add(p)).pipe((0,n.map)(C=>d.TrainingExerciseSerieAdapter.toState(p,C.id)))}updateTraining(r,a){const l=d.TrainingAdapter.toDto(a);return(0,n.from)(this.trainingsRefService.getTrainingDocRef(r,a.id).update(l)).pipe((0,n.map)(()=>({...a})))}updateTrainingExercise(r,a,l){const m=d.TrainingExerciseAdapter.toDto(l,this.exerciseRefService.getExerciseTemplateDocRef(r,l.exerciseTemplate.id).ref);return(0,n.from)(this.trainingsRefService.getTrainingExerciseDocRef(r,a,l.id).update(m)).pipe((0,n.map)(()=>({...l})))}updateTrainingExerciseSerie(r,a,l,m){const p=d.TrainingExerciseSerieAdapter.toDto(m);return(0,n.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(r,a,l,m.id).update(p)).pipe((0,n.map)(()=>({...m})))}deleteTraining(r,a){return(0,n.from)(this.trainingsRefService.getTrainingDocRef(r,a.id).delete()).pipe((0,n.map)(()=>!0))}deleteTrainingExercise(r,a,l){return(0,n.from)(this.trainingsRefService.getTrainingExerciseDocRef(r,a,l.id).delete()).pipe((0,n.map)(()=>!0))}deleteTrainingExerciseSerie(r,a,l,m){return(0,n.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(r,a,l,m.id).delete()).pipe((0,n.map)(()=>!0))}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac})}return o})(),f=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:o});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[i,E],imports:[e.CommonModule]})}return o})();const u={getTraining:()=>(0,n.of)({}),getTrainings:()=>(0,n.of)([]),setTraining:()=>(0,n.of)({}),setTrainingExercise:()=>(0,n.of)({}),setTrainingExerciseSerie:()=>(0,n.of)({}),updateTraining:()=>(0,n.of)({}),updateTrainingExercise:()=>(0,n.of)({}),updateTrainingExerciseSerie:()=>(0,n.of)({}),deleteTraining:()=>(0,n.of)(!0),deleteTrainingExercise:()=>(0,n.of)(!0),deleteTrainingExerciseSerie:()=>(0,n.of)(!0)}},7185:(j,S,t)=>{t.r(S),t.d(S,{LibsServicesUserSettingsModule:()=>E,UserSettingsService:()=>M,userSettingsServiceMock:()=>i});var e=t(6571),c=t(3731),d=t(6369),n=t(3635),s=t(3690);let M=(()=>{class f{constructor(){this.firebaseDataBase=(0,c.inject)(d.ST),this.cultureService=(0,c.inject)(s.CultureService)}getUserSettingsDocRef(o){return this.firebaseDataBase.collection("user").doc(o)}applyUserSettings(o){this.cultureService.changeLanguage(o.language),this.cultureService.changeDarkMode(o.darkMode)}getBrowserSettings(){return{language:this.cultureService.getBrowserLanguage(),darkMode:this.cultureService.getBrowserIsDarkMode()}}getAnonymousSettings(){const o=this.getBrowserSettings();return this.applyUserSettings(o),(0,n.of)(o)}getUserSettings(o){return this.getUserSettingsDocRef(o).get().pipe((0,n.map)(_=>{const r=_.data();return this.applyUserSettings(r),r}))}setUserSettings(o){const _=this.getBrowserSettings();return(0,n.from)(this.getUserSettingsDocRef(o).set(_,{})).pipe((0,n.map)(()=>(this.applyUserSettings(_),_)))}updateAnonymousSettings(o){return this.applyUserSettings(o),(0,n.of)(o)}updateUserSettings(o,_){return(0,n.from)(this.getUserSettingsDocRef(o).update(_)).pipe((0,n.map)(()=>(this.applyUserSettings(_),_)))}static#e=this.\u0275fac=function(_){return new(_||f)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})(),E=(()=>{class f{static#e=this.\u0275fac=function(_){return new(_||f)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:f});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[M],imports:[e.CommonModule]})}return f})();const i={setUserSettings:()=>(0,n.of)({}),getUserSettings:()=>(0,n.of)({}),getAnonymousSettings:()=>(0,n.of)({}),updateAnonymousSettings:()=>(0,n.of)({}),updateUserSettings:()=>(0,n.of)({})}},5211:(j,S,t)=>{t.r(S),t.d(S,{IntersectionObserverDirective:()=>N,LocalizedDatePipe:()=>R,MuscleGroupPillDirective:()=>I,MuscleInvolvedGroupPipe:()=>F,UiModule:()=>T,accordionAnimation:()=>O,collapseAnimation:()=>z,opacityAnimation:()=>V,rotateAnimation:()=>k,shakeAnimation:()=>H});var e=t(6571),c=t(7141),d=t(8279),n=t(5077),s=t(470),M=t(7666),E=t(5160),i=t(3731);const f=[d.MatInputModule,c.MatSlideToggleModule,n.MatFormFieldModule,s.MatButtonModule,E.MatTableModule,M.MatIconModule];let u=(()=>{class x{static#e=this.\u0275fac=function(P){return new(P||x)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:x});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({imports:[f,d.MatInputModule,c.MatSlideToggleModule,n.MatFormFieldModule,s.MatButtonModule,E.MatTableModule,M.MatIconModule]})}return x})();var o=t(6751),_=t(4168),r=t(5416),a=t(9698),l=t(3496),m=t(5189),p=t(3122),C=t(6278),B=t(9576),w=t(5388),h=t(4503),L=t(5692);let T=(()=>{class x{static#e=this.\u0275fac=function(P){return new(P||x)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:x});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[(0,p.provideNativeDateAdapter)(),{provide:p.MAT_DATE_LOCALE,useValue:"es-ES"}],imports:[e.CommonModule,o.FormsModule,n.MatFormFieldModule,u,o.ReactiveFormsModule,_.MatPaginatorModule,r.MatCardModule,l.MatSnackBarModule,B.MatDialogModule,w.MatButtonToggleModule,s.MatButtonModule,h.MatStepperModule,L.MatDatepickerModule,e.CommonModule,o.FormsModule,n.MatFormFieldModule,u,o.ReactiveFormsModule,_.MatPaginatorModule,a.MatProgressSpinnerModule,r.MatCardModule,m.MatSelectModule,C.MatCheckboxModule,c.MatSlideToggleModule,p.MatOptionModule,l.MatSnackBarModule,B.MatDialogModule,w.MatButtonToggleModule,s.MatButtonModule,h.MatStepperModule,L.MatDatepickerModule]})}return x})();var v=t(3114);const G={[v.MuscleGroups.Arms]:"#ffffff",[v.MuscleGroups.Back]:"#000000",[v.MuscleGroups.Chest]:"#000000",[v.MuscleGroups.Legs]:"#000000",[v.MuscleGroups.Shoulder]:"#000000",[v.MuscleGroups.Core]:"#000000"},y={[v.MuscleGroups.Arms]:"#007cae",[v.MuscleGroups.Back]:"#00a6e1",[v.MuscleGroups.Chest]:"#33b44a",[v.MuscleGroups.Legs]:"#ff6921",[v.MuscleGroups.Shoulder]:"#ffc20e",[v.MuscleGroups.Core]:"#ff6921"};let I=(()=>{class x{constructor(D){this.el=D}ngOnChanges(D){this.muscleGroup&&(this.el.nativeElement.style.color=G[this.muscleGroup]||G.Arms,this.el.nativeElement.style.backgroundColor=y[this.muscleGroup]||y.Arms)}static#e=this.\u0275fac=function(P){return new(P||x)(i.\u0275\u0275directiveInject(i.ElementRef))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:x,selectors:[["","appMuscleGroupPill",""]],inputs:{muscleGroup:"muscleGroup"},standalone:!0,features:[i.\u0275\u0275NgOnChangesFeature]})}return x})();var U=t(3635);let N=(()=>{class x{constructor(D){this.element=D,this.offset=0,this.active=!1,this.isIntersecting=new i.EventEmitter,this._isIntersecting=!1}ngOnInit(){this.subscription=this.createAndObserve()}ngOnDestroy(){this.subscription.unsubscribe()}createAndObserve(){const D={root:document.querySelector("#rootObserver"),rootMargin:`${this.offset}px`,threshold:0};return new U.Observable(P=>{const Y=new IntersectionObserver(Q=>{const{isIntersecting:J}=Q[0];P.next(J)},D);return Y.observe(this.element.nativeElement),{unsubscribe(){Y.disconnect()}}}).subscribe(P=>{this.active&&(this.isIntersecting.emit(P),this._isIntersecting=!P)})}static#e=this.\u0275fac=function(P){return new(P||x)(i.\u0275\u0275directiveInject(i.ElementRef))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:x,selectors:[["","appIntersectionObserver",""]],inputs:{offset:"offset",active:"active"},outputs:{isIntersecting:"isIntersecting"},standalone:!0})}return x})(),F=(()=>{class x{transform(D){return Object.keys(v.muscleInvolvedByGroups).find(P=>v.muscleInvolvedByGroups[P].includes(D))}static#e=this.\u0275fac=function(P){return new(P||x)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"appMuscleInvolvedGroup",type:x,pure:!0,standalone:!0})}return x})();var W=t(5004);let R=(()=>{class x{constructor(){this.translateService=(0,i.inject)(W.TranslateService)}transform(D,P="shortDate"){return new e.DatePipe(this.translateService.currentLang).transform(D,P)}static#e=this.\u0275fac=function(P){return new(P||x)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"localizedDate",type:x,pure:!1,standalone:!0})}return x})();var g=t(8012);const O=(0,g.trigger)("accordion",[(0,g.state)("false",(0,g.style)({height:g.AUTO_STYLE,visibility:g.AUTO_STYLE})),(0,g.state)("true",(0,g.style)({height:"0",visibility:"hidden"})),(0,g.transition)("false => true",(0,g.animate)("500ms ease-in")),(0,g.transition)("true => false",(0,g.animate)("500ms ease-out"))]),z=(0,g.trigger)("collapse",[(0,g.state)("false",(0,g.style)({left:g.AUTO_STYLE})),(0,g.state)("true",(0,g.style)({left:"-100%"})),(0,g.transition)("false => true",(0,g.animate)("500ms ease-in")),(0,g.transition)("true => false",(0,g.animate)("500ms ease-out"))]),k=(0,g.trigger)("rotate",[(0,g.state)("false",(0,g.style)({transform:"rotate(0)"})),(0,g.state)("true",(0,g.style)({transform:"rotate(180deg)"})),(0,g.transition)("false => true",(0,g.animate)("200ms ease-in")),(0,g.transition)("true => false",(0,g.animate)("200ms ease-out"))]),V=(0,g.trigger)("opacity",[(0,g.state)("false",(0,g.style)({filter:"opacity(1)"})),(0,g.state)("true",(0,g.style)({filter:"opacity(0.5)"})),(0,g.transition)("false => true",(0,g.animate)("200ms ease-in")),(0,g.transition)("true => false",(0,g.animate)("200ms ease-out"))]),H=(0,g.trigger)("shake",[(0,g.transition)("false => true",[(0,g.animate)("0.3s",(0,g.keyframes)([(0,g.style)({transform:"translateY(0)",offset:0}),(0,g.style)({transform:"translateY(-10px)",offset:.5}),(0,g.style)({transform:"translateY(0)",offset:1})]))])])},1993:(j,S,t)=>{t.r(S),t.d(S,{takeUntilDestroyed:()=>n,toObservable:()=>s,toSignal:()=>M});var e=t(3731),c=t(3635),d=t(5893);function n(E){E||((0,e.assertInInjectionContext)(n),E=(0,e.inject)(e.DestroyRef));const i=new c.Observable(f=>E.onDestroy(f.next.bind(f)));return f=>f.pipe((0,d.takeUntil)(i))}function s(E,i){!i?.injector&&(0,e.assertInInjectionContext)(s);const f=i?.injector??(0,e.inject)(e.Injector),u=new c.ReplaySubject(1),o=(0,e.effect)(()=>{let _;try{_=E()}catch(r){return void(0,e.untracked)(()=>u.error(r))}(0,e.untracked)(()=>u.next(_))},{injector:f,manualCleanup:!0});return f.get(e.DestroyRef).onDestroy(()=>{o.destroy(),u.complete()}),u.asObservable()}function M(E,i){const f=!i?.manualCleanup;f&&!i?.injector&&(0,e.assertInInjectionContext)(M);const u=f?i?.injector?.get(e.DestroyRef)??(0,e.inject)(e.DestroyRef):null;let o;o=(0,e.signal)(i?.requireSync?{kind:0}:{kind:1,value:i?.initialValue});const _=E.subscribe({next:r=>o.set({kind:1,value:r}),error:r=>{if(i?.rejectErrors)throw r;o.set({kind:2,error:r})}});return u?.onDestroy(_.unsubscribe.bind(_)),(0,e.computed)(()=>{const r=o();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new e.\u0275RuntimeError(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},6682:(j,S,t)=>{t.r(S),t.d(S,{VERSION:()=>E,keepUnstableUntilFirst:()=>L,observeInsideAngular:()=>h,observeOutsideAngular:()=>w,\u0275APP_CHECK_PROVIDER_NAME:()=>_,\u0275AngularFireSchedulers:()=>m,\u0275AppCheckInstances:()=>o,\u0275ZoneScheduler:()=>a,\u0275getAllInstancesOf:()=>u,\u0275getDefaultInstanceOf:()=>f,\u0275isSupportedError:()=>i,\u0275keepUnstableUntilFirstFactory:()=>T,\u0275zoneWrap:()=>G});var e=t(3731),c=t(534);(0,c.registerVersion)("firebase","10.8.0","app");var s=t(3635),M=t(5893);const E=new e.Version("ANGULARFIRE2_VERSION"),i=y=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${y} in the constructor, first ensure that ${y} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${y})\`.`;function f(y,I,U){if(I){if(1===I.length)return I[0];const W=I.filter(R=>R.app===U);if(1===W.length)return W[0]}return U.container.getProvider(y).getImmediate({optional:!0})}const u=(y,I)=>{const U=I?[I]:(0,c.getApps)(),N=[];return U.forEach(F=>{F.container.getProvider(y).instances.forEach(R=>{N.includes(R)||N.push(R)})}),N};class o{constructor(){return u(_)}}const _="app-check";function r(){}class a{zone;delegate;constructor(I,U=s.queueScheduler){this.zone=I,this.delegate=U}now(){return this.delegate.now()}schedule(I,U,N){const F=this.zone;return this.delegate.schedule(function(R){F.runGuarded(()=>{I.apply(this,[R])})},U,N)}}class l{zone;task=null;constructor(I){this.zone=I}call(I,U){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",r,{},r,r)),U.pipe((0,M.tap)({next:N,complete:N,error:N})).subscribe(I).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m=(()=>{class y{ngZone;outsideAngular;insideAngular;constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new a(Zone.current)),this.insideAngular=U.run(()=>new a(Zone.current,s.asyncScheduler)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(N){return new(N||y)(e.\u0275\u0275inject(e.NgZone))};static \u0275prov=e.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function p(){const y=globalThis.\u0275AngularFireScheduler;if(!y)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return y}function B(y){return p().ngZone.run(()=>y())}function w(y){return y.pipe((0,M.observeOn)(p().outsideAngular))}function h(y){return y.pipe((0,M.observeOn)(p().insideAngular))}function L(y){return T(p())(y)}function T(y){return function(U){return(U=U.lift(new l(y.ngZone))).pipe((0,M.subscribeOn)(y.outsideAngular),(0,M.observeOn)(y.insideAngular))}}const v=(y,I)=>function(){const N=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),B(()=>y.apply(void 0,N))},G=(y,I)=>function(){let U;const N=arguments;for(let W=0;W<arguments.length;W++)"function"==typeof N[W]&&(I&&(U||=B(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",r,{},r,r))),N[W]=v(N[W],U));const F=function C(y){return p().ngZone.runOutsideAngular(()=>y())}(()=>y.apply(this,N));if(!I){if(F instanceof s.Observable){const W=p();return F.pipe((0,M.subscribeOn)(W.outsideAngular),(0,M.observeOn)(W.insideAngular))}return B(()=>F)}return F instanceof s.Observable?F.pipe(L):F instanceof Promise?B(()=>new Promise((W,R)=>F.then(g=>B(()=>W(g)),g=>B(()=>R(g))))):"function"==typeof F&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),F.apply(this,arguments)}:B(()=>F)}},5940:(j,S,t)=>{t.r(S),t.d(S,{MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS:()=>M,MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY:()=>E,MatProgressSpinner:()=>u,MatProgressSpinnerModule:()=>_,MatSpinner:()=>o});var e=t(3731),c=t(6571),d=t(3122);const n=["determinateSpinner"];function s(r,a){if(1&r&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",11),e.\u0275\u0275element(1,"circle",12),e.\u0275\u0275elementEnd()),2&r){const l=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("viewBox",l._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",l._strokeCircumference(),"px")("stroke-dashoffset",l._strokeCircumference()/2,"px")("stroke-width",l._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",l._circleRadius())}}const M=new e.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:E});function E(){return{diameter:i}}const i=100;let u=(()=>{class r{get color(){return this._color||this._defaultColor}set color(l){this._color=l}constructor(l,m,p){this._elementRef=l,this._defaultColor="primary",this._value=0,this._diameter=i,this._noopAnimations="NoopAnimations"===m&&!!p&&!p._forceAnimations,this.mode="mat-spinner"===l.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",p&&(p.color&&(this.color=this._defaultColor=p.color),p.diameter&&(this.diameter=p.diameter),p.strokeWidth&&(this.strokeWidth=p.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(l){this._value=Math.max(0,Math.min(100,l||0))}get diameter(){return this._diameter}set diameter(l){this._diameter=l||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(l){this._strokeWidth=l||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const l=2*this._circleRadius()+this.strokeWidth;return`0 0 ${l} ${l}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(m){return new(m||r)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8),e.\u0275\u0275directiveInject(M))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(m,p){if(1&m&&e.\u0275\u0275viewQuery(n,5),2&m){let C;e.\u0275\u0275queryRefresh(C=e.\u0275\u0275loadQuery())&&(p._determinateCircle=C.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(m,p){2&m&&(e.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===p.mode?p.value:null)("mode",p.mode),e.\u0275\u0275classMap("mat-"+p.color),e.\u0275\u0275styleProp("width",p.diameter,"px")("height",p.diameter,"px")("--mdc-circular-progress-size",p.diameter+"px")("--mdc-circular-progress-active-indicator-width",p.diameter+"px"),e.\u0275\u0275classProp("_mat-animation-noopable",p._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===p.mode))},inputs:{color:"color",mode:"mode",value:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"value","value",e.numberAttribute],diameter:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"diameter","diameter",e.numberAttribute],strokeWidth:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"strokeWidth","strokeWidth",e.numberAttribute]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.\u0275\u0275InputTransformsFeature,e.\u0275\u0275StandaloneFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(m,p){if(1&m&&(e.\u0275\u0275template(0,s,2,8,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",1,2),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(4,"svg",3),e.\u0275\u0275element(5,"circle",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),e.\u0275\u0275elementContainer(9,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementContainer(11,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementContainer(13,8),e.\u0275\u0275elementEnd()()()),2&m){const C=e.\u0275\u0275reference(1);e.\u0275\u0275advance(4),e.\u0275\u0275attribute("viewBox",p._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",p._strokeCircumference(),"px")("stroke-dashoffset",p._strokeDashOffset(),"px")("stroke-width",p._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",p._circleRadius()),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngTemplateOutlet",C),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",C),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",C)}},dependencies:[c.NgTemplateOutlet],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return r})();const o=u;let _=(()=>{class r{static#e=this.\u0275fac=function(m){return new(m||r)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:r});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,d.MatCommonModule]})}return r})()},8091:(j,S,t)=>{t.r(S),t.d(S,{LetDirective:()=>B,PushPipe:()=>w,RenderScheduler:()=>i});var e=t(3731),c=t(3635),d=t(5893);let s=(()=>{class h{static#e=this.\u0275fac=function(v){return new(v||h)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:()=>function n(h){return h instanceof e.NgZone}((0,e.inject)(e.NgZone))?new E:(0,e.inject)(M),providedIn:"root"})}return h})(),M=(()=>{class h extends s{constructor(T){super(),this.appRef=T,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}static#e=this.\u0275fac=function(v){return new(v||h)(e.\u0275\u0275inject(e.ApplicationRef))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();class E extends s{schedule(){}}let i=(()=>{class h{constructor(T,v){this.cdRef=T,this.tickScheduler=v}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}static#e=this.\u0275fac=function(v){return new(v||h)(e.\u0275\u0275inject(e.ChangeDetectorRef),e.\u0275\u0275inject(s))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac})}return h})();function m(h){const L=function u(h){return L=>h[L.type]?.(L)}(h),T=new c.ReplaySubject(1);return{nextPotentialObservable(v){T.next(v)},handlePotentialObservableChanges:()=>T.pipe((0,d.distinctUntilChanged)(),function p(){return(0,c.pipe)((0,d.switchMap)(h=>{const L=function o(h){return(0,c.isObservable)(h)?h:function r(h){return function a(h){return!!h&&"object"==typeof h&&!Array.isArray(h)}(h)&&Object.keys(h).length>0&&Object.values(h).every(c.isObservable)}(h)?(0,c.combineLatest)(function l(h){return Object.keys(h).reduce((L,T)=>({...L,[T]:h[T].pipe((0,d.distinctUntilChanged)())}),{})}(h)):function _(h){return"function"==typeof h?.then}(h)?(0,c.from)(h):new c.Observable(L=>{L.next(h)})}(h);let T=!0,v=!0;return new c.Observable(G=>{const y=(0,e.untracked)(()=>L.subscribe({next(I){G.next({type:"next",value:I,reset:T,synchronous:v}),T=!1},error(I){G.next({type:"error",error:I,reset:T,synchronous:v}),T=!1},complete(){G.next({type:"complete",reset:T,synchronous:v}),T=!1}}));return T&&(G.next({type:"suspense",reset:T,synchronous:!0}),T=!1),v=!1,y})}))}(),(0,d.distinctUntilChanged)(C),(0,d.tap)(L))}}function C(h,L){return h.type===L.type&&h.reset===L.reset&&("next"===L.type?h.value===L.value:"error"!==L.type||h.error===L.error)}let B=(()=>{class h{set ngrxLet(T){this.renderEventManager.nextPotentialObservable(T)}constructor(T,v,G,y){this.mainTemplateRef=T,this.viewContainerRef=v,this.errorHandler=G,this.renderScheduler=y,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=m({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:I=>{this.viewContext.$implicit=I.value,this.viewContext.ngrxLet=I.value,I.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(I.synchronous)},error:I=>{this.viewContext.error=I.error,I.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(I.synchronous),this.errorHandler.handleError(I.error)},complete:I=>{this.viewContext.complete=!0,I.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(I.synchronous)}}),this.subscription=new c.Subscription}static ngTemplateContextGuard(T,v){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(T){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),T||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}static#e=this.\u0275fac=function(v){return new(v||h)(e.\u0275\u0275directiveInject(e.TemplateRef),e.\u0275\u0275directiveInject(e.ViewContainerRef),e.\u0275\u0275directiveInject(e.ErrorHandler),e.\u0275\u0275directiveInject(i))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:h,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:[e.\u0275\u0275InputFlags.None,"ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[e.\u0275\u0275ProvidersFeature([i])]})}return h})(),w=(()=>{class h{constructor(T){this.errorHandler=T,this.renderScheduler=function f(){return new i((0,e.inject)(e.ChangeDetectorRef),(0,e.inject)(s))}(),this.renderEventManager=m({suspense:v=>this.setRenderedValue(void 0,v.synchronous),next:v=>this.setRenderedValue(v.value,v.synchronous),error:v=>{v.reset&&this.setRenderedValue(void 0,v.synchronous),this.errorHandler.handleError(v.error)},complete:v=>{v.reset&&this.setRenderedValue(void 0,v.synchronous)}}),this.subscription=this.renderEventManager.handlePotentialObservableChanges().subscribe()}transform(T){return this.renderEventManager.nextPotentialObservable(T),this.renderedValue}ngOnDestroy(){this.subscription.unsubscribe()}setRenderedValue(T,v){T!==this.renderedValue&&(this.renderedValue=T,v||this.renderScheduler.schedule())}static#e=this.\u0275fac=function(v){return new(v||h)(e.\u0275\u0275directiveInject(e.ErrorHandler,16))};static#t=this.\u0275pipe=e.\u0275\u0275definePipe({name:"ngrxPush",type:h,pure:!1,standalone:!0})}return h})()},493:(j,S,t)=>{t.r(S),t.d(S,{DEFAULT_ROUTER_FEATURENAME:()=>C,FullRouterStateSerializer:()=>L,MinimalRouterStateSerializer:()=>m,NavigationActionTiming:()=>p,ROUTER_CANCEL:()=>f,ROUTER_CONFIG:()=>w,ROUTER_ERROR:()=>o,ROUTER_NAVIGATED:()=>r,ROUTER_NAVIGATION:()=>E,ROUTER_REQUEST:()=>s,RouterStateSerializer:()=>T,StoreRouterConnectingModule:()=>N,createRouterSelector:()=>F,getRouterSelectors:()=>W,provideRouterStore:()=>U,routerCancelAction:()=>u,routerErrorAction:()=>_,routerNavigatedAction:()=>a,routerNavigationAction:()=>i,routerReducer:()=>l,routerRequestAction:()=>M});var e=t(5793),c=t(3731),d=t(9964),n=t(5893);const s="@ngrx/router-store/request",M=(0,e.createAction)(s,(0,e.props)()),E="@ngrx/router-store/navigation",i=(0,e.createAction)(E,(0,e.props)()),f="@ngrx/router-store/cancel",u=(0,e.createAction)(f,(0,e.props)()),o="@ngrx/router-store/error",_=(0,e.createAction)(o,(0,e.props)()),r="@ngrx/router-store/navigated",a=(0,e.createAction)(r,(0,e.props)());function l(R,g){const A=g;switch(A.type){case E:case o:case f:return{state:A.payload.routerState,navigationId:A.payload.event.id};default:return R}}class m{serialize(g){return{root:this.serializeRoute(g.root),url:g.url}}serializeRoute(g){const A=g.children.map(O=>this.serializeRoute(O));return{params:g.params,data:g.data,url:g.url,outlet:g.outlet,title:g.title,routeConfig:g.routeConfig?{path:g.routeConfig.path,pathMatch:g.routeConfig.pathMatch,redirectTo:g.routeConfig.redirectTo,outlet:g.routeConfig.outlet,title:"string"==typeof g.routeConfig.title?g.routeConfig.title:void 0}:null,queryParams:g.queryParams,fragment:g.fragment,firstChild:A[0],children:A}}}var p=function(R){return R[R.PreActivation=1]="PreActivation",R[R.PostActivation=2]="PostActivation",R}(p||{});const C="router",B=new c.InjectionToken("@ngrx/router-store Internal Configuration"),w=new c.InjectionToken("@ngrx/router-store Configuration");function h(R){return{stateKey:C,serializer:m,navigationActionTiming:p.PreActivation,...R}}class L{serialize(g){return{root:this.serializeRoute(g.root),url:g.url}}serializeRoute(g){const A=g.children.map(O=>this.serializeRoute(O));return{params:g.params,paramMap:g.paramMap,data:g.data,url:g.url,outlet:g.outlet,title:g.title,routeConfig:g.routeConfig?{component:g.routeConfig.component,path:g.routeConfig.path,pathMatch:g.routeConfig.pathMatch,redirectTo:g.routeConfig.redirectTo,outlet:g.routeConfig.outlet,title:g.routeConfig.title}:null,queryParams:g.queryParams,queryParamMap:g.queryParamMap,fragment:g.fragment,component:g.routeConfig?g.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:A[0],pathFromRoot:void 0,children:A}}}class T{}var v=function(R){return R[R.NONE=1]="NONE",R[R.ROUTER=2]="ROUTER",R[R.STORE=3]="STORE",R}(v||{});let G=(()=>{class R{constructor(A,O,b,z,K,k){this.store=A,this.router=O,this.serializer=b,this.errorHandler=z,this.config=K,this.activeRuntimeChecks=k,this.lastEvent=null,this.routerState=null,this.trigger=v.NONE,this.stateKey=this.config.stateKey,!(0,e.isNgrxMockEnvironment)()&&(0,c.isDevMode)()&&(k?.strictActionSerializability||k?.strictStateSerializability)&&this.serializer instanceof L&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,e.select)(this.stateKey),(0,n.withLatestFrom)(this.store)).subscribe(([A,O])=>{this.navigateIfNeeded(A,O)})}navigateIfNeeded(A,O){if(!A||!A.state||this.trigger===v.ROUTER||this.lastEvent instanceof d.NavigationStart)return;const b=A.state.url;(function y(R,g){return I(R)===I(g)})(this.router.url,b)||(this.storeState=O,this.trigger=v.STORE,this.router.navigateByUrl(b).catch(z=>{this.errorHandler.handleError(z)}))}setUpRouterEventsListener(){const A=this.config.navigationActionTiming===p.PostActivation;let O;this.router.events.pipe((0,n.withLatestFrom)(this.store)).subscribe(([b,z])=>{this.lastEvent=b,b instanceof d.NavigationStart?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==v.STORE&&(this.storeState=z,this.dispatchRouterRequest(b))):b instanceof d.RoutesRecognized?(O=b,!A&&this.trigger!==v.STORE&&this.dispatchRouterNavigation(b)):b instanceof d.NavigationCancel?(this.dispatchRouterCancel(b),this.reset()):b instanceof d.NavigationError?(this.dispatchRouterError(b),this.reset()):b instanceof d.NavigationEnd&&(this.trigger!==v.STORE&&(A&&this.dispatchRouterNavigation(O),this.dispatchRouterNavigated(b)),this.reset())})}dispatchRouterRequest(A){this.dispatchRouterAction(s,{event:A})}dispatchRouterNavigation(A){const O=this.serializer.serialize(A.state);this.dispatchRouterAction(E,{routerState:O,event:new d.RoutesRecognized(A.id,A.url,A.urlAfterRedirects,O)})}dispatchRouterCancel(A){this.dispatchRouterAction(f,{storeState:this.storeState,event:A})}dispatchRouterError(A){this.dispatchRouterAction(o,{storeState:this.storeState,event:new d.NavigationError(A.id,A.url,`${A}`)})}dispatchRouterNavigated(A){const O=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(r,{event:A,routerState:O})}dispatchRouterAction(A,O){this.trigger=v.ROUTER;try{this.store.dispatch({type:A,payload:{routerState:this.routerState,...O,event:0===this.config.routerState?O.event:{id:O.event.id,url:O.event.url,urlAfterRedirects:O.event.urlAfterRedirects}}})}finally{this.trigger=v.NONE}}reset(){this.trigger=v.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(O){return new(O||R)(c.\u0275\u0275inject(e.Store),c.\u0275\u0275inject(d.Router),c.\u0275\u0275inject(T),c.\u0275\u0275inject(c.ErrorHandler),c.\u0275\u0275inject(w),c.\u0275\u0275inject(e.ACTIVE_RUNTIME_CHECKS))};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac})}return R})();function I(R){return R?.length>0&&"/"===R[R.length-1]?R.substring(0,R.length-1):R}function U(R={}){return(0,c.makeEnvironmentProviders)([{provide:B,useValue:R},{provide:w,useFactory:h,deps:[B]},{provide:T,useClass:R.serializer?R.serializer:0===R.routerState?L:m},{provide:c.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>()=>(0,c.inject)(G)},G])}let N=(()=>{class R{static forRoot(A={}){return{ngModule:R,providers:[U(A)]}}static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:R});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({})}return R})();function F(){return(0,e.createFeatureSelector)(C)}function W(R=F()){const g=(0,e.createSelector)(R,D=>D&&D.state),A=(0,e.createSelector)(g,D=>D&&D.root),O=(0,e.createSelector)(A,D=>{if(!D)return;let P=D;for(;P.firstChild;)P=P.firstChild;return P}),b=(0,e.createSelector)(A,D=>D&&D.fragment),z=(0,e.createSelector)(A,D=>D&&D.queryParams),k=(0,e.createSelector)(O,D=>D&&D.params),V=(0,e.createSelector)(O,D=>D&&D.data),x=(0,e.createSelector)(g,D=>D&&D.url),Z=(0,e.createSelector)(O,D=>{if(D?.routeConfig)return"string"==typeof D.routeConfig.title?D.routeConfig.title:D.title});return{selectCurrentRoute:O,selectFragment:b,selectQueryParams:z,selectQueryParam:D=>(0,e.createSelector)(z,P=>P&&P[D]),selectRouteParams:k,selectRouteParam:D=>(0,e.createSelector)(k,P=>P&&P[D]),selectRouteData:V,selectRouteDataParam:D=>(0,e.createSelector)(V,P=>P&&P[D]),selectUrl:x,selectTitle:Z}}}}]);