(self.webpackChunkaccount=self.webpackChunkaccount||[]).push([[1758],{1758:(j,l,n)=>{n.r(l),n.d(l,{SettingsComponent:()=>F});var t=n(3731),M=n(5793),o=n(6751),S=n(8978),c=n(4232),s=n(5004),_=n(3114),m=n(3635),g=n(6571),d=n(5077),u=n(7141),O=n(7666),P=n(5416),p=n(5189),x=n(3122);function h(a,C){if(1&a&&(t.\u0275\u0275elementStart(0,"mat-option",9),t.\u0275\u0275element(1,"img",10),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&a){const e=C.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate1("alt","",e," flag"),t.\u0275\u0275property("src","assets/images/flags/"+e+".png",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",e," ")}}const v=()=>({backgroundColor:"transparent"});function y(a,C){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",2)(1,"mat-form-field")(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-select",3),t.\u0275\u0275listener("selectionChange",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.updateSettings())}),t.\u0275\u0275elementStart(6,"mat-select-trigger"),t.\u0275\u0275element(7,"img",4),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,h,3,4,"mat-option",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",6)(11,"mat-label"),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"div",7)(15,"mat-icon"),t.\u0275\u0275text(16,"bedtime"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"mat-slide-toggle",8),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.updateSettings())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"mat-icon"),t.\u0275\u0275text(19," brightness_7 "),t.\u0275\u0275elementEnd()()()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",e.settingsForm),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,9,"apps.account.settings.form.fields.language")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("value",e.translateService.currentLang),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate1("alt","",e.translateService.currentLang," flag"),t.\u0275\u0275property("src","assets/images/flags/"+e.translateService.currentLang+".png",t.\u0275\u0275sanitizeUrl)("ngStyle",t.\u0275\u0275pureFunction0(13,v)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",e.translateService.currentLang," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",e.translateService.getLangs()),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,11,"apps.account.settings.form.fields.darkMode")," ")}}let F=(()=>{class a{constructor(){this.store=(0,t.inject)(M.Store),this.translateService=(0,t.inject)(s.TranslateService),this.appRoutes=_.AppRoutes,this.userSettings$=this.store.select(c.getUserSettings),this.destroy$=new m.Subject}ngOnInit(){this.userSettings$.pipe((0,m.takeUntil)(this.destroy$)).subscribe(e=>{this.settingsForm=(a=>new o.FormGroup({language:new o.FormControl(a?.language||null),darkMode:new o.FormControl(!!a?.darkMode)}))(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateSettings(){const e={...this.settingsForm?.getRawValue()};this.store.dispatch((0,c.updateUserSettingsRequest)({userSettings:e}))}static#t=this.\u0275fac=function(r){return new(r||a)};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["workout-tracker-settings"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:5,vars:4,consts:[[1,"Settings_MainContainer"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","language","name","language","formControlName","language",1,"lang",3,"value","selectionChange"],["mat-card-image","","height","40px","width","40px",3,"src","ngStyle","alt"],[3,"value",4,"ngFor","ngForOf"],[1,"Settings_DarkModeContainer"],[1,"Settings_DarkModeSlide"],["id","darkMode","name","darkMode","formControlName","darkMode",3,"change"],[3,"value"],["mat-card-image","","height","32px","width","32px",3,"src","alt"]],template:function(r,i){1&r&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h2"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,y,20,14,"form",1),t.\u0275\u0275elementEnd()),2&r&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,"apps.account.settings.title")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.settingsForm))},dependencies:[S.UiModule,g.NgForOf,g.NgIf,g.NgStyle,o.\u0275NgNoValidate,o.NgControlStatus,o.NgControlStatusGroup,d.MatFormField,d.MatLabel,u.MatSlideToggle,O.MatIcon,o.FormGroupDirective,o.FormControlName,P.MatCardImage,p.MatSelect,p.MatSelectTrigger,x.MatOption,s.TranslateModule,s.TranslatePipe],styles:["[_nghost-%COMP%]{height:100%}.Settings_MainContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;align-items:center;justify-content:center}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:150px;max-width:300px;width:100%}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{background-color:transparent!important}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   .mat-mdc-select-trigger[_ngcontent-%COMP%]   .mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid black;border-radius:50%}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   .mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]   mat-option[_ngcontent-%COMP%]{border-radius:10px}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .Settings_DarkModeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .Settings_DarkModeContainer[_ngcontent-%COMP%]   .Settings_DarkModeSlide[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:15px;align-items:center}.Settings_MainContainer[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .Settings_DarkModeContainer[_ngcontent-%COMP%]   .Settings_DarkModeSlide[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:50px;width:50px;font-size:50px}"]})}return a})()}}]);