(self.webpackChunkworkout_exercise_templates=self.webpackChunkworkout_exercise_templates||[]).push([[9960],{9960:(he,A,E)=>{E.r(A),E.d(A,{Actions:()=>Q,EFFECTS_ERROR_HANDLER:()=>z,EffectSources:()=>y,EffectsFeatureModule:()=>U,EffectsModule:()=>de,EffectsRootModule:()=>C,EffectsRunner:()=>I,ROOT_EFFECTS_INIT:()=>_,USER_PROVIDED_EFFECTS:()=>p,act:()=>Ee,concatLatestFrom:()=>G,createEffect:()=>L,defaultEffectsErrorHandler:()=>T,getEffectsMetadata:()=>Y,mergeEffects:()=>w,ofType:()=>W,provideEffects:()=>pe,rootEffectsInit:()=>H});var d=E(3635),s=E(5893),r=E(3731),a=E(5793);function G(e){return(0,s.concatMap)(o=>{const t=e(o),n=Array.isArray(t)?t:[t];return(0,d.of)(o).pipe((0,s.withLatestFrom)(...n))})}const B={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},j="__@ngrx/effects_create__";function L(e,o={}){const t=o.functional?e:e(),n={...B,...o};return Object.defineProperty(t,j,{value:n}),t}function Y(e){return x(e).reduce((o,{propertyName:t,dispatch:n,useEffectsErrorHandler:f})=>(o[t]={dispatch:n,useEffectsErrorHandler:f},o),{})}function x(e){return function K(e){return Object.getOwnPropertyNames(e).filter(n=>!(!e[n]||!e[n].hasOwnProperty(j))&&e[n][j].hasOwnProperty("dispatch")).map(n=>({propertyName:n,...e[n][j]}))}(e)}function D(e){return Object.getPrototypeOf(e)}function S(e){return"function"==typeof e}function M(e){return e.filter(S)}function w(e,o,t){const n=D(e),c=n&&"Object"!==n.constructor.name?n.constructor.name:null,i=x(e).map(({propertyName:u,dispatch:h,useEffectsErrorHandler:l})=>{const R="function"==typeof e[u]?e[u]():e[u],g=l?t(R,o):R;return!1===h?g.pipe((0,s.ignoreElements)()):g.pipe((0,s.materialize)()).pipe((0,s.map)(F=>({effect:e[u],notification:F,propertyName:u,sourceName:c,sourceInstance:e})))});return(0,d.merge)(...i)}const Z=10;function T(e,o,t=Z){return e.pipe((0,s.catchError)(n=>(o&&o.handleError(n),t<=1?e:T(e,o,t-1))))}let Q=(()=>{class e extends d.Observable{constructor(t){super(),t&&(this.source=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}static#e=this.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(a.ScannedActionsSubject))};static#t=this.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function W(...e){return(0,s.filter)(o=>e.some(t=>"string"==typeof t?t===o.type:t.type===o.type))}const k=new r.InjectionToken("@ngrx/effects Internal Root Guard"),p=new r.InjectionToken("@ngrx/effects User Provided Effects"),m=new r.InjectionToken("@ngrx/effects Internal Root Effects"),N=new r.InjectionToken("@ngrx/effects Internal Root Effects Instances"),P=new r.InjectionToken("@ngrx/effects Internal Feature Effects"),$=new r.InjectionToken("@ngrx/effects Internal Feature Effects Instance Groups"),z=new r.InjectionToken("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>T}),_="@ngrx/effects/init",H=(0,a.createAction)(_);function ie(e){return O(e,"ngrxOnInitEffects")}function O(e,o){return e&&o in e&&"function"==typeof e[o]}let y=(()=>{class e extends d.Subject{constructor(t,n){super(),this.errorHandler=t,this.effectsErrorHandler=n}addEffects(t){this.next(t)}toActions(){return this.pipe((0,s.groupBy)(t=>function J(e){return!!e.constructor&&"Object"!==e.constructor.name&&"Function"!==e.constructor.name}(t)?D(t):t),(0,s.mergeMap)(t=>t.pipe((0,s.groupBy)(ue))),(0,s.mergeMap)(t=>{const n=t.pipe((0,s.exhaustMap)(c=>function ae(e,o){return t=>{const n=w(t,e,o);return function ce(e){return O(e,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(n):n}}(this.errorHandler,this.effectsErrorHandler)(c)),(0,s.map)(c=>(function q(e,o){if("N"===e.notification.kind){const t=e.notification.value;!function ee(e){return"function"!=typeof e&&e&&e.type&&"string"==typeof e.type}(t)&&o.handleError(new Error(`Effect ${function te({propertyName:e,sourceInstance:o,sourceName:t}){const n="function"==typeof o[e];return t?`"${t}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}(e)} dispatched an invalid action: ${function ne(e){try{return JSON.stringify(e)}catch{return e}}(t)}`))}}(c,this.errorHandler),c.notification)),(0,s.filter)(c=>"N"===c.kind&&null!=c.value),(0,s.dematerialize)()),f=t.pipe((0,s.take)(1),(0,s.filter)(ie),(0,s.map)(c=>c.ngrxOnInitEffects()));return(0,d.merge)(n,f)}))}static#e=this.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(r.ErrorHandler),r.\u0275\u0275inject(z))};static#t=this.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ue(e){return function oe(e){return O(e,"ngrxOnIdentifyEffects")}(e)?e.ngrxOnIdentifyEffects():""}let I=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,n){this.effectSources=t,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(y),r.\u0275\u0275inject(a.Store))};static#t=this.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),C=(()=>{class e{constructor(t,n,f,c,i,u,h){this.sources=t,n.start();for(const l of c)t.addEffects(l);f.dispatch({type:_})}addEffects(t){this.sources.addEffects(t)}static#e=this.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(y),r.\u0275\u0275inject(I),r.\u0275\u0275inject(a.Store),r.\u0275\u0275inject(N),r.\u0275\u0275inject(a.StoreRootModule,8),r.\u0275\u0275inject(a.StoreFeatureModule,8),r.\u0275\u0275inject(k,8))};static#t=this.\u0275mod=r.\u0275\u0275defineNgModule({type:e});static#n=this.\u0275inj=r.\u0275\u0275defineInjector({})}return e})(),U=(()=>{class e{constructor(t,n,f,c){const i=n.flat();for(const u of i)t.addEffects(u)}static#e=this.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(C),r.\u0275\u0275inject($),r.\u0275\u0275inject(a.StoreRootModule,8),r.\u0275\u0275inject(a.StoreFeatureModule,8))};static#t=this.\u0275mod=r.\u0275\u0275defineNgModule({type:e});static#n=this.\u0275inj=r.\u0275\u0275defineInjector({})}return e})(),de=(()=>{class e{static forFeature(...t){const n=t.flat(),f=M(n);return{ngModule:U,providers:[f,{provide:P,multi:!0,useValue:n},{provide:p,multi:!0,useValue:[]},{provide:$,multi:!0,useFactory:V,deps:[P,p]}]}}static forRoot(...t){const n=t.flat(),f=M(n);return{ngModule:C,providers:[f,{provide:m,useValue:[n]},{provide:k,useFactory:le},{provide:p,multi:!0,useValue:[]},{provide:N,useFactory:V,deps:[m,p]}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=r.\u0275\u0275defineNgModule({type:e});static#n=this.\u0275inj=r.\u0275\u0275defineInjector({})}return e})();function V(e,o){const t=[];for(const n of e)t.push(...n);for(const n of o)t.push(...n);return t.map(n=>function X(e){return e instanceof r.InjectionToken||S(e)}(n)?(0,r.inject)(n):n)}function le(){const e=(0,r.inject)(I,{optional:!0,skipSelf:!0}),o=(0,r.inject)(m,{self:!0});if((1!==o.length||0!==o[0].length)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}function Ee(e,o){const{project:t,error:n,complete:f,operator:c,unsubscribe:i}="function"==typeof e?{project:e,error:o,operator:s.concatMap,complete:void 0,unsubscribe:void 0}:{...e,operator:e.operator||s.concatMap};return u=>(0,d.defer)(()=>{const h=new d.Subject;return(0,d.merge)(u.pipe(c((l,R)=>(0,d.defer)(()=>{let g=!1,b=!1,F=0;return t(l,R).pipe((0,s.materialize)(),(0,s.map)(v=>{switch(v.kind){case"E":return b=!0,{kind:"N",value:n(v.error,l)};case"C":return g=!0,f?{kind:"N",value:f(F,l)}:void 0;default:return++F,v}}),(0,s.filter)(v=>null!=v),(0,s.dematerialize)(),(0,s.finalize)(()=>{!g&&!b&&i&&h.next(i(F,l))}))}))),h)})}function pe(...e){const o=e.flat(),t=M(o);return(0,r.makeEnvironmentProviders)([t,{provide:r.ENVIRONMENT_INITIALIZER,multi:!0,useValue:()=>{(0,r.inject)(a.ROOT_STORE_PROVIDER),(0,r.inject)(a.FEATURE_STATE_PROVIDER,{optional:!0});const n=(0,r.inject)(I),f=(0,r.inject)(y),c=!n.isStarted;c&&n.start();for(const i of o){const u=S(i)?(0,r.inject)(i):i;f.addEffects(u)}c&&(0,r.inject)(a.Store).dispatch(H())}}])}}}]);