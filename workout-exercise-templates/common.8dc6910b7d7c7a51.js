(self.webpackChunkworkout_exercise_templates=self.webpackChunkworkout_exercise_templates||[]).push([[8592],{1598:(F,M,t)=>{t.d(M,{C:()=>f,j:()=>r});var e=t(5793),c=t(9287);const o={[c.wX]:c.NJ},f="exercise-templates",r=(v=o,g)=>(0,e.combineReducers)({[c.wX]:c.u$},o)(v,g)},3419:(F,M,t)=>{t.d(M,{y:()=>r});var e=t(9964),o=t(3731);let r=/^(179|4511)$/.test(t.j)?(()=>{class v{static#e=this.\u0275fac=function(m){return new(m||v)};static#t=this.\u0275cmp=o.\u0275\u0275defineComponent({type:v,selectors:[["workout-tracker-exercise-templates"]],standalone:!0,features:[o.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(m,a){1&m&&o.\u0275\u0275element(0,"router-outlet")},dependencies:[e.RouterOutlet],styles:["[_nghost-%COMP%]{height:100%}"]})}return v})():null},3081:(F,M,t)=>{t.d(M,{l:()=>p});var e=t(3731),r=(t(9964),t(5793)),g=t(3635),m=t(3826),a=t(8267);let p=/^(179|4511)$/.test(t.j)?(()=>{class E{constructor(){this.store=(0,e.inject)(r.Store)}resolve(i){const s=i.paramMap.get("id");return s?(this.store.dispatch((0,m.Cb)({exerciseId:s})),this.store.select(a.X7)):(0,g.of)(void 0)}static#e=this.\u0275fac=function(s){return new(s||E)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})():null},2690:(F,M,t)=>{t.d(M,{s:()=>p});var e=t(3731),r=(t(9964),t(5793)),g=t(4232),m=t(3635);let p=/^(179|4511)$/.test(t.j)?(()=>{class E{constructor(){this.store=(0,e.inject)(r.Store)}resolve(i){return this.store.dispatch((0,g.getUserExerciseTemplatesListRequest)()),this.store.select((0,g.getIsAppLoaded)(g.AppInit.EXERCISES_TEMPLATES)).pipe((0,m.filter)(s=>s),(0,m.mergeMap)(()=>this.store.select(g.getExerciseTemplatesList)))}static#e=this.\u0275fac=function(s){return new(s||E)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})():null},3826:(F,M,t)=>{t.d(M,{$I:()=>P,Cb:()=>f,Ck:()=>i,F9:()=>E,FI:()=>v,Io:()=>S,JU:()=>u,PO:()=>a,TV:()=>B,YE:()=>O,gi:()=>_,o7:()=>n,qd:()=>U});var e=t(5793);const f=(0,e.createAction)("GET USER EXERCISE TEMPLATE DETAILS",(0,e.props)()),v=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Request",(0,e.props)()),n=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Success",(0,e.props)()),a=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Error",(0,e.props)()),E=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Request",(0,e.props)()),i=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Success",(0,e.props)()),u=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Error",(0,e.props)()),O=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Request",(0,e.props)()),B=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Success",(0,e.props)()),U=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Error",(0,e.props)()),S=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Request",(0,e.props)()),_=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Success",(0,e.props)()),P=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Error",(0,e.props)())},4741:(F,M,t)=>{t.d(M,{Q:()=>U});var e=t(3731),o=t(1705),r=t(3635),g=t(9964),m=t(5004),p=t(8467),T=t(5793),s=t(4232),l=t(3114),A=t(3826),B=t(8034);let U=/^(179|4511)$/.test(t.j)?(()=>{class D{constructor(){this.exerciseTemplatesService=(0,e.inject)(p.ExerciseTemplatesService),this.trainingService=(0,e.inject)(B.TrainingsService),this.translateService=(0,e.inject)(m.TranslateService),this.actions$=(0,e.inject)(o.Actions),this.router=(0,e.inject)(g.Router),this.store=(0,e.inject)(T.Store),this.getUserExerciseTemplateDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.Cb),(0,o.concatLatestFrom)(()=>this.store.select(s.getUser)),(0,r.mergeMap)(([{exerciseId:x},_])=>(0,r.iif)(()=>!!_,(0,r.of)((0,A.FI)({exerciseId:x})),(0,r.of)((0,A.F9)({exerciseId:x})))))),this.getAuthenticatedUserExerciseTemplateDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.FI),(0,o.concatLatestFrom)(()=>this.store.select(s.getUser)),(0,r.mergeMap)(([{exerciseId:x},_])=>this.exerciseTemplatesService.getExerciseTemplate(_?.uid,x).pipe((0,r.map)(I=>(0,A.o7)({exercise:I})),(0,r.catchError)(I=>(this.router.navigate([l.AppRoutes.WorkoutExerciseTemplatesList]),(0,r.of)((0,A.PO)({exerciseId:x})))))))),this.getAnonymousUserExerciseTemplateDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.F9),(0,r.mergeMap)(({exerciseId:x})=>this.store.select((0,s.getExerciseTemplateById)(x)).pipe((0,r.take)(1),(0,r.map)(_=>_?(0,A.Ck)({exercise:_}):(0,A.JU)({exerciseId:x})))))),this.getUserExerciseTemplateDetailsRequestError$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.JU,A.PO),(0,r.map)(({exerciseId:x})=>(0,s.showError)({errorMessage:`${this.translateService.instant("apps.workout-exercises.errors.exerciseNotFound",{exerciseId:x.toUpperCase()})}`})))),this.getExerciseTemplateTrainingsDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.Cb),(0,o.concatLatestFrom)(()=>this.store.select(s.getUser)),(0,r.mergeMap)(([{exerciseId:x},_])=>(0,r.iif)(()=>!!_,(0,r.of)((0,A.YE)({exerciseTemplateId:x})),(0,r.of)((0,A.Io)({exerciseTemplateId:x})))))),this.getAuthenticatedUserExerciseTemplateTrainingsDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.YE),(0,o.concatLatestFrom)(()=>this.store.select(s.getUser)),(0,r.mergeMap)(([{exerciseTemplateId:x},_])=>this.trainingService.getExerciseTemplateTrainingExercises(_?.uid,x).pipe((0,r.map)(I=>(0,A.TV)({trainings:I})),(0,r.catchError)(I=>(this.router.navigate([l.AppRoutes.WorkoutExerciseTemplatesList]),(0,r.of)((0,A.qd)({exerciseTemplateId:x})))))))),this.getAnonymousUserExerciseTemplateTrainingsDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.Io),(0,r.mergeMap)(({exerciseTemplateId:x})=>this.store.select((0,s.getTrainingsByExerciseTemplateId)(x)).pipe((0,r.take)(1),(0,r.map)(_=>_?(0,A.gi)({trainings:_}):(0,A.$I)({exerciseTemplateId:x})))))),this.getUserExerciseTemplateTrainingsDetailsRequestError$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(A.qd,A.$I),(0,r.map)(({exerciseTemplateId:x})=>(0,s.showError)({errorMessage:`${this.translateService.instant("apps.workout-exercises.errors.exerciseTrainingsNotFound",{exerciseTemplateId:x.toUpperCase()})}`}))))}static#e=this.\u0275fac=function(_){return new(_||D)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac})}return D})():null},9287:(F,M,t)=>{t.d(M,{NJ:()=>r,u$:()=>v,wX:()=>f});var e=t(5793),o=t(3826);const f="exercise-template",r={details:{exercise:void 0,trainings:void 0}},v=(0,e.createReducer)(r,(0,e.on)(o.Cb,g=>({...g,details:r.details})),(0,e.on)(o.o7,o.Ck,(g,{exercise:n})=>({...g,details:{...g.details,exercise:n}})),(0,e.on)(o.TV,o.gi,(g,{trainings:n})=>({...g,details:{...g.details,trainings:n}})))},8267:(F,M,t)=>{t.d(M,{VT:()=>m,X7:()=>g,ET:()=>v});var e=t(5793),c=t(9287),o=t(1598);const f=(0,e.createFeatureSelector)(o.C),r=(0,e.createSelector)(f,a=>a[c.wX]),v=(0,e.createSelector)(r,a=>a.details),g=(0,e.createSelector)(v,a=>a.exercise),m=((0,e.createSelector)(v,a=>a.trainings),(0,e.createSelector)(v,a=>a.trainings&&a.exercise?a.trainings?.map(p=>({...p,trainingExercises:p.trainingExercises?.filter(E=>E.exerciseTemplate.id===a.exercise?.id)})):void 0))},5304:(F,M,t)=>{t.r(M),t.d(M,{DateAdapter:()=>c,ExerciseTemplateAdapter:()=>o,TrainingAdapter:()=>f,TrainingExerciseAdapter:()=>r,TrainingExerciseSerieAdapter:()=>v});var e=t(3894);class c{static toState(n){return n.toDate()}static toDto(n){return e.EK.fromDate(n)}}class o{static toState(n,m){return{...n,id:m,creationDate:c.toState(n.creationDate),lastModification:n.lastModification?c.toState(n.lastModification):void 0}}static toDto(n){return{name:n.name,musclesInvolved:n.musclesInvolved,image:n.image,observations:n.observations,creationDate:c.toDto(n.creationDate),lastModification:n.lastModification?c.toDto(n.lastModification):void 0}}}class f{static toState(n,m,a){return{...n,id:m,trainingExercises:a,creationDate:c.toState(n.creationDate),finishDate:n.finishDate?c.toState(n.finishDate):void 0}}static toDto(n){return{observations:n.observations,muscleGroups:n.muscleGroups,creationDate:c.toDto(n.creationDate),finishDate:n.finishDate?c.toDto(n.finishDate):void 0}}}class r{static toState(n,m,a,p){return console.log("id",m),console.log("exerciseTemplate",a),console.log("exerciseSeries",p),{id:m,exerciseTemplate:a,series:p}}static toDto(n,m){return{exerciseTemplateId:m}}}class v{static toState(n,m){return{...n,id:m}}static toDto(n){return{weight:n.weight,repetitions:n.repetitions,observations:n.observations}}}},7906:(F,M,t)=>{t.r(M),t.d(M,{AppRoutes:()=>e,BannerType:()=>o,LibsModelsModule:()=>m,MessageTypes:()=>c,MuscleGroups:()=>f,MusclesInvolved:()=>r,muscleInvolvedByGroups:()=>v});var e=function(a){return a.Home="/",a.Login="/account/login",a.SignUp="/account/signUp",a.Settings="/account/settings",a.WorkoutExerciseTemplatesList="/exercise-templates",a.WorkoutTrainingsList="/trainings",a}(e||{}),c=function(a){return a[a.Error=0]="Error",a}(c||{}),o=function(a){return a[a.Info=0]="Info",a[a.Warning=1]="Warning",a[a.Success=2]="Success",a[a.Error=3]="Error",a}(o||{}),f=function(a){return a.Legs="Legs",a.Arms="Arms",a.Shoulder="Shoulder",a.Back="Back",a.Chest="Chest",a.Core="Core",a}(f||{}),r=function(a){return a.Abdominals="Abdominals",a.Abductors="Abductors",a.Adductors="Adductors",a.Biceps="Biceps",a.Calves="Calves",a.Chest="Chest",a.Forearms="Forearms",a.Glutes="Glutes",a.Hamstrings="Hamstrings",a.Lats="Lats",a.Lower_back="Lower_back",a.Middle_back="Middle_back",a.Neck="Neck",a.Quadriceps="Quadriceps",a.Traps="Traps",a.Triceps="Triceps",a.Anterior_deltoid="Anterior_deltoid",a.Medial_deltoid="Medial_deltoid",a.Posterior_deltoid="Posterior_deltoid",a}(r||{});const v={[f.Chest]:[r.Chest],[f.Back]:[r.Lower_back,r.Middle_back],[f.Legs]:[r.Abductors,r.Adductors,r.Quadriceps,r.Hamstrings,r.Calves],[f.Arms]:[r.Biceps,r.Triceps,r.Forearms],[f.Shoulder]:[r.Anterior_deltoid,r.Medial_deltoid,r.Posterior_deltoid],[f.Core]:[r.Abdominals]};var g=t(6571),n=t(3731);let m=(()=>{class a{static#e=this.\u0275fac=function(T){return new(T||a)};static#t=this.\u0275mod=n.\u0275\u0275defineNgModule({type:a});static#r=this.\u0275inj=n.\u0275\u0275defineInjector({imports:[g.CommonModule]})}return a})()},5111:(F,M,t)=>{t.r(M),t.d(M,{AuthService:()=>r,LibsServicesAuthModule:()=>n,authServiceMock:()=>v});var e=t(3731),c=t(3635),o=t(8251),f=t(7142);let r=(()=>{class m{constructor(){this.auth=(0,e.inject)(o.zQ)}logIn(p,E){return(0,c.from)(this.auth.signInWithEmailAndPassword(p,E))}logOut(){return(0,c.from)(this.auth.signOut())}signUp(p,E){return(0,c.from)(this.auth.createUserWithEmailAndPassword(p,E))}googleSignIn(){const p=new f.Z.auth.GoogleAuthProvider;return(0,c.from)(this.auth.signInWithPopup(p))}isNewUser(p){return!!p?.additionalUserInfo?.isNewUser}static#e=this.\u0275fac=function(E){return new(E||m)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac})}return m})();const v={logIn:()=>(0,c.of)({}),logOut:()=>(0,c.of)(),signUp:()=>(0,c.of)({}),googleSignIn:()=>(0,c.of)({}),isNewUser:()=>!0};var g=t(6571);let n=(()=>{class m{static#e=this.\u0275fac=function(E){return new(E||m)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:m});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[r],imports:[g.CommonModule]})}return m})()},6052:(F,M,t)=>{t.r(M),t.d(M,{CultureService:()=>E,LibsServicesCultureModule:()=>T});var e=t(6571),c=t(3731),o=t(5004),f=t(3635);const r=void 0,g=["es",[["a.\xa0m.","p.\xa0m."],r,r],r,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],r,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],r,[["a. C.","d. C."],r,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[r,"$"],BRL:[r,"R$"],BYN:[r,"\u0440."],CAD:[r,"$"],CNY:[r,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[r,"\xa3"],HKD:[r,"$"],ILS:[r,"\u20aa"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NZD:[r,"$"],PHP:[r,"\u20b1"],RON:[r,"L"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:["US$","$"],XAF:[],XCD:[r,"$"],XOF:[]},"ltr",function v(i){const s=i,u=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length,O=parseInt(i.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===s?1:0===O&&0!==u&&u%1e6==0&&0===l||!(O>=0&&O<=5)?4:5}],n=void 0,a=["en",[["a","p"],["AM","PM"],n],[["AM","PM"],n,n],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],n,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],n,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'at' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function m(i){const u=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];var p=t(3122);let E=(()=>{class i{constructor(){this.defaultLangCode="ES-ES",this.translateService=(0,c.inject)(o.TranslateService),this.dateAdapter=(0,c.inject)(p.DateAdapter),this.acceptedLanguages=["EN-GB","ES-ES"]}initialize(){this.registerLocales(),this.translateService.setDefaultLang(this.defaultLangCode),this.translateService.addLangs(this.acceptedLanguages)}changeLanguage(u){return this.setCulture(u)}getBrowserLanguage(){return this.getLangCode(this.translateService.getBrowserCultureLang()||this.defaultLangCode)}changeDarkMode(u){this.setDarkMode(u)}getBrowserIsDarkMode(){return!1}registerLocales(){(0,e.registerLocaleData)(a),(0,e.registerLocaleData)(g)}getLangCode(u){return this.acceptedLanguages.find(O=>O===u.toUpperCase())||this.defaultLangCode}setCulture(u){return(0,e.registerLocaleData)(this.getLangCode(u)),this.dateAdapter.setLocale(u),this.translateService.use(this.getLangCode(u)).pipe((0,f.first)())}setDarkMode(u){console.log("setDarkMode",u)}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac})}return i})(),T=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:i});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[E],imports:[e.CommonModule]})}return i})()},8388:(F,M,t)=>{t.r(M),t.d(M,{DialogService:()=>r,LibsServicesDialogModule:()=>v});var e=t(6571),c=t(8978),o=t(3731),f=t(9576);let r=(()=>{class g{constructor(){this.dialog=(0,o.inject)(f.MatDialog)}showDialog(m,a,p){return this.dialog.open(m,{...p,panelClass:"dialogClass",disableClose:!a}).afterClosed()}static#e=this.\u0275fac=function(a){return new(a||g)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac})}return g})(),v=(()=>{class g{static#e=this.\u0275fac=function(a){return new(a||g)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:g});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[r],imports:[c.UiModule,e.CommonModule]})}return g})()},6992:(F,M,t)=>{t.r(M),t.d(M,{ExerciseTemplatesRefService:()=>v,ExerciseTemplatesService:()=>g,LibsServicesExerciseTemplatesModule:()=>n,exerciseTemplatesRefServiceMock:()=>a,exerciseTemplatesServiceMock:()=>m});var e=t(6571),c=t(3731),o=t(8154),f=t(3635),r=t(6369);let v=(()=>{class p{constructor(){this.firebaseDataBase=(0,c.inject)(r.ST)}getExerciseTemplatesCollectionRef(T){return this.firebaseDataBase.collection(`user/${T}/exerciseTemplates`)}getExerciseTemplateDocRef(T,i){return this.firebaseDataBase.doc(`user/${T}/exerciseTemplates/${i}`)}static#e=this.\u0275fac=function(i){return new(i||p)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})(),g=(()=>{class p{constructor(){this.exerciseTemplatesRefService=(0,c.inject)(v)}getExerciseTemplate(T,i){return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(T,i).get()).pipe((0,f.map)(s=>o.ExerciseTemplateAdapter.toState({...s.data()},s.id)))}getExerciseTemplates(T){return this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(T).get().pipe((0,f.map)(i=>i.docs.map(s=>o.ExerciseTemplateAdapter.toState({...s.data()},s.id))))}setExerciseTemplate(T,i){const s=o.ExerciseTemplateAdapter.toDto(i);return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(T).add(s)).pipe((0,f.map)(u=>o.ExerciseTemplateAdapter.toState({...s},u.id)))}updateExerciseTemplate(T,i){i.lastModification=new Date;const s=o.ExerciseTemplateAdapter.toDto(i);return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(T,i.id).update(s)).pipe((0,f.map)(()=>({...i})))}deleteExerciseTemplate(T,i){return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(T,i.id).delete()).pipe((0,f.map)(()=>!0))}static#e=this.\u0275fac=function(i){return new(i||p)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})(),n=(()=>{class p{static#e=this.\u0275fac=function(i){return new(i||p)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:p});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[g,v],imports:[e.CommonModule]})}return p})();const m={getExerciseTemplate:()=>(0,f.of)({}),getExerciseTemplates:()=>(0,f.of)([]),setExerciseTemplate:()=>(0,f.of)({}),updateExerciseTemplate:()=>(0,f.of)({}),deleteExerciseTemplate:()=>(0,f.of)(!0)},a={getExerciseTemplatesCollectionRef:()=>({}),getExerciseTemplateDocRef:()=>({})}},8959:(F,M,t)=>{t.r(M),t.d(M,{LibsServicesMessageModule:()=>g,MessageService:()=>v});var e=t(6571),c=t(8978),o=t(3731),f=t(3496),r=t(3635);let v=(()=>{class n{constructor(){this.snackBar=(0,o.inject)(f.MatSnackBar)}showAlertMessage(a,p){return this.snackBar.open(p,void 0,{horizontalPosition:"right",verticalPosition:"top",duration:3e3}).afterDismissed().pipe((0,r.map)(i=>i.dismissedByAction))}static#e=this.\u0275fac=function(p){return new(p||n)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),g=(()=>{class n{static#e=this.\u0275fac=function(p){return new(p||n)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:n});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[v],imports:[c.UiModule,e.CommonModule]})}return n})()},1759:(F,M,t)=>{t.r(M),t.d(M,{LibsServicesTrainingsModule:()=>a,TrainingsService:()=>m,trainingsServiceMock:()=>p});var e=t(6571),c=t(3731),o=t(8154),r=(t(3114),t(3635)),v=t(8467),g=t(6369);let n=(()=>{class E{constructor(){this.firebaseDataBase=(0,c.inject)(g.ST)}getTrainingsPaginatedQuery(i){return u=>{let l=u;return i.filters.betweenDates&&(console.log("trainingQuery.filters.betweenDates",i.filters.betweenDates),l=l.where("creationDate",">=",o.DateAdapter.toDto(i.filters.betweenDates.fromDate)).where("creationDate","<=",o.DateAdapter.toDto(i.filters.betweenDates.toDate))),i.filters.muscleGroups.length&&(console.log("trainingQuery.filters.muscleGroups",i.filters.muscleGroups),l=l.where("muscleGroups","array-contains-any",i.filters.muscleGroups)),l=l.limit(i.pagination.pageElements).orderBy("creationDate","desc"),i.pagination.lastElement&&(l=l.startAt(o.DateAdapter.toDto(i.pagination.lastElement.creationDate))),l}}getTrainingsCollectionRef(i){return this.firebaseDataBase.collection(`user/${i}/trainings`)}getTrainingsPaginatedCollectionRef(i,s){const u=this.getTrainingsPaginatedQuery(s);return this.firebaseDataBase.collection(`user/${i}/trainings`,u)}getTrainingExercisesCollectionRef(i,s){return this.firebaseDataBase.collection(`user/${i}/trainings/${s}/exercises`)}getTrainingExerciseSeriesCollectionRef(i,s,u){return this.firebaseDataBase.collection(`user/${i}/trainings/${s}/exercises/${u}/series`)}getTrainingDocRef(i,s){return this.firebaseDataBase.doc(`user/${i}/trainings/${s}`)}getTrainingExerciseDocRef(i,s,u){return this.firebaseDataBase.doc(`user/${i}/trainings/${s}/exercises/${u}`)}getTrainingExerciseSerieDocRef(i,s,u,l){return this.firebaseDataBase.doc(`user/${i}/trainings/${s}/exercises/${u}/series/${l}`)}getExerciseTemplateTrainingExercisesDocRefs(i,s,u){return console.log("ref",`/user/${i}/exerciseTemplates/${s}`),this.firebaseDataBase.collectionGroup("exercises",O=>{let A=O;return A=A.where("exerciseTemplateId","==",u.ref),A=A.limit(5),A})}static#e=this.\u0275fac=function(s){return new(s||E)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}return E})(),m=(()=>{class E{constructor(){this.exerciseTemplateRefService=(0,c.inject)(v.ExerciseTemplatesRefService),this.trainingsRefService=(0,c.inject)(n)}getTraining(i,s){return this.trainingsRefService.getTrainingDocRef(i,s).get().pipe((0,r.switchMap)(u=>{const l=u.id,O=u.data();return this.getTrainingExercises(i,l).pipe((0,r.map)(A=>o.TrainingAdapter.toState(O,l,A)))}))}getTrainings(i,s){return this.trainingsRefService.getTrainingsPaginatedCollectionRef(i,s).get().pipe((0,r.switchMap)(u=>{const l=[];return u.docs.forEach(O=>{const A=O.id,B=O.data(),h=this.getTrainingExercises(i,A).pipe((0,r.map)(U=>o.TrainingAdapter.toState(B,A,U)));l.push(h)}),(0,r.forkJoin)(l).pipe((0,r.defaultIfEmpty)([]))}),(0,r.catchError)(u=>{throw console.log("error",u),u}))}getExerciseTemplateTrainingExercises(i,s){return this.trainingsRefService.getExerciseTemplateTrainingExercisesDocRefs(i,s,this.exerciseTemplateRefService.getExerciseTemplateDocRef(i,s)).get().pipe((0,r.switchMap)(u=>{const l=[];return u.docs.forEach(O=>{const A=O.ref.parent?.parent?.id;if(A){const B=this.getTraining(i,A);l.push(B)}}),(0,r.forkJoin)(l).pipe((0,r.defaultIfEmpty)([]))}),(0,r.catchError)(u=>{throw console.log("error",u),u}))}getTrainingExercises(i,s){return this.trainingsRefService.getTrainingExercisesCollectionRef(i,s).get().pipe((0,r.switchMap)(u=>{const l=[];return u.docs.forEach(O=>{const A=O.id,B=O.data(),h=(0,r.combineLatest)(B.exerciseTemplateId.get(),this.getTrainingExerciseSeries(i,s,A)).pipe((0,r.map)(([U,D])=>o.TrainingExerciseAdapter.toState(B,A,o.ExerciseTemplateAdapter.toState(U.data(),U.id),D)));l.push(h)}),(0,r.forkJoin)(l).pipe((0,r.defaultIfEmpty)([]))}))}getTrainingExerciseSeries(i,s,u){return this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(i,s,u).get().pipe((0,r.map)(l=>l.docs.map(O=>o.TrainingExerciseSerieAdapter.toState(O.data(),O.id))))}setTraining(i,s){const u=o.TrainingAdapter.toDto(s);return(0,r.from)(this.trainingsRefService.getTrainingsCollectionRef(i).add(u)).pipe((0,r.map)(l=>o.TrainingAdapter.toState(u,l.id,[])))}setTrainingExercise(i,s,u){const l=o.TrainingExerciseAdapter.toDto(u,this.exerciseTemplateRefService.getExerciseTemplateDocRef(i,u.exerciseTemplate.id).ref);return(0,r.from)(this.trainingsRefService.getTrainingExercisesCollectionRef(i,s).add(l)).pipe((0,r.map)(O=>o.TrainingExerciseAdapter.toState(l,O.id,u.exerciseTemplate,[])))}setTrainingExerciseSerie(i,s,u,l){const O=o.TrainingExerciseSerieAdapter.toDto(l);return(0,r.from)(this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(i,s,u).add(O)).pipe((0,r.map)(A=>o.TrainingExerciseSerieAdapter.toState(O,A.id)))}updateTraining(i,s){const u=o.TrainingAdapter.toDto(s);return(0,r.from)(this.trainingsRefService.getTrainingDocRef(i,s.id).update(u)).pipe((0,r.map)(()=>({...s})))}updateTrainingExercise(i,s,u){const l=o.TrainingExerciseAdapter.toDto(u,this.exerciseTemplateRefService.getExerciseTemplateDocRef(i,u.exerciseTemplate.id).ref);return(0,r.from)(this.trainingsRefService.getTrainingExerciseDocRef(i,s,u.id).update(l)).pipe((0,r.map)(()=>({...u})))}updateTrainingExerciseSerie(i,s,u,l){const O=o.TrainingExerciseSerieAdapter.toDto(l);return(0,r.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(i,s,u,l.id).update(O)).pipe((0,r.map)(()=>({...l})))}deleteTraining(i,s){return(0,r.from)(this.trainingsRefService.getTrainingDocRef(i,s.id).delete()).pipe((0,r.map)(()=>!0))}deleteTrainingExercise(i,s,u){return(0,r.from)(this.trainingsRefService.getTrainingExerciseDocRef(i,s,u.id).delete()).pipe((0,r.map)(()=>!0))}deleteTrainingExerciseSerie(i,s,u,l){return(0,r.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(i,s,u,l.id).delete()).pipe((0,r.map)(()=>!0))}static#e=this.\u0275fac=function(s){return new(s||E)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}return E})(),a=(()=>{class E{static#e=this.\u0275fac=function(s){return new(s||E)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:E});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[m,n],imports:[e.CommonModule]})}return E})();const p={getTraining:()=>(0,r.of)({}),getTrainings:()=>(0,r.of)([]),getExerciseTemplateTrainingExercises:()=>(0,r.of)([]),setTraining:()=>(0,r.of)({}),setTrainingExercise:()=>(0,r.of)({}),setTrainingExerciseSerie:()=>(0,r.of)({}),updateTraining:()=>(0,r.of)({}),updateTrainingExercise:()=>(0,r.of)({}),updateTrainingExerciseSerie:()=>(0,r.of)({}),deleteTraining:()=>(0,r.of)(!0),deleteTrainingExercise:()=>(0,r.of)(!0),deleteTrainingExerciseSerie:()=>(0,r.of)(!0)}},7185:(F,M,t)=>{t.r(M),t.d(M,{LibsServicesUserSettingsModule:()=>g,UserSettingsService:()=>v,userSettingsServiceMock:()=>n});var e=t(6571),c=t(3731),o=t(6369),f=t(3635),r=t(3690);let v=(()=>{class m{constructor(){this.firebaseDataBase=(0,c.inject)(o.ST),this.cultureService=(0,c.inject)(r.CultureService)}getUserSettingsDocRef(p){return this.firebaseDataBase.collection("user").doc(p)}applyUserSettings(p){this.cultureService.changeLanguage(p.language),this.cultureService.changeDarkMode(p.darkMode)}getBrowserSettings(){return{language:this.cultureService.getBrowserLanguage(),darkMode:this.cultureService.getBrowserIsDarkMode()}}getAnonymousSettings(){const p=this.getBrowserSettings();return this.applyUserSettings(p),(0,f.of)(p)}getUserSettings(p){return this.getUserSettingsDocRef(p).get().pipe((0,f.map)(E=>{const T=E.data();return this.applyUserSettings(T),T}))}setUserSettings(p){const E=this.getBrowserSettings();return(0,f.from)(this.getUserSettingsDocRef(p).set(E,{})).pipe((0,f.map)(()=>(this.applyUserSettings(E),E)))}updateAnonymousSettings(p){return this.applyUserSettings(p),(0,f.of)(p)}updateUserSettings(p,E){return(0,f.from)(this.getUserSettingsDocRef(p).update(E)).pipe((0,f.map)(()=>(this.applyUserSettings(E),E)))}static#e=this.\u0275fac=function(E){return new(E||m)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac})}return m})(),g=(()=>{class m{static#e=this.\u0275fac=function(E){return new(E||m)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:m});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[v],imports:[e.CommonModule]})}return m})();const n={setUserSettings:()=>(0,f.of)({}),getUserSettings:()=>(0,f.of)({}),getAnonymousSettings:()=>(0,f.of)({}),updateAnonymousSettings:()=>(0,f.of)({}),updateUserSettings:()=>(0,f.of)({})}},5211:(F,M,t)=>{t.r(M),t.d(M,{IntersectionObserverDirective:()=>b,LocalizedDatePipe:()=>R,MuscleGroupPillDirective:()=>I,MuscleInvolvedGroupPipe:()=>W,UiModule:()=>D,accordionAnimation:()=>L,collapseAnimation:()=>k,opacityAnimation:()=>X,rotateAnimation:()=>$,shakeAnimation:()=>V});var e=t(6571),c=t(7141),o=t(8279),f=t(5077),r=t(470),v=t(7666),g=t(5160),n=t(3731);const m=[o.MatInputModule,c.MatSlideToggleModule,f.MatFormFieldModule,r.MatButtonModule,g.MatTableModule,v.MatIconModule];let a=(()=>{class j{static#e=this.\u0275fac=function(N){return new(N||j)};static#t=this.\u0275mod=n.\u0275\u0275defineNgModule({type:j});static#r=this.\u0275inj=n.\u0275\u0275defineInjector({imports:[m,o.MatInputModule,c.MatSlideToggleModule,f.MatFormFieldModule,r.MatButtonModule,g.MatTableModule,v.MatIconModule]})}return j})();var p=t(6751),E=t(4168),T=t(5416),i=t(9698),s=t(3496),u=t(5189),l=t(3122),O=t(6278),A=t(9576),B=t(5388),h=t(4503),U=t(5692);let D=(()=>{class j{static#e=this.\u0275fac=function(N){return new(N||j)};static#t=this.\u0275mod=n.\u0275\u0275defineNgModule({type:j});static#r=this.\u0275inj=n.\u0275\u0275defineInjector({providers:[(0,l.provideNativeDateAdapter)(),{provide:l.MAT_DATE_LOCALE,useValue:"es-ES"}],imports:[e.CommonModule,p.FormsModule,f.MatFormFieldModule,a,p.ReactiveFormsModule,E.MatPaginatorModule,T.MatCardModule,s.MatSnackBarModule,A.MatDialogModule,B.MatButtonToggleModule,r.MatButtonModule,h.MatStepperModule,U.MatDatepickerModule,e.CommonModule,p.FormsModule,f.MatFormFieldModule,a,p.ReactiveFormsModule,E.MatPaginatorModule,i.MatProgressSpinnerModule,T.MatCardModule,u.MatSelectModule,O.MatCheckboxModule,c.MatSlideToggleModule,l.MatOptionModule,s.MatSnackBarModule,A.MatDialogModule,B.MatButtonToggleModule,r.MatButtonModule,h.MatStepperModule,U.MatDatepickerModule]})}return j})();var S=t(3114);const x={[S.MuscleGroups.Arms]:"#ffffff",[S.MuscleGroups.Back]:"#000000",[S.MuscleGroups.Chest]:"#000000",[S.MuscleGroups.Legs]:"#000000",[S.MuscleGroups.Shoulder]:"#000000",[S.MuscleGroups.Core]:"#000000"},_={[S.MuscleGroups.Arms]:"#007cae",[S.MuscleGroups.Back]:"#00a6e1",[S.MuscleGroups.Chest]:"#33b44a",[S.MuscleGroups.Legs]:"#ff6921",[S.MuscleGroups.Shoulder]:"#ffc20e",[S.MuscleGroups.Core]:"#ff6921"};let I=(()=>{class j{constructor(C){this.el=C}ngOnChanges(C){this.muscleGroup&&(this.el.nativeElement.style.color=x[this.muscleGroup]||x.Arms,this.el.nativeElement.style.backgroundColor=_[this.muscleGroup]||_.Arms)}static#e=this.\u0275fac=function(N){return new(N||j)(n.\u0275\u0275directiveInject(n.ElementRef))};static#t=this.\u0275dir=n.\u0275\u0275defineDirective({type:j,selectors:[["","appMuscleGroupPill",""]],inputs:{muscleGroup:"muscleGroup"},standalone:!0,features:[n.\u0275\u0275NgOnChangesFeature]})}return j})();var P=t(3635);let b=(()=>{class j{constructor(C){this.element=C,this.offset=0,this.active=!1,this.isIntersecting=new n.EventEmitter,this._isIntersecting=!1}ngOnInit(){this.subscription=this.createAndObserve()}ngOnDestroy(){this.subscription.unsubscribe()}createAndObserve(){const C={root:document.querySelector("#rootObserver"),rootMargin:`${this.offset}px`,threshold:0};return new P.Observable(N=>{const H=new IntersectionObserver(J=>{const{isIntersecting:Q}=J[0];N.next(Q)},C);return H.observe(this.element.nativeElement),{unsubscribe(){H.disconnect()}}}).subscribe(N=>{this.active&&(this.isIntersecting.emit(N),this._isIntersecting=!N)})}static#e=this.\u0275fac=function(N){return new(N||j)(n.\u0275\u0275directiveInject(n.ElementRef))};static#t=this.\u0275dir=n.\u0275\u0275defineDirective({type:j,selectors:[["","appIntersectionObserver",""]],inputs:{offset:"offset",active:"active"},outputs:{isIntersecting:"isIntersecting"},standalone:!0})}return j})(),W=(()=>{class j{transform(C){return Object.keys(S.muscleInvolvedByGroups).find(N=>S.muscleInvolvedByGroups[N].includes(C))}static#e=this.\u0275fac=function(N){return new(N||j)};static#t=this.\u0275pipe=n.\u0275\u0275definePipe({name:"appMuscleInvolvedGroup",type:j,pure:!0,standalone:!0})}return j})();var w=t(5004);let R=(()=>{class j{constructor(){this.translateService=(0,n.inject)(w.TranslateService)}transform(C,N="shortDate"){return new e.DatePipe(this.translateService.currentLang).transform(C,N)}static#e=this.\u0275fac=function(N){return new(N||j)};static#t=this.\u0275pipe=n.\u0275\u0275definePipe({name:"localizedDate",type:j,pure:!1,standalone:!0})}return j})();var d=t(8012);const L=(0,d.trigger)("accordion",[(0,d.state)("false",(0,d.style)({height:d.AUTO_STYLE,visibility:d.AUTO_STYLE})),(0,d.state)("true",(0,d.style)({height:"0",visibility:"hidden"})),(0,d.transition)("false => true",(0,d.animate)("500ms ease-in")),(0,d.transition)("true => false",(0,d.animate)("500ms ease-out"))]),k=(0,d.trigger)("collapse",[(0,d.state)("false",(0,d.style)({left:d.AUTO_STYLE})),(0,d.state)("true",(0,d.style)({left:"-100%"})),(0,d.transition)("false => true",(0,d.animate)("500ms ease-in")),(0,d.transition)("true => false",(0,d.animate)("500ms ease-out"))]),$=(0,d.trigger)("rotate",[(0,d.state)("false",(0,d.style)({transform:"rotate(0)"})),(0,d.state)("true",(0,d.style)({transform:"rotate(180deg)"})),(0,d.transition)("false => true",(0,d.animate)("200ms ease-in")),(0,d.transition)("true => false",(0,d.animate)("200ms ease-out"))]),X=(0,d.trigger)("opacity",[(0,d.state)("false",(0,d.style)({filter:"opacity(1)"})),(0,d.state)("true",(0,d.style)({filter:"opacity(0.5)"})),(0,d.transition)("false => true",(0,d.animate)("200ms ease-in")),(0,d.transition)("true => false",(0,d.animate)("200ms ease-out"))]),V=(0,d.trigger)("shake",[(0,d.transition)("false => true",[(0,d.animate)("0.3s",(0,d.keyframes)([(0,d.style)({transform:"translateY(0)",offset:0}),(0,d.style)({transform:"translateY(-10px)",offset:.5}),(0,d.style)({transform:"translateY(0)",offset:1})]))])])},1993:(F,M,t)=>{t.r(M),t.d(M,{takeUntilDestroyed:()=>f,toObservable:()=>r,toSignal:()=>v});var e=t(3731),c=t(3635),o=t(5893);function f(g){g||((0,e.assertInInjectionContext)(f),g=(0,e.inject)(e.DestroyRef));const n=new c.Observable(m=>g.onDestroy(m.next.bind(m)));return m=>m.pipe((0,o.takeUntil)(n))}function r(g,n){!n?.injector&&(0,e.assertInInjectionContext)(r);const m=n?.injector??(0,e.inject)(e.Injector),a=new c.ReplaySubject(1),p=(0,e.effect)(()=>{let E;try{E=g()}catch(T){return void(0,e.untracked)(()=>a.error(T))}(0,e.untracked)(()=>a.next(E))},{injector:m,manualCleanup:!0});return m.get(e.DestroyRef).onDestroy(()=>{p.destroy(),a.complete()}),a.asObservable()}function v(g,n){const m=!n?.manualCleanup;m&&!n?.injector&&(0,e.assertInInjectionContext)(v);const a=m?n?.injector?.get(e.DestroyRef)??(0,e.inject)(e.DestroyRef):null;let p;p=(0,e.signal)(n?.requireSync?{kind:0}:{kind:1,value:n?.initialValue});const E=g.subscribe({next:T=>p.set({kind:1,value:T}),error:T=>{if(n?.rejectErrors)throw T;p.set({kind:2,error:T})}});return a?.onDestroy(E.unsubscribe.bind(E)),(0,e.computed)(()=>{const T=p();switch(T.kind){case 1:return T.value;case 2:throw T.error;case 0:throw new e.\u0275RuntimeError(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},6682:(F,M,t)=>{t.r(M),t.d(M,{VERSION:()=>g,keepUnstableUntilFirst:()=>U,observeInsideAngular:()=>h,observeOutsideAngular:()=>B,\u0275APP_CHECK_PROVIDER_NAME:()=>E,\u0275AngularFireSchedulers:()=>u,\u0275AppCheckInstances:()=>p,\u0275ZoneScheduler:()=>i,\u0275getAllInstancesOf:()=>a,\u0275getDefaultInstanceOf:()=>m,\u0275isSupportedError:()=>n,\u0275keepUnstableUntilFirstFactory:()=>D,\u0275zoneWrap:()=>x});var e=t(3731),c=t(534);(0,c.registerVersion)("firebase","10.8.0","app");var r=t(3635),v=t(5893);const g=new e.Version("ANGULARFIRE2_VERSION"),n=_=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${_} in the constructor, first ensure that ${_} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${_})\`.`;function m(_,I,P){if(I){if(1===I.length)return I[0];const w=I.filter(R=>R.app===P);if(1===w.length)return w[0]}return P.container.getProvider(_).getImmediate({optional:!0})}const a=(_,I)=>{const P=I?[I]:(0,c.getApps)(),b=[];return P.forEach(W=>{W.container.getProvider(_).instances.forEach(R=>{b.includes(R)||b.push(R)})}),b};class p{constructor(){return a(E)}}const E="app-check";function T(){}class i{zone;delegate;constructor(I,P=r.queueScheduler){this.zone=I,this.delegate=P}now(){return this.delegate.now()}schedule(I,P,b){const W=this.zone;return this.delegate.schedule(function(R){W.runGuarded(()=>{I.apply(this,[R])})},P,b)}}class s{zone;task=null;constructor(I){this.zone=I}call(I,P){const b=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",T,{},T,T)),P.pipe((0,v.tap)({next:b,complete:b,error:b})).subscribe(I).add(b)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u=(()=>{class _{ngZone;outsideAngular;insideAngular;constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new i(Zone.current)),this.insideAngular=P.run(()=>new i(Zone.current,r.asyncScheduler)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(b){return new(b||_)(e.\u0275\u0275inject(e.NgZone))};static \u0275prov=e.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function l(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function A(_){return l().ngZone.run(()=>_())}function B(_){return _.pipe((0,v.observeOn)(l().outsideAngular))}function h(_){return _.pipe((0,v.observeOn)(l().insideAngular))}function U(_){return D(l())(_)}function D(_){return function(P){return(P=P.lift(new s(_.ngZone))).pipe((0,v.subscribeOn)(_.outsideAngular),(0,v.observeOn)(_.insideAngular))}}const S=(_,I)=>function(){const b=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),A(()=>_.apply(void 0,b))},x=(_,I)=>function(){let P;const b=arguments;for(let w=0;w<arguments.length;w++)"function"==typeof b[w]&&(I&&(P||=A(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",T,{},T,T))),b[w]=S(b[w],P));const W=function O(_){return l().ngZone.runOutsideAngular(()=>_())}(()=>_.apply(this,b));if(!I){if(W instanceof r.Observable){const w=l();return W.pipe((0,v.subscribeOn)(w.outsideAngular),(0,v.observeOn)(w.insideAngular))}return A(()=>W)}return W instanceof r.Observable?W.pipe(U):W instanceof Promise?A(()=>new Promise((w,R)=>W.then(d=>A(()=>w(d)),d=>A(()=>R(d))))):"function"==typeof W&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),W.apply(this,arguments)}:A(()=>W)}},5940:(F,M,t)=>{t.r(M),t.d(M,{MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS:()=>v,MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY:()=>g,MatProgressSpinner:()=>a,MatProgressSpinnerModule:()=>E,MatSpinner:()=>p});var e=t(3731),c=t(6571),o=t(3122);const f=["determinateSpinner"];function r(T,i){if(1&T&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",11),e.\u0275\u0275element(1,"circle",12),e.\u0275\u0275elementEnd()),2&T){const s=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("viewBox",s._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",s._strokeCircumference(),"px")("stroke-dashoffset",s._strokeCircumference()/2,"px")("stroke-width",s._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",s._circleRadius())}}const v=new e.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:g});function g(){return{diameter:n}}const n=100;let a=(()=>{class T{get color(){return this._color||this._defaultColor}set color(s){this._color=s}constructor(s,u,l){this._elementRef=s,this._defaultColor="primary",this._value=0,this._diameter=n,this._noopAnimations="NoopAnimations"===u&&!!l&&!l._forceAnimations,this.mode="mat-spinner"===s.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",l&&(l.color&&(this.color=this._defaultColor=l.color),l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(s){this._value=Math.max(0,Math.min(100,s||0))}get diameter(){return this._diameter}set diameter(s){this._diameter=s||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(s){this._strokeWidth=s||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const s=2*this._circleRadius()+this.strokeWidth;return`0 0 ${s} ${s}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(u){return new(u||T)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8),e.\u0275\u0275directiveInject(v))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:T,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(u,l){if(1&u&&e.\u0275\u0275viewQuery(f,5),2&u){let O;e.\u0275\u0275queryRefresh(O=e.\u0275\u0275loadQuery())&&(l._determinateCircle=O.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(u,l){2&u&&(e.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===l.mode?l.value:null)("mode",l.mode),e.\u0275\u0275classMap("mat-"+l.color),e.\u0275\u0275styleProp("width",l.diameter,"px")("height",l.diameter,"px")("--mdc-circular-progress-size",l.diameter+"px")("--mdc-circular-progress-active-indicator-width",l.diameter+"px"),e.\u0275\u0275classProp("_mat-animation-noopable",l._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===l.mode))},inputs:{color:"color",mode:"mode",value:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"value","value",e.numberAttribute],diameter:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"diameter","diameter",e.numberAttribute],strokeWidth:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"strokeWidth","strokeWidth",e.numberAttribute]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.\u0275\u0275InputTransformsFeature,e.\u0275\u0275StandaloneFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(u,l){if(1&u&&(e.\u0275\u0275template(0,r,2,8,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",1,2),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(4,"svg",3),e.\u0275\u0275element(5,"circle",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),e.\u0275\u0275elementContainer(9,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementContainer(11,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementContainer(13,8),e.\u0275\u0275elementEnd()()()),2&u){const O=e.\u0275\u0275reference(1);e.\u0275\u0275advance(4),e.\u0275\u0275attribute("viewBox",l._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",l._strokeCircumference(),"px")("stroke-dashoffset",l._strokeDashOffset(),"px")("stroke-width",l._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",l._circleRadius()),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngTemplateOutlet",O),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",O),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",O)}},dependencies:[c.NgTemplateOutlet],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return T})();const p=a;let E=(()=>{class T{static#e=this.\u0275fac=function(u){return new(u||T)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:T});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,o.MatCommonModule]})}return T})()},8091:(F,M,t)=>{t.r(M),t.d(M,{LetDirective:()=>A,PushPipe:()=>B,RenderScheduler:()=>n});var e=t(3731),c=t(3635),o=t(5893);let r=(()=>{class h{static#e=this.\u0275fac=function(S){return new(S||h)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:()=>function f(h){return h instanceof e.NgZone}((0,e.inject)(e.NgZone))?new g:(0,e.inject)(v),providedIn:"root"})}return h})(),v=(()=>{class h extends r{constructor(D){super(),this.appRef=D,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}static#e=this.\u0275fac=function(S){return new(S||h)(e.\u0275\u0275inject(e.ApplicationRef))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();class g extends r{schedule(){}}let n=(()=>{class h{constructor(D,S){this.cdRef=D,this.tickScheduler=S}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}static#e=this.\u0275fac=function(S){return new(S||h)(e.\u0275\u0275inject(e.ChangeDetectorRef),e.\u0275\u0275inject(r))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac})}return h})();function u(h){const U=function a(h){return U=>h[U.type]?.(U)}(h),D=new c.ReplaySubject(1);return{nextPotentialObservable(S){D.next(S)},handlePotentialObservableChanges:()=>D.pipe((0,o.distinctUntilChanged)(),function l(){return(0,c.pipe)((0,o.switchMap)(h=>{const U=function p(h){return(0,c.isObservable)(h)?h:function T(h){return function i(h){return!!h&&"object"==typeof h&&!Array.isArray(h)}(h)&&Object.keys(h).length>0&&Object.values(h).every(c.isObservable)}(h)?(0,c.combineLatest)(function s(h){return Object.keys(h).reduce((U,D)=>({...U,[D]:h[D].pipe((0,o.distinctUntilChanged)())}),{})}(h)):function E(h){return"function"==typeof h?.then}(h)?(0,c.from)(h):new c.Observable(U=>{U.next(h)})}(h);let D=!0,S=!0;return new c.Observable(x=>{const _=(0,e.untracked)(()=>U.subscribe({next(I){x.next({type:"next",value:I,reset:D,synchronous:S}),D=!1},error(I){x.next({type:"error",error:I,reset:D,synchronous:S}),D=!1},complete(){x.next({type:"complete",reset:D,synchronous:S}),D=!1}}));return D&&(x.next({type:"suspense",reset:D,synchronous:!0}),D=!1),S=!1,_})}))}(),(0,o.distinctUntilChanged)(O),(0,o.tap)(U))}}function O(h,U){return h.type===U.type&&h.reset===U.reset&&("next"===U.type?h.value===U.value:"error"!==U.type||h.error===U.error)}let A=(()=>{class h{set ngrxLet(D){this.renderEventManager.nextPotentialObservable(D)}constructor(D,S,x,_){this.mainTemplateRef=D,this.viewContainerRef=S,this.errorHandler=x,this.renderScheduler=_,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=u({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:I=>{this.viewContext.$implicit=I.value,this.viewContext.ngrxLet=I.value,I.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(I.synchronous)},error:I=>{this.viewContext.error=I.error,I.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(I.synchronous),this.errorHandler.handleError(I.error)},complete:I=>{this.viewContext.complete=!0,I.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(I.synchronous)}}),this.subscription=new c.Subscription}static ngTemplateContextGuard(D,S){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(D){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),D||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}static#e=this.\u0275fac=function(S){return new(S||h)(e.\u0275\u0275directiveInject(e.TemplateRef),e.\u0275\u0275directiveInject(e.ViewContainerRef),e.\u0275\u0275directiveInject(e.ErrorHandler),e.\u0275\u0275directiveInject(n))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:h,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:[e.\u0275\u0275InputFlags.None,"ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[e.\u0275\u0275ProvidersFeature([n])]})}return h})(),B=(()=>{class h{constructor(D){this.errorHandler=D,this.renderScheduler=function m(){return new n((0,e.inject)(e.ChangeDetectorRef),(0,e.inject)(r))}(),this.renderEventManager=u({suspense:S=>this.setRenderedValue(void 0,S.synchronous),next:S=>this.setRenderedValue(S.value,S.synchronous),error:S=>{S.reset&&this.setRenderedValue(void 0,S.synchronous),this.errorHandler.handleError(S.error)},complete:S=>{S.reset&&this.setRenderedValue(void 0,S.synchronous)}}),this.subscription=this.renderEventManager.handlePotentialObservableChanges().subscribe()}transform(D){return this.renderEventManager.nextPotentialObservable(D),this.renderedValue}ngOnDestroy(){this.subscription.unsubscribe()}setRenderedValue(D,S){D!==this.renderedValue&&(this.renderedValue=D,S||this.renderScheduler.schedule())}static#e=this.\u0275fac=function(S){return new(S||h)(e.\u0275\u0275directiveInject(e.ErrorHandler,16))};static#t=this.\u0275pipe=e.\u0275\u0275definePipe({name:"ngrxPush",type:h,pure:!1,standalone:!0})}return h})()},493:(F,M,t)=>{t.r(M),t.d(M,{DEFAULT_ROUTER_FEATURENAME:()=>O,FullRouterStateSerializer:()=>U,MinimalRouterStateSerializer:()=>u,NavigationActionTiming:()=>l,ROUTER_CANCEL:()=>m,ROUTER_CONFIG:()=>B,ROUTER_ERROR:()=>p,ROUTER_NAVIGATED:()=>T,ROUTER_NAVIGATION:()=>g,ROUTER_REQUEST:()=>r,RouterStateSerializer:()=>D,StoreRouterConnectingModule:()=>b,createRouterSelector:()=>W,getRouterSelectors:()=>w,provideRouterStore:()=>P,routerCancelAction:()=>a,routerErrorAction:()=>E,routerNavigatedAction:()=>i,routerNavigationAction:()=>n,routerReducer:()=>s,routerRequestAction:()=>v});var e=t(5793),c=t(3731),o=t(9964),f=t(5893);const r="@ngrx/router-store/request",v=(0,e.createAction)(r,(0,e.props)()),g="@ngrx/router-store/navigation",n=(0,e.createAction)(g,(0,e.props)()),m="@ngrx/router-store/cancel",a=(0,e.createAction)(m,(0,e.props)()),p="@ngrx/router-store/error",E=(0,e.createAction)(p,(0,e.props)()),T="@ngrx/router-store/navigated",i=(0,e.createAction)(T,(0,e.props)());function s(R,d){const y=d;switch(y.type){case g:case p:case m:return{state:y.payload.routerState,navigationId:y.payload.event.id};default:return R}}class u{serialize(d){return{root:this.serializeRoute(d.root),url:d.url}}serializeRoute(d){const y=d.children.map(L=>this.serializeRoute(L));return{params:d.params,data:d.data,url:d.url,outlet:d.outlet,title:d.title,routeConfig:d.routeConfig?{path:d.routeConfig.path,pathMatch:d.routeConfig.pathMatch,redirectTo:d.routeConfig.redirectTo,outlet:d.routeConfig.outlet,title:"string"==typeof d.routeConfig.title?d.routeConfig.title:void 0}:null,queryParams:d.queryParams,fragment:d.fragment,firstChild:y[0],children:y}}}var l=function(R){return R[R.PreActivation=1]="PreActivation",R[R.PostActivation=2]="PostActivation",R}(l||{});const O="router",A=new c.InjectionToken("@ngrx/router-store Internal Configuration"),B=new c.InjectionToken("@ngrx/router-store Configuration");function h(R){return{stateKey:O,serializer:u,navigationActionTiming:l.PreActivation,...R}}class U{serialize(d){return{root:this.serializeRoute(d.root),url:d.url}}serializeRoute(d){const y=d.children.map(L=>this.serializeRoute(L));return{params:d.params,paramMap:d.paramMap,data:d.data,url:d.url,outlet:d.outlet,title:d.title,routeConfig:d.routeConfig?{component:d.routeConfig.component,path:d.routeConfig.path,pathMatch:d.routeConfig.pathMatch,redirectTo:d.routeConfig.redirectTo,outlet:d.routeConfig.outlet,title:d.routeConfig.title}:null,queryParams:d.queryParams,queryParamMap:d.queryParamMap,fragment:d.fragment,component:d.routeConfig?d.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:y[0],pathFromRoot:void 0,children:y}}}class D{}var S=function(R){return R[R.NONE=1]="NONE",R[R.ROUTER=2]="ROUTER",R[R.STORE=3]="STORE",R}(S||{});let x=(()=>{class R{constructor(y,L,G,k,z,$){this.store=y,this.router=L,this.serializer=G,this.errorHandler=k,this.config=z,this.activeRuntimeChecks=$,this.lastEvent=null,this.routerState=null,this.trigger=S.NONE,this.stateKey=this.config.stateKey,!(0,e.isNgrxMockEnvironment)()&&(0,c.isDevMode)()&&($?.strictActionSerializability||$?.strictStateSerializability)&&this.serializer instanceof U&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,e.select)(this.stateKey),(0,f.withLatestFrom)(this.store)).subscribe(([y,L])=>{this.navigateIfNeeded(y,L)})}navigateIfNeeded(y,L){if(!y||!y.state||this.trigger===S.ROUTER||this.lastEvent instanceof o.NavigationStart)return;const G=y.state.url;(function _(R,d){return I(R)===I(d)})(this.router.url,G)||(this.storeState=L,this.trigger=S.STORE,this.router.navigateByUrl(G).catch(k=>{this.errorHandler.handleError(k)}))}setUpRouterEventsListener(){const y=this.config.navigationActionTiming===l.PostActivation;let L;this.router.events.pipe((0,f.withLatestFrom)(this.store)).subscribe(([G,k])=>{this.lastEvent=G,G instanceof o.NavigationStart?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==S.STORE&&(this.storeState=k,this.dispatchRouterRequest(G))):G instanceof o.RoutesRecognized?(L=G,!y&&this.trigger!==S.STORE&&this.dispatchRouterNavigation(G)):G instanceof o.NavigationCancel?(this.dispatchRouterCancel(G),this.reset()):G instanceof o.NavigationError?(this.dispatchRouterError(G),this.reset()):G instanceof o.NavigationEnd&&(this.trigger!==S.STORE&&(y&&this.dispatchRouterNavigation(L),this.dispatchRouterNavigated(G)),this.reset())})}dispatchRouterRequest(y){this.dispatchRouterAction(r,{event:y})}dispatchRouterNavigation(y){const L=this.serializer.serialize(y.state);this.dispatchRouterAction(g,{routerState:L,event:new o.RoutesRecognized(y.id,y.url,y.urlAfterRedirects,L)})}dispatchRouterCancel(y){this.dispatchRouterAction(m,{storeState:this.storeState,event:y})}dispatchRouterError(y){this.dispatchRouterAction(p,{storeState:this.storeState,event:new o.NavigationError(y.id,y.url,`${y}`)})}dispatchRouterNavigated(y){const L=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(T,{event:y,routerState:L})}dispatchRouterAction(y,L){this.trigger=S.ROUTER;try{this.store.dispatch({type:y,payload:{routerState:this.routerState,...L,event:0===this.config.routerState?L.event:{id:L.event.id,url:L.event.url,urlAfterRedirects:L.event.urlAfterRedirects}}})}finally{this.trigger=S.NONE}}reset(){this.trigger=S.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(L){return new(L||R)(c.\u0275\u0275inject(e.Store),c.\u0275\u0275inject(o.Router),c.\u0275\u0275inject(D),c.\u0275\u0275inject(c.ErrorHandler),c.\u0275\u0275inject(B),c.\u0275\u0275inject(e.ACTIVE_RUNTIME_CHECKS))};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac})}return R})();function I(R){return R?.length>0&&"/"===R[R.length-1]?R.substring(0,R.length-1):R}function P(R={}){return(0,c.makeEnvironmentProviders)([{provide:A,useValue:R},{provide:B,useFactory:h,deps:[A]},{provide:D,useClass:R.serializer?R.serializer:0===R.routerState?U:u},{provide:c.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>()=>(0,c.inject)(x)},x])}let b=(()=>{class R{static forRoot(y={}){return{ngModule:R,providers:[P(y)]}}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:R});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({})}return R})();function W(){return(0,e.createFeatureSelector)(O)}function w(R=W()){const d=(0,e.createSelector)(R,C=>C&&C.state),y=(0,e.createSelector)(d,C=>C&&C.root),L=(0,e.createSelector)(y,C=>{if(!C)return;let N=C;for(;N.firstChild;)N=N.firstChild;return N}),G=(0,e.createSelector)(y,C=>C&&C.fragment),k=(0,e.createSelector)(y,C=>C&&C.queryParams),$=(0,e.createSelector)(L,C=>C&&C.params),X=(0,e.createSelector)(L,C=>C&&C.data),j=(0,e.createSelector)(d,C=>C&&C.url),Y=(0,e.createSelector)(L,C=>{if(C?.routeConfig)return"string"==typeof C.routeConfig.title?C.routeConfig.title:C.title});return{selectCurrentRoute:L,selectFragment:G,selectQueryParams:k,selectQueryParam:C=>(0,e.createSelector)(k,N=>N&&N[C]),selectRouteParams:$,selectRouteParam:C=>(0,e.createSelector)($,N=>N&&N[C]),selectRouteData:X,selectRouteDataParam:C=>(0,e.createSelector)(X,N=>N&&N[C]),selectUrl:j,selectTitle:Y}}}}]);