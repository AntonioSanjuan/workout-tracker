(self.webpackChunkworkout_exercise_templates=self.webpackChunkworkout_exercise_templates||[]).push([[8592],{1598:(b,_,t)=>{t.d(_,{j:()=>s});var e=t(5793),l=t(9287),u=t(4232);const i={...u.exerciseTemplatesHubInitialState,[l.wX]:l.NJ},s=(v=i,T)=>(0,e.combineReducers)({[u.EXERCISE_TEMPLATES_LIST_FEATURE_KEY]:u.exerciseTemplatesListReducer,[l.wX]:l.u$},i)(v,T)},3419:(b,_,t)=>{t.d(_,{y:()=>s});var e=t(9964),u=t(3731);let s=/^(179|4511)$/.test(t.j)?(()=>{class v{static#e=this.\u0275fac=function(p){return new(p||v)};static#t=this.\u0275cmp=u.\u0275\u0275defineComponent({type:v,selectors:[["workout-tracker-exercise-templates"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(p,d){1&p&&u.\u0275\u0275element(0,"router-outlet")},dependencies:[e.RouterOutlet],styles:["[_nghost-%COMP%]{height:100%}"]})}return v})():null},3081:(b,_,t)=>{t.d(_,{l:()=>c});var e=t(3731),s=(t(9964),t(5793)),T=t(3635),p=t(3826),d=t(8267);let c=/^(179|4511)$/.test(t.j)?(()=>{class M{constructor(){this.store=(0,e.inject)(s.Store)}resolve(a){const o=a.paramMap.get("id");return o?(this.store.dispatch((0,p.Cb)({exerciseId:o})),this.store.select(d.X7)):(0,T.of)(void 0)}static#e=this.\u0275fac=function(o){return new(o||M)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})():null},2690:(b,_,t)=>{t.d(_,{s:()=>c});var e=t(3731),s=(t(9964),t(5793)),T=t(4232),p=t(3635);let c=/^(179|4511)$/.test(t.j)?(()=>{class M{constructor(){this.store=(0,e.inject)(s.Store)}resolve(a){return this.store.dispatch((0,T.getUserExerciseTemplatesListRequest)()),this.store.select((0,T.getIsAppLoaded)(T.AppInit.EXERCISES_TEMPLATES)).pipe((0,p.filter)(o=>o),(0,p.mergeMap)(()=>this.store.select(T.getExerciseTemplatesList)))}static#e=this.\u0275fac=function(o){return new(o||M)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})():null},3826:(b,_,t)=>{t.d(_,{Cb:()=>i,Ck:()=>a,F9:()=>M,FI:()=>v,Io:()=>h,JU:()=>E,PO:()=>d,YE:()=>O,o7:()=>n});var e=t(5793);const i=(0,e.createAction)("GET USER EXERCISE TEMPLATE DETAILS",(0,e.props)()),v=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Request",(0,e.props)()),n=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Success",(0,e.props)()),d=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Error",(0,e.props)()),M=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Request",(0,e.props)()),a=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Success",(0,e.props)()),E=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Error",(0,e.props)()),O=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Request",(0,e.props)()),h=((0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Success",(0,e.props)()),(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Error",(0,e.props)()),(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Request",(0,e.props)()));(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Success",(0,e.props)()),(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Error",(0,e.props)())},4741:(b,_,t)=>{t.d(_,{Q:()=>w});var e=t(3731),u=t(1705),s=t(3635),T=t(9964),p=t(5004),c=t(8467),r=t(5793),o=t(4232),f=t(3114),y=t(3826);let w=/^(179|4511)$/.test(t.j)?(()=>{class g{constructor(){this.exerciseTemplatesService=(0,e.inject)(c.ExerciseTemplatesService),this.translateService=(0,e.inject)(p.TranslateService),this.actions$=(0,e.inject)(u.Actions),this.router=(0,e.inject)(T.Router),this.store=(0,e.inject)(r.Store),this.getUserExerciseTemplateDetailsRequest$=(0,u.createEffect)(()=>this.actions$.pipe((0,u.ofType)(y.Cb),(0,u.concatLatestFrom)(()=>this.store.select(o.getUser)),(0,s.mergeMap)(([{exerciseId:S},h])=>(0,s.iif)(()=>!!h,(0,s.of)((0,y.FI)({exerciseId:S})),(0,s.of)((0,y.F9)({exerciseId:S})))))),this.getAuthenticatedUserExerciseTemplateDetailsRequest$=(0,u.createEffect)(()=>this.actions$.pipe((0,u.ofType)(y.FI),(0,u.concatLatestFrom)(()=>this.store.select(o.getUser)),(0,s.mergeMap)(([{exerciseId:S},h])=>this.exerciseTemplatesService.getExerciseTemplate(h?.uid,S).pipe((0,s.map)(W=>(0,y.o7)({exercise:W})),(0,s.catchError)(W=>(this.router.navigate([f.AppRoutes.WorkoutExerciseTemplatesList]),(0,s.of)((0,y.PO)({exerciseId:S})))))))),this.getAnonymousUserExerciseTemplateDetailsRequest$=(0,u.createEffect)(()=>this.actions$.pipe((0,u.ofType)(y.F9),(0,s.mergeMap)(({exerciseId:S})=>this.store.select((0,o.getExerciseTemplateById)(S)).pipe((0,s.take)(1),(0,s.map)(h=>h?(0,y.Ck)({exercise:h}):(0,y.JU)({exerciseId:S})))))),this.getUserExerciseTemplateDetailsRequestError$=(0,u.createEffect)(()=>this.actions$.pipe((0,u.ofType)(y.JU,y.PO),(0,s.map)(({exerciseId:S})=>(0,o.showError)({errorMessage:`${this.translateService.instant("apps.workout-exercises.errors.exerciseNotFound",{exerciseId:S.toUpperCase()})}`})))),this.getExerciseTemplateTrainingsDetailsRequest$=(0,u.createEffect)(()=>this.actions$.pipe((0,u.ofType)(y.Cb),(0,u.concatLatestFrom)(()=>this.store.select(o.getUser)),(0,s.mergeMap)(([{exerciseId:S},h])=>(0,s.iif)(()=>!!h,(0,s.of)((0,y.YE)({exerciseTemplateId:S})),(0,s.of)((0,y.Io)({exerciseTemplateId:S}))))))}static#e=this.\u0275fac=function(h){return new(h||g)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac})}return g})():null},9287:(b,_,t)=>{t.d(_,{NJ:()=>s,u$:()=>v,wX:()=>i});var e=t(5793),u=t(3826);const i="exercise-template",s={details:{exercise:void 0,trainings:void 0}},v=(0,e.createReducer)(s,(0,e.on)(u.o7,u.Ck,(T,{exercise:n})=>({...T,details:{...T.details,exercise:n}})))},8267:(b,_,t)=>{t.d(_,{X7:()=>T,ET:()=>v});var e=t(5793),l=t(9287),u=t(4232);const i=(0,e.createFeatureSelector)(u.EXERCISE_TEMPLATES_HUB_FEATURE_KEY),s=(0,e.createSelector)(i,p=>p[l.wX]),v=(0,e.createSelector)(s,p=>p.details),T=(0,e.createSelector)(v,p=>p.exercise);(0,e.createSelector)(v,p=>p.trainings)},5304:(b,_,t)=>{t.r(_),t.d(_,{DateAdapter:()=>l,ExerciseTemplateAdapter:()=>u,TrainingAdapter:()=>i,TrainingExerciseAdapter:()=>s,TrainingExerciseSerieAdapter:()=>v});var e=t(3894);class l{static toState(n){return n.toDate()}static toDto(n){return e.EK.fromDate(n)}}class u{static toState(n,p){return{...n,id:p,creationDate:l.toState(n.creationDate),lastModification:n.lastModification?l.toState(n.lastModification):void 0}}static toDto(n){return{name:n.name,musclesInvolved:n.musclesInvolved,image:n.image,observations:n.observations,creationDate:l.toDto(n.creationDate),lastModification:n.lastModification?l.toDto(n.lastModification):void 0}}}class i{static toState(n,p,d){return{...n,id:p,trainingExercises:d,creationDate:l.toState(n.creationDate),finishDate:n.finishDate?l.toState(n.finishDate):void 0}}static toDto(n){return{observations:n.observations,muscleGroups:n.muscleGroups,creationDate:l.toDto(n.creationDate),finishDate:n.finishDate?l.toDto(n.finishDate):void 0}}}class s{static toState(n,p,d,c){return{id:p,exerciseTemplate:d,series:c}}static toDto(n,p){return{exerciseTemplateId:p}}}class v{static toState(n,p){return{...n,id:p}}static toDto(n){return{weight:n.weight,repetitions:n.repetitions,observations:n.observations}}}},7906:(b,_,t)=>{t.r(_),t.d(_,{AppRoutes:()=>e,BannerType:()=>u,LibsModelsModule:()=>p,MessageTypes:()=>l,MuscleGroups:()=>i,MusclesInvolved:()=>s,muscleInvolvedByGroups:()=>v});var e=function(d){return d.Home="/",d.Login="/account/login",d.SignUp="/account/signUp",d.Settings="/account/settings",d.WorkoutExerciseTemplatesList="/exercise-templates",d.WorkoutTrainingsList="/trainings",d}(e||{}),l=function(d){return d[d.Error=0]="Error",d}(l||{}),u=function(d){return d[d.Info=0]="Info",d[d.Warning=1]="Warning",d[d.Success=2]="Success",d[d.Error=3]="Error",d}(u||{}),i=function(d){return d.Legs="Legs",d.Arms="Arms",d.Shoulder="Shoulder",d.Back="Back",d.Chest="Chest",d.Core="Core",d}(i||{}),s=function(d){return d.Abdominals="Abdominals",d.Abductors="Abductors",d.Adductors="Adductors",d.Biceps="Biceps",d.Calves="Calves",d.Chest="Chest",d.Forearms="Forearms",d.Glutes="Glutes",d.Hamstrings="Hamstrings",d.Lats="Lats",d.Lower_back="Lower_back",d.Middle_back="Middle_back",d.Neck="Neck",d.Quadriceps="Quadriceps",d.Traps="Traps",d.Triceps="Triceps",d.Anterior_deltoid="Anterior_deltoid",d.Medial_deltoid="Medial_deltoid",d.Posterior_deltoid="Posterior_deltoid",d}(s||{});const v={[i.Chest]:[s.Chest],[i.Back]:[s.Lower_back,s.Middle_back],[i.Legs]:[s.Abductors,s.Adductors,s.Quadriceps,s.Hamstrings,s.Calves],[i.Arms]:[s.Biceps,s.Triceps,s.Forearms],[i.Shoulder]:[s.Anterior_deltoid,s.Medial_deltoid,s.Posterior_deltoid],[i.Core]:[s.Abdominals]};var T=t(6571),n=t(3731);let p=(()=>{class d{static#e=this.\u0275fac=function(r){return new(r||d)};static#t=this.\u0275mod=n.\u0275\u0275defineNgModule({type:d});static#r=this.\u0275inj=n.\u0275\u0275defineInjector({imports:[T.CommonModule]})}return d})()},5111:(b,_,t)=>{t.r(_),t.d(_,{AuthService:()=>s,LibsServicesAuthModule:()=>n,authServiceMock:()=>v});var e=t(3731),l=t(3635),u=t(8251),i=t(7142);let s=(()=>{class p{constructor(){this.auth=(0,e.inject)(u.zQ)}logIn(c,M){return(0,l.from)(this.auth.signInWithEmailAndPassword(c,M))}logOut(){return(0,l.from)(this.auth.signOut())}signUp(c,M){return(0,l.from)(this.auth.createUserWithEmailAndPassword(c,M))}googleSignIn(){const c=new i.Z.auth.GoogleAuthProvider;return(0,l.from)(this.auth.signInWithPopup(c))}isNewUser(c){return!!c?.additionalUserInfo?.isNewUser}static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})();const v={logIn:()=>(0,l.of)({}),logOut:()=>(0,l.of)(),signUp:()=>(0,l.of)({}),googleSignIn:()=>(0,l.of)({}),isNewUser:()=>!0};var T=t(6571);let n=(()=>{class p{static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:p});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[s],imports:[T.CommonModule]})}return p})()},6052:(b,_,t)=>{t.r(_),t.d(_,{CultureService:()=>M,LibsServicesCultureModule:()=>r});var e=t(6571),l=t(3731),u=t(5004),i=t(3635);const s=void 0,T=["es",[["a.\xa0m.","p.\xa0m."],s,s],s,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],s,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],s,[["a. C.","d. C."],s,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",s,s,s],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[s,"$"],BRL:[s,"R$"],BYN:[s,"\u0440."],CAD:[s,"$"],CNY:[s,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[s,"\xa3"],HKD:[s,"$"],ILS:[s,"\u20aa"],INR:[s,"\u20b9"],JPY:[s,"\xa5"],KRW:[s,"\u20a9"],MXN:[s,"$"],NZD:[s,"$"],PHP:[s,"\u20b1"],RON:[s,"L"],THB:["\u0e3f"],TWD:[s,"NT$"],USD:["US$","$"],XAF:[],XCD:[s,"$"],XOF:[]},"ltr",function v(a){const o=a,E=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length,O=parseInt(a.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===o?1:0===O&&0!==E&&E%1e6==0&&0===f||!(O>=0&&O<=5)?4:5}],n=void 0,d=["en",[["a","p"],["AM","PM"],n],[["AM","PM"],n,n],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],n,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],n,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'at' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p(a){const E=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===E&&0===f?1:5}];var c=t(3122);let M=(()=>{class a{constructor(){this.defaultLangCode="ES-ES",this.translateService=(0,l.inject)(u.TranslateService),this.dateAdapter=(0,l.inject)(c.DateAdapter),this.acceptedLanguages=["EN-GB","ES-ES"]}initialize(){this.registerLocales(),this.translateService.setDefaultLang(this.defaultLangCode),this.translateService.addLangs(this.acceptedLanguages)}changeLanguage(E){return this.setCulture(E)}getBrowserLanguage(){return this.getLangCode(this.translateService.getBrowserCultureLang()||this.defaultLangCode)}changeDarkMode(E){this.setDarkMode(E)}getBrowserIsDarkMode(){return!1}registerLocales(){(0,e.registerLocaleData)(d),(0,e.registerLocaleData)(T)}getLangCode(E){return this.acceptedLanguages.find(O=>O===E.toUpperCase())||this.defaultLangCode}setCulture(E){return(0,e.registerLocaleData)(this.getLangCode(E)),this.dateAdapter.setLocale(E),this.translateService.use(this.getLangCode(E)).pipe((0,i.first)())}setDarkMode(E){console.log("setDarkMode",E)}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac})}return a})(),r=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=l.\u0275\u0275defineNgModule({type:a});static#r=this.\u0275inj=l.\u0275\u0275defineInjector({providers:[M],imports:[e.CommonModule]})}return a})()},8388:(b,_,t)=>{t.r(_),t.d(_,{DialogService:()=>s,LibsServicesDialogModule:()=>v});var e=t(6571),l=t(8978),u=t(3731),i=t(9576);let s=(()=>{class T{constructor(){this.dialog=(0,u.inject)(i.MatDialog)}showDialog(p,d,c){return this.dialog.open(p,{...c,panelClass:"dialogClass",disableClose:!d}).afterClosed()}static#e=this.\u0275fac=function(d){return new(d||T)};static#t=this.\u0275prov=u.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac})}return T})(),v=(()=>{class T{static#e=this.\u0275fac=function(d){return new(d||T)};static#t=this.\u0275mod=u.\u0275\u0275defineNgModule({type:T});static#r=this.\u0275inj=u.\u0275\u0275defineInjector({providers:[s],imports:[l.UiModule,e.CommonModule]})}return T})()},6992:(b,_,t)=>{t.r(_),t.d(_,{ExerciseTemplatesRefService:()=>v,ExerciseTemplatesService:()=>T,LibsServicesExerciseTemplatesModule:()=>n,exerciseTemplatesRefServiceMock:()=>d,exerciseTemplatesServiceMock:()=>p});var e=t(6571),l=t(3731),u=t(8154),i=t(3635),s=t(6369);let v=(()=>{class c{constructor(){this.firebaseDataBase=(0,l.inject)(s.ST)}getExerciseTemplatesCollectionRef(r){return this.firebaseDataBase.collection(`user/${r}/exercises`)}getExerciseTemplateDocRef(r,a){return this.firebaseDataBase.doc(`user/${r}/exercises/${a}`)}static#e=this.\u0275fac=function(a){return new(a||c)};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})}return c})(),T=(()=>{class c{constructor(){this.exerciseTemplatesRefService=(0,l.inject)(v)}getExerciseTemplate(r,a){return(0,i.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(r,a).get()).pipe((0,i.map)(o=>u.ExerciseTemplateAdapter.toState({...o.data()},o.id)))}getExerciseTemplates(r){return this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(r).get().pipe((0,i.map)(a=>a.docs.map(o=>u.ExerciseTemplateAdapter.toState({...o.data()},o.id))))}setExerciseTemplate(r,a){const o=u.ExerciseTemplateAdapter.toDto(a);return(0,i.from)(this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(r).add(o)).pipe((0,i.map)(E=>u.ExerciseTemplateAdapter.toState({...o},E.id)))}updateExerciseTemplate(r,a){a.lastModification=new Date;const o=u.ExerciseTemplateAdapter.toDto(a);return(0,i.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(r,a.id).update(o)).pipe((0,i.map)(()=>({...a})))}deleteExerciseTemplate(r,a){return(0,i.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(r,a.id).delete()).pipe((0,i.map)(()=>!0))}static#e=this.\u0275fac=function(a){return new(a||c)};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})}return c})(),n=(()=>{class c{static#e=this.\u0275fac=function(a){return new(a||c)};static#t=this.\u0275mod=l.\u0275\u0275defineNgModule({type:c});static#r=this.\u0275inj=l.\u0275\u0275defineInjector({providers:[T,v],imports:[e.CommonModule]})}return c})();const p={getExerciseTemplate:()=>(0,i.of)({}),getExerciseTemplates:()=>(0,i.of)([]),setExerciseTemplate:()=>(0,i.of)({}),updateExerciseTemplate:()=>(0,i.of)({}),deleteExerciseTemplate:()=>(0,i.of)(!0)},d={getExerciseTemplatesCollectionRef:()=>({}),getExerciseTemplateDocRef:()=>({})}},8959:(b,_,t)=>{t.r(_),t.d(_,{LibsServicesMessageModule:()=>T,MessageService:()=>v});var e=t(6571),l=t(8978),u=t(3731),i=t(3496),s=t(3635);let v=(()=>{class n{constructor(){this.snackBar=(0,u.inject)(i.MatSnackBar)}showAlertMessage(d,c){return this.snackBar.open(c,void 0,{horizontalPosition:"right",verticalPosition:"top",duration:3e3}).afterDismissed().pipe((0,s.map)(a=>a.dismissedByAction))}static#e=this.\u0275fac=function(c){return new(c||n)};static#t=this.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),T=(()=>{class n{static#e=this.\u0275fac=function(c){return new(c||n)};static#t=this.\u0275mod=u.\u0275\u0275defineNgModule({type:n});static#r=this.\u0275inj=u.\u0275\u0275defineInjector({providers:[v],imports:[l.UiModule,e.CommonModule]})}return n})()},1759:(b,_,t)=>{t.r(_),t.d(_,{LibsServicesTrainingsModule:()=>p,TrainingsService:()=>n,trainingsServiceMock:()=>d});var e=t(6571),l=t(3731),u=t(8154),i=t(3635),s=t(8467),v=t(6369);let T=(()=>{class c{constructor(){this.firebaseDataBase=(0,l.inject)(v.ST)}getTrainingsPaginatedQuery(r){return o=>{let E=o;return r.filters.betweenDates&&(console.log("trainingQuery.filters.betweenDates",r.filters.betweenDates),E=E.where("creationDate",">=",u.DateAdapter.toDto(r.filters.betweenDates.fromDate)).where("creationDate","<=",u.DateAdapter.toDto(r.filters.betweenDates.toDate))),r.filters.muscleGroups.length&&(console.log("trainingQuery.filters.muscleGroups",r.filters.muscleGroups),E=E.where("muscleGroups","array-contains-any",r.filters.muscleGroups)),E=E.limit(r.pagination.pageElements).orderBy("creationDate","desc"),r.pagination.lastElement&&(E=E.startAt(u.DateAdapter.toDto(r.pagination.lastElement.creationDate))),E}}getTrainingsCollectionRef(r){return this.firebaseDataBase.collection(`user/${r}/trainings`)}getTrainingsPaginatedCollectionRef(r,a){const o=this.getTrainingsPaginatedQuery(a);return this.firebaseDataBase.collection(`user/${r}/trainings`,o)}getTrainingExercisesCollectionRef(r,a){return this.firebaseDataBase.collection(`user/${r}/trainings/${a}/exercises`)}getTrainingExerciseSeriesCollectionRef(r,a,o){return this.firebaseDataBase.collection(`user/${r}/trainings/${a}/exercises/${o}/series`)}getTrainingDocRef(r,a){return this.firebaseDataBase.doc(`user/${r}/trainings/${a}`)}getTrainingExerciseDocRef(r,a,o){return this.firebaseDataBase.doc(`user/${r}/trainings/${a}/exercises/${o}`)}getTrainingExerciseSerieDocRef(r,a,o,E){return this.firebaseDataBase.doc(`user/${r}/trainings/${a}/exercises/${o}/series/${E}`)}static#e=this.\u0275fac=function(a){return new(a||c)};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})}return c})(),n=(()=>{class c{constructor(){this.exerciseRefService=(0,l.inject)(s.ExerciseTemplatesRefService),this.trainingsRefService=(0,l.inject)(T)}getTraining(r,a){return this.trainingsRefService.getTrainingDocRef(r,a).get().pipe((0,i.switchMap)(o=>{const E=o.id,f=o.data();return this.getTrainingExercises(r,E).pipe((0,i.map)(O=>u.TrainingAdapter.toState(f,E,O)))}))}getTrainings(r,a){return this.trainingsRefService.getTrainingsPaginatedCollectionRef(r,a).get().pipe((0,i.switchMap)(o=>{const E=[];return o.docs.forEach(f=>{const O=f.id,y=f.data(),w=this.getTrainingExercises(r,O).pipe((0,i.map)(g=>u.TrainingAdapter.toState(y,O,g)));E.push(w)}),(0,i.forkJoin)(E).pipe((0,i.defaultIfEmpty)([]))}),(0,i.catchError)(o=>{throw console.log("error",o),o}))}getTrainingExercises(r,a){return this.trainingsRefService.getTrainingExercisesCollectionRef(r,a).get().pipe((0,i.switchMap)(o=>{const E=[];return o.docs.forEach(f=>{const O=f.id,y=f.data(),w=(0,i.combineLatest)(y.exerciseTemplateId.get(),this.getTrainingExerciseSeries(r,a,O)).pipe((0,i.map)(([g,N])=>u.TrainingExerciseAdapter.toState(y,O,g.data(),N)));E.push(w)}),(0,i.forkJoin)(E).pipe((0,i.defaultIfEmpty)([]))}))}getTrainingExerciseSeries(r,a,o){return this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(r,a,o).get().pipe((0,i.map)(E=>E.docs.map(f=>u.TrainingExerciseSerieAdapter.toState(f.data(),f.id))))}setTraining(r,a){const o=u.TrainingAdapter.toDto(a);return(0,i.from)(this.trainingsRefService.getTrainingsCollectionRef(r).add(o)).pipe((0,i.map)(E=>u.TrainingAdapter.toState(o,E.id,[])))}setTrainingExercise(r,a,o){const E=u.TrainingExerciseAdapter.toDto(o,this.exerciseRefService.getExerciseTemplateDocRef(r,o.exerciseTemplate.id).ref);return(0,i.from)(this.trainingsRefService.getTrainingExercisesCollectionRef(r,a).add(E)).pipe((0,i.map)(f=>u.TrainingExerciseAdapter.toState(E,f.id,o.exerciseTemplate,[])))}setTrainingExerciseSerie(r,a,o,E){const f=u.TrainingExerciseSerieAdapter.toDto(E);return(0,i.from)(this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(r,a,o).add(f)).pipe((0,i.map)(O=>u.TrainingExerciseSerieAdapter.toState(f,O.id)))}updateTraining(r,a){const o=u.TrainingAdapter.toDto(a);return(0,i.from)(this.trainingsRefService.getTrainingDocRef(r,a.id).update(o)).pipe((0,i.map)(()=>({...a})))}updateTrainingExercise(r,a,o){const E=u.TrainingExerciseAdapter.toDto(o,this.exerciseRefService.getExerciseTemplateDocRef(r,o.exerciseTemplate.id).ref);return(0,i.from)(this.trainingsRefService.getTrainingExerciseDocRef(r,a,o.id).update(E)).pipe((0,i.map)(()=>({...o})))}updateTrainingExerciseSerie(r,a,o,E){const f=u.TrainingExerciseSerieAdapter.toDto(E);return(0,i.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(r,a,o,E.id).update(f)).pipe((0,i.map)(()=>({...E})))}deleteTraining(r,a){return(0,i.from)(this.trainingsRefService.getTrainingDocRef(r,a.id).delete()).pipe((0,i.map)(()=>!0))}deleteTrainingExercise(r,a,o){return(0,i.from)(this.trainingsRefService.getTrainingExerciseDocRef(r,a,o.id).delete()).pipe((0,i.map)(()=>!0))}deleteTrainingExerciseSerie(r,a,o,E){return(0,i.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(r,a,o,E.id).delete()).pipe((0,i.map)(()=>!0))}static#e=this.\u0275fac=function(a){return new(a||c)};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})}return c})(),p=(()=>{class c{static#e=this.\u0275fac=function(a){return new(a||c)};static#t=this.\u0275mod=l.\u0275\u0275defineNgModule({type:c});static#r=this.\u0275inj=l.\u0275\u0275defineInjector({providers:[n,T],imports:[e.CommonModule]})}return c})();const d={getTraining:()=>(0,i.of)({}),getTrainings:()=>(0,i.of)([]),setTraining:()=>(0,i.of)({}),setTrainingExercise:()=>(0,i.of)({}),setTrainingExerciseSerie:()=>(0,i.of)({}),updateTraining:()=>(0,i.of)({}),updateTrainingExercise:()=>(0,i.of)({}),updateTrainingExerciseSerie:()=>(0,i.of)({}),deleteTraining:()=>(0,i.of)(!0),deleteTrainingExercise:()=>(0,i.of)(!0),deleteTrainingExerciseSerie:()=>(0,i.of)(!0)}},7185:(b,_,t)=>{t.r(_),t.d(_,{LibsServicesUserSettingsModule:()=>T,UserSettingsService:()=>v,userSettingsServiceMock:()=>n});var e=t(6571),l=t(3731),u=t(6369),i=t(3635),s=t(3690);let v=(()=>{class p{constructor(){this.firebaseDataBase=(0,l.inject)(u.ST),this.cultureService=(0,l.inject)(s.CultureService)}getUserSettingsDocRef(c){return this.firebaseDataBase.collection("user").doc(c)}applyUserSettings(c){this.cultureService.changeLanguage(c.language),this.cultureService.changeDarkMode(c.darkMode)}getBrowserSettings(){return{language:this.cultureService.getBrowserLanguage(),darkMode:this.cultureService.getBrowserIsDarkMode()}}getAnonymousSettings(){const c=this.getBrowserSettings();return this.applyUserSettings(c),(0,i.of)(c)}getUserSettings(c){return this.getUserSettingsDocRef(c).get().pipe((0,i.map)(M=>{const r=M.data();return this.applyUserSettings(r),r}))}setUserSettings(c){const M=this.getBrowserSettings();return(0,i.from)(this.getUserSettingsDocRef(c).set(M,{})).pipe((0,i.map)(()=>(this.applyUserSettings(M),M)))}updateAnonymousSettings(c){return this.applyUserSettings(c),(0,i.of)(c)}updateUserSettings(c,M){return(0,i.from)(this.getUserSettingsDocRef(c).update(M)).pipe((0,i.map)(()=>(this.applyUserSettings(M),M)))}static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})(),T=(()=>{class p{static#e=this.\u0275fac=function(M){return new(M||p)};static#t=this.\u0275mod=l.\u0275\u0275defineNgModule({type:p});static#r=this.\u0275inj=l.\u0275\u0275defineInjector({providers:[v],imports:[e.CommonModule]})}return p})();const n={setUserSettings:()=>(0,i.of)({}),getUserSettings:()=>(0,i.of)({}),getAnonymousSettings:()=>(0,i.of)({}),updateAnonymousSettings:()=>(0,i.of)({}),updateUserSettings:()=>(0,i.of)({})}},5211:(b,_,t)=>{t.r(_),t.d(_,{IntersectionObserverDirective:()=>j,LocalizedDatePipe:()=>R,MuscleGroupPillDirective:()=>C,MuscleInvolvedGroupPipe:()=>B,UiModule:()=>S,accordionAnimation:()=>U,collapseAnimation:()=>k,opacityAnimation:()=>X,rotateAnimation:()=>z,shakeAnimation:()=>H});var e=t(6571),l=t(7141),u=t(8279),i=t(5077),s=t(470),v=t(7666),T=t(5160),n=t(3731);const p=[u.MatInputModule,l.MatSlideToggleModule,i.MatFormFieldModule,s.MatButtonModule,T.MatTableModule,v.MatIconModule];let d=(()=>{class L{static#e=this.\u0275fac=function(P){return new(P||L)};static#t=this.\u0275mod=n.\u0275\u0275defineNgModule({type:L});static#r=this.\u0275inj=n.\u0275\u0275defineInjector({imports:[p,u.MatInputModule,l.MatSlideToggleModule,i.MatFormFieldModule,s.MatButtonModule,T.MatTableModule,v.MatIconModule]})}return L})();var c=t(6751),M=t(4168),r=t(5416),a=t(9698),o=t(3496),E=t(5189),f=t(3122),O=t(6278),y=t(9576),w=t(5388),g=t(4503),N=t(5692);let S=(()=>{class L{static#e=this.\u0275fac=function(P){return new(P||L)};static#t=this.\u0275mod=n.\u0275\u0275defineNgModule({type:L});static#r=this.\u0275inj=n.\u0275\u0275defineInjector({providers:[(0,f.provideNativeDateAdapter)(),{provide:f.MAT_DATE_LOCALE,useValue:"es-ES"}],imports:[e.CommonModule,c.FormsModule,i.MatFormFieldModule,d,c.ReactiveFormsModule,M.MatPaginatorModule,r.MatCardModule,o.MatSnackBarModule,y.MatDialogModule,w.MatButtonToggleModule,s.MatButtonModule,g.MatStepperModule,N.MatDatepickerModule,e.CommonModule,c.FormsModule,i.MatFormFieldModule,d,c.ReactiveFormsModule,M.MatPaginatorModule,a.MatProgressSpinnerModule,r.MatCardModule,E.MatSelectModule,O.MatCheckboxModule,l.MatSlideToggleModule,f.MatOptionModule,o.MatSnackBarModule,y.MatDialogModule,w.MatButtonToggleModule,s.MatButtonModule,g.MatStepperModule,N.MatDatepickerModule]})}return L})();var h=t(3114);const W={[h.MuscleGroups.Arms]:"#ffffff",[h.MuscleGroups.Back]:"#000000",[h.MuscleGroups.Chest]:"#000000",[h.MuscleGroups.Legs]:"#000000",[h.MuscleGroups.Shoulder]:"#000000",[h.MuscleGroups.Core]:"#000000"},I={[h.MuscleGroups.Arms]:"#007cae",[h.MuscleGroups.Back]:"#00a6e1",[h.MuscleGroups.Chest]:"#33b44a",[h.MuscleGroups.Legs]:"#ff6921",[h.MuscleGroups.Shoulder]:"#ffc20e",[h.MuscleGroups.Core]:"#ff6921"};let C=(()=>{class L{constructor(A){this.el=A}ngOnChanges(A){this.muscleGroup&&(this.el.nativeElement.style.color=W[this.muscleGroup]||W.Arms,this.el.nativeElement.style.backgroundColor=I[this.muscleGroup]||I.Arms)}static#e=this.\u0275fac=function(P){return new(P||L)(n.\u0275\u0275directiveInject(n.ElementRef))};static#t=this.\u0275dir=n.\u0275\u0275defineDirective({type:L,selectors:[["","appMuscleGroupPill",""]],inputs:{muscleGroup:"muscleGroup"},standalone:!0,features:[n.\u0275\u0275NgOnChangesFeature]})}return L})();var x=t(3635);let j=(()=>{class L{constructor(A){this.element=A,this.offset=0,this.active=!1,this.isIntersecting=new n.EventEmitter,this._isIntersecting=!1}ngOnInit(){this.subscription=this.createAndObserve()}ngOnDestroy(){this.subscription.unsubscribe()}createAndObserve(){const A={root:document.querySelector("#rootObserver"),rootMargin:`${this.offset}px`,threshold:0};return new x.Observable(P=>{const V=new IntersectionObserver(Z=>{const{isIntersecting:J}=Z[0];P.next(J)},A);return V.observe(this.element.nativeElement),{unsubscribe(){V.disconnect()}}}).subscribe(P=>{this.active&&(this.isIntersecting.emit(P),this._isIntersecting=!P)})}static#e=this.\u0275fac=function(P){return new(P||L)(n.\u0275\u0275directiveInject(n.ElementRef))};static#t=this.\u0275dir=n.\u0275\u0275defineDirective({type:L,selectors:[["","appIntersectionObserver",""]],inputs:{offset:"offset",active:"active"},outputs:{isIntersecting:"isIntersecting"},standalone:!0})}return L})(),B=(()=>{class L{transform(A){return Object.keys(h.muscleInvolvedByGroups).find(P=>h.muscleInvolvedByGroups[P].includes(A))}static#e=this.\u0275fac=function(P){return new(P||L)};static#t=this.\u0275pipe=n.\u0275\u0275definePipe({name:"appMuscleInvolvedGroup",type:L,pure:!0,standalone:!0})}return L})();var G=t(5004);let R=(()=>{class L{constructor(){this.translateService=(0,n.inject)(G.TranslateService)}transform(A,P="shortDate"){return new e.DatePipe(this.translateService.currentLang).transform(A,P)}static#e=this.\u0275fac=function(P){return new(P||L)};static#t=this.\u0275pipe=n.\u0275\u0275definePipe({name:"localizedDate",type:L,pure:!1,standalone:!0})}return L})();var m=t(8012);const U=(0,m.trigger)("accordion",[(0,m.state)("false",(0,m.style)({height:m.AUTO_STYLE,visibility:m.AUTO_STYLE})),(0,m.state)("true",(0,m.style)({height:"0",visibility:"hidden"})),(0,m.transition)("false => true",(0,m.animate)("500ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("500ms ease-out"))]),k=(0,m.trigger)("collapse",[(0,m.state)("false",(0,m.style)({left:m.AUTO_STYLE})),(0,m.state)("true",(0,m.style)({left:"-100%"})),(0,m.transition)("false => true",(0,m.animate)("500ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("500ms ease-out"))]),z=(0,m.trigger)("rotate",[(0,m.state)("false",(0,m.style)({transform:"rotate(0)"})),(0,m.state)("true",(0,m.style)({transform:"rotate(180deg)"})),(0,m.transition)("false => true",(0,m.animate)("200ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("200ms ease-out"))]),X=(0,m.trigger)("opacity",[(0,m.state)("false",(0,m.style)({filter:"opacity(1)"})),(0,m.state)("true",(0,m.style)({filter:"opacity(0.5)"})),(0,m.transition)("false => true",(0,m.animate)("200ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("200ms ease-out"))]),H=(0,m.trigger)("shake",[(0,m.transition)("false => true",[(0,m.animate)("0.3s",(0,m.keyframes)([(0,m.style)({transform:"translateY(0)",offset:0}),(0,m.style)({transform:"translateY(-10px)",offset:.5}),(0,m.style)({transform:"translateY(0)",offset:1})]))])])},1993:(b,_,t)=>{t.r(_),t.d(_,{takeUntilDestroyed:()=>i,toObservable:()=>s,toSignal:()=>v});var e=t(3731),l=t(3635),u=t(5893);function i(T){T||((0,e.assertInInjectionContext)(i),T=(0,e.inject)(e.DestroyRef));const n=new l.Observable(p=>T.onDestroy(p.next.bind(p)));return p=>p.pipe((0,u.takeUntil)(n))}function s(T,n){!n?.injector&&(0,e.assertInInjectionContext)(s);const p=n?.injector??(0,e.inject)(e.Injector),d=new l.ReplaySubject(1),c=(0,e.effect)(()=>{let M;try{M=T()}catch(r){return void(0,e.untracked)(()=>d.error(r))}(0,e.untracked)(()=>d.next(M))},{injector:p,manualCleanup:!0});return p.get(e.DestroyRef).onDestroy(()=>{c.destroy(),d.complete()}),d.asObservable()}function v(T,n){const p=!n?.manualCleanup;p&&!n?.injector&&(0,e.assertInInjectionContext)(v);const d=p?n?.injector?.get(e.DestroyRef)??(0,e.inject)(e.DestroyRef):null;let c;c=(0,e.signal)(n?.requireSync?{kind:0}:{kind:1,value:n?.initialValue});const M=T.subscribe({next:r=>c.set({kind:1,value:r}),error:r=>{if(n?.rejectErrors)throw r;c.set({kind:2,error:r})}});return d?.onDestroy(M.unsubscribe.bind(M)),(0,e.computed)(()=>{const r=c();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new e.\u0275RuntimeError(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},6682:(b,_,t)=>{t.r(_),t.d(_,{VERSION:()=>T,keepUnstableUntilFirst:()=>N,observeInsideAngular:()=>g,observeOutsideAngular:()=>w,\u0275APP_CHECK_PROVIDER_NAME:()=>M,\u0275AngularFireSchedulers:()=>E,\u0275AppCheckInstances:()=>c,\u0275ZoneScheduler:()=>a,\u0275getAllInstancesOf:()=>d,\u0275getDefaultInstanceOf:()=>p,\u0275isSupportedError:()=>n,\u0275keepUnstableUntilFirstFactory:()=>S,\u0275zoneWrap:()=>W});var e=t(3731),l=t(534);(0,l.registerVersion)("firebase","10.8.0","app");var s=t(3635),v=t(5893);const T=new e.Version("ANGULARFIRE2_VERSION"),n=I=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${I} in the constructor, first ensure that ${I} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${I})\`.`;function p(I,C,x){if(C){if(1===C.length)return C[0];const G=C.filter(R=>R.app===x);if(1===G.length)return G[0]}return x.container.getProvider(I).getImmediate({optional:!0})}const d=(I,C)=>{const x=C?[C]:(0,l.getApps)(),j=[];return x.forEach(B=>{B.container.getProvider(I).instances.forEach(R=>{j.includes(R)||j.push(R)})}),j};class c{constructor(){return d(M)}}const M="app-check";function r(){}class a{zone;delegate;constructor(C,x=s.queueScheduler){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,j){const B=this.zone;return this.delegate.schedule(function(R){B.runGuarded(()=>{C.apply(this,[R])})},x,j)}}class o{zone;task=null;constructor(C){this.zone=C}call(C,x){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",r,{},r,r)),x.pipe((0,v.tap)({next:j,complete:j,error:j})).subscribe(C).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let E=(()=>{class I{ngZone;outsideAngular;insideAngular;constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new a(Zone.current)),this.insideAngular=x.run(()=>new a(Zone.current,s.asyncScheduler)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(j){return new(j||I)(e.\u0275\u0275inject(e.NgZone))};static \u0275prov=e.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();function f(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function y(I){return f().ngZone.run(()=>I())}function w(I){return I.pipe((0,v.observeOn)(f().outsideAngular))}function g(I){return I.pipe((0,v.observeOn)(f().insideAngular))}function N(I){return S(f())(I)}function S(I){return function(x){return(x=x.lift(new o(I.ngZone))).pipe((0,v.subscribeOn)(I.outsideAngular),(0,v.observeOn)(I.insideAngular))}}const h=(I,C)=>function(){const j=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),y(()=>I.apply(void 0,j))},W=(I,C)=>function(){let x;const j=arguments;for(let G=0;G<arguments.length;G++)"function"==typeof j[G]&&(C&&(x||=y(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",r,{},r,r))),j[G]=h(j[G],x));const B=function O(I){return f().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,j));if(!C){if(B instanceof s.Observable){const G=f();return B.pipe((0,v.subscribeOn)(G.outsideAngular),(0,v.observeOn)(G.insideAngular))}return y(()=>B)}return B instanceof s.Observable?B.pipe(N):B instanceof Promise?y(()=>new Promise((G,R)=>B.then(m=>y(()=>G(m)),m=>y(()=>R(m))))):"function"==typeof B&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),B.apply(this,arguments)}:y(()=>B)}},5940:(b,_,t)=>{t.r(_),t.d(_,{MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS:()=>v,MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY:()=>T,MatProgressSpinner:()=>d,MatProgressSpinnerModule:()=>M,MatSpinner:()=>c});var e=t(3731),l=t(6571),u=t(3122);const i=["determinateSpinner"];function s(r,a){if(1&r&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",11),e.\u0275\u0275element(1,"circle",12),e.\u0275\u0275elementEnd()),2&r){const o=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("viewBox",o._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeCircumference()/2,"px")("stroke-width",o._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",o._circleRadius())}}const v=new e.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:T});function T(){return{diameter:n}}const n=100;let d=(()=>{class r{get color(){return this._color||this._defaultColor}set color(o){this._color=o}constructor(o,E,f){this._elementRef=o,this._defaultColor="primary",this._value=0,this._diameter=n,this._noopAnimations="NoopAnimations"===E&&!!f&&!f._forceAnimations,this.mode="mat-spinner"===o.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",f&&(f.color&&(this.color=this._defaultColor=f.color),f.diameter&&(this.diameter=f.diameter),f.strokeWidth&&(this.strokeWidth=f.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(o){this._value=Math.max(0,Math.min(100,o||0))}get diameter(){return this._diameter}set diameter(o){this._diameter=o||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(o){this._strokeWidth=o||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const o=2*this._circleRadius()+this.strokeWidth;return`0 0 ${o} ${o}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(E){return new(E||r)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8),e.\u0275\u0275directiveInject(v))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(E,f){if(1&E&&e.\u0275\u0275viewQuery(i,5),2&E){let O;e.\u0275\u0275queryRefresh(O=e.\u0275\u0275loadQuery())&&(f._determinateCircle=O.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(E,f){2&E&&(e.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===f.mode?f.value:null)("mode",f.mode),e.\u0275\u0275classMap("mat-"+f.color),e.\u0275\u0275styleProp("width",f.diameter,"px")("height",f.diameter,"px")("--mdc-circular-progress-size",f.diameter+"px")("--mdc-circular-progress-active-indicator-width",f.diameter+"px"),e.\u0275\u0275classProp("_mat-animation-noopable",f._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===f.mode))},inputs:{color:"color",mode:"mode",value:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"value","value",e.numberAttribute],diameter:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"diameter","diameter",e.numberAttribute],strokeWidth:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"strokeWidth","strokeWidth",e.numberAttribute]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.\u0275\u0275InputTransformsFeature,e.\u0275\u0275StandaloneFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(E,f){if(1&E&&(e.\u0275\u0275template(0,s,2,8,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",1,2),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(4,"svg",3),e.\u0275\u0275element(5,"circle",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),e.\u0275\u0275elementContainer(9,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementContainer(11,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementContainer(13,8),e.\u0275\u0275elementEnd()()()),2&E){const O=e.\u0275\u0275reference(1);e.\u0275\u0275advance(4),e.\u0275\u0275attribute("viewBox",f._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",f._strokeCircumference(),"px")("stroke-dashoffset",f._strokeDashOffset(),"px")("stroke-width",f._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",f._circleRadius()),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngTemplateOutlet",O),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",O),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",O)}},dependencies:[l.NgTemplateOutlet],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return r})();const c=d;let M=(()=>{class r{static#e=this.\u0275fac=function(E){return new(E||r)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:r});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.CommonModule,u.MatCommonModule]})}return r})()},8091:(b,_,t)=>{t.r(_),t.d(_,{LetDirective:()=>y,PushPipe:()=>w,RenderScheduler:()=>n});var e=t(3731),l=t(3635),u=t(5893);let s=(()=>{class g{static#e=this.\u0275fac=function(h){return new(h||g)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:()=>function i(g){return g instanceof e.NgZone}((0,e.inject)(e.NgZone))?new T:(0,e.inject)(v),providedIn:"root"})}return g})(),v=(()=>{class g extends s{constructor(S){super(),this.appRef=S,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}static#e=this.\u0275fac=function(h){return new(h||g)(e.\u0275\u0275inject(e.ApplicationRef))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();class T extends s{schedule(){}}let n=(()=>{class g{constructor(S,h){this.cdRef=S,this.tickScheduler=h}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}static#e=this.\u0275fac=function(h){return new(h||g)(e.\u0275\u0275inject(e.ChangeDetectorRef),e.\u0275\u0275inject(s))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac})}return g})();function E(g){const N=function d(g){return N=>g[N.type]?.(N)}(g),S=new l.ReplaySubject(1);return{nextPotentialObservable(h){S.next(h)},handlePotentialObservableChanges:()=>S.pipe((0,u.distinctUntilChanged)(),function f(){return(0,l.pipe)((0,u.switchMap)(g=>{const N=function c(g){return(0,l.isObservable)(g)?g:function r(g){return function a(g){return!!g&&"object"==typeof g&&!Array.isArray(g)}(g)&&Object.keys(g).length>0&&Object.values(g).every(l.isObservable)}(g)?(0,l.combineLatest)(function o(g){return Object.keys(g).reduce((N,S)=>({...N,[S]:g[S].pipe((0,u.distinctUntilChanged)())}),{})}(g)):function M(g){return"function"==typeof g?.then}(g)?(0,l.from)(g):new l.Observable(N=>{N.next(g)})}(g);let S=!0,h=!0;return new l.Observable(W=>{const I=(0,e.untracked)(()=>N.subscribe({next(C){W.next({type:"next",value:C,reset:S,synchronous:h}),S=!1},error(C){W.next({type:"error",error:C,reset:S,synchronous:h}),S=!1},complete(){W.next({type:"complete",reset:S,synchronous:h}),S=!1}}));return S&&(W.next({type:"suspense",reset:S,synchronous:!0}),S=!1),h=!1,I})}))}(),(0,u.distinctUntilChanged)(O),(0,u.tap)(N))}}function O(g,N){return g.type===N.type&&g.reset===N.reset&&("next"===N.type?g.value===N.value:"error"!==N.type||g.error===N.error)}let y=(()=>{class g{set ngrxLet(S){this.renderEventManager.nextPotentialObservable(S)}constructor(S,h,W,I){this.mainTemplateRef=S,this.viewContainerRef=h,this.errorHandler=W,this.renderScheduler=I,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=E({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:C=>{this.viewContext.$implicit=C.value,this.viewContext.ngrxLet=C.value,C.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(C.synchronous)},error:C=>{this.viewContext.error=C.error,C.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(C.synchronous),this.errorHandler.handleError(C.error)},complete:C=>{this.viewContext.complete=!0,C.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(C.synchronous)}}),this.subscription=new l.Subscription}static ngTemplateContextGuard(S,h){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(S){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),S||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}static#e=this.\u0275fac=function(h){return new(h||g)(e.\u0275\u0275directiveInject(e.TemplateRef),e.\u0275\u0275directiveInject(e.ViewContainerRef),e.\u0275\u0275directiveInject(e.ErrorHandler),e.\u0275\u0275directiveInject(n))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:g,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:[e.\u0275\u0275InputFlags.None,"ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[e.\u0275\u0275ProvidersFeature([n])]})}return g})(),w=(()=>{class g{constructor(S){this.errorHandler=S,this.renderScheduler=function p(){return new n((0,e.inject)(e.ChangeDetectorRef),(0,e.inject)(s))}(),this.renderEventManager=E({suspense:h=>this.setRenderedValue(void 0,h.synchronous),next:h=>this.setRenderedValue(h.value,h.synchronous),error:h=>{h.reset&&this.setRenderedValue(void 0,h.synchronous),this.errorHandler.handleError(h.error)},complete:h=>{h.reset&&this.setRenderedValue(void 0,h.synchronous)}}),this.subscription=this.renderEventManager.handlePotentialObservableChanges().subscribe()}transform(S){return this.renderEventManager.nextPotentialObservable(S),this.renderedValue}ngOnDestroy(){this.subscription.unsubscribe()}setRenderedValue(S,h){S!==this.renderedValue&&(this.renderedValue=S,h||this.renderScheduler.schedule())}static#e=this.\u0275fac=function(h){return new(h||g)(e.\u0275\u0275directiveInject(e.ErrorHandler,16))};static#t=this.\u0275pipe=e.\u0275\u0275definePipe({name:"ngrxPush",type:g,pure:!1,standalone:!0})}return g})()},493:(b,_,t)=>{t.r(_),t.d(_,{DEFAULT_ROUTER_FEATURENAME:()=>O,FullRouterStateSerializer:()=>N,MinimalRouterStateSerializer:()=>E,NavigationActionTiming:()=>f,ROUTER_CANCEL:()=>p,ROUTER_CONFIG:()=>w,ROUTER_ERROR:()=>c,ROUTER_NAVIGATED:()=>r,ROUTER_NAVIGATION:()=>T,ROUTER_REQUEST:()=>s,RouterStateSerializer:()=>S,StoreRouterConnectingModule:()=>j,createRouterSelector:()=>B,getRouterSelectors:()=>G,provideRouterStore:()=>x,routerCancelAction:()=>d,routerErrorAction:()=>M,routerNavigatedAction:()=>a,routerNavigationAction:()=>n,routerReducer:()=>o,routerRequestAction:()=>v});var e=t(5793),l=t(3731),u=t(9964),i=t(5893);const s="@ngrx/router-store/request",v=(0,e.createAction)(s,(0,e.props)()),T="@ngrx/router-store/navigation",n=(0,e.createAction)(T,(0,e.props)()),p="@ngrx/router-store/cancel",d=(0,e.createAction)(p,(0,e.props)()),c="@ngrx/router-store/error",M=(0,e.createAction)(c,(0,e.props)()),r="@ngrx/router-store/navigated",a=(0,e.createAction)(r,(0,e.props)());function o(R,m){const D=m;switch(D.type){case T:case c:case p:return{state:D.payload.routerState,navigationId:D.payload.event.id};default:return R}}class E{serialize(m){return{root:this.serializeRoute(m.root),url:m.url}}serializeRoute(m){const D=m.children.map(U=>this.serializeRoute(U));return{params:m.params,data:m.data,url:m.url,outlet:m.outlet,title:m.title,routeConfig:m.routeConfig?{path:m.routeConfig.path,pathMatch:m.routeConfig.pathMatch,redirectTo:m.routeConfig.redirectTo,outlet:m.routeConfig.outlet,title:"string"==typeof m.routeConfig.title?m.routeConfig.title:void 0}:null,queryParams:m.queryParams,fragment:m.fragment,firstChild:D[0],children:D}}}var f=function(R){return R[R.PreActivation=1]="PreActivation",R[R.PostActivation=2]="PostActivation",R}(f||{});const O="router",y=new l.InjectionToken("@ngrx/router-store Internal Configuration"),w=new l.InjectionToken("@ngrx/router-store Configuration");function g(R){return{stateKey:O,serializer:E,navigationActionTiming:f.PreActivation,...R}}class N{serialize(m){return{root:this.serializeRoute(m.root),url:m.url}}serializeRoute(m){const D=m.children.map(U=>this.serializeRoute(U));return{params:m.params,paramMap:m.paramMap,data:m.data,url:m.url,outlet:m.outlet,title:m.title,routeConfig:m.routeConfig?{component:m.routeConfig.component,path:m.routeConfig.path,pathMatch:m.routeConfig.pathMatch,redirectTo:m.routeConfig.redirectTo,outlet:m.routeConfig.outlet,title:m.routeConfig.title}:null,queryParams:m.queryParams,queryParamMap:m.queryParamMap,fragment:m.fragment,component:m.routeConfig?m.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:D[0],pathFromRoot:void 0,children:D}}}class S{}var h=function(R){return R[R.NONE=1]="NONE",R[R.ROUTER=2]="ROUTER",R[R.STORE=3]="STORE",R}(h||{});let W=(()=>{class R{constructor(D,U,F,k,K,z){this.store=D,this.router=U,this.serializer=F,this.errorHandler=k,this.config=K,this.activeRuntimeChecks=z,this.lastEvent=null,this.routerState=null,this.trigger=h.NONE,this.stateKey=this.config.stateKey,!(0,e.isNgrxMockEnvironment)()&&(0,l.isDevMode)()&&(z?.strictActionSerializability||z?.strictStateSerializability)&&this.serializer instanceof N&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,e.select)(this.stateKey),(0,i.withLatestFrom)(this.store)).subscribe(([D,U])=>{this.navigateIfNeeded(D,U)})}navigateIfNeeded(D,U){if(!D||!D.state||this.trigger===h.ROUTER||this.lastEvent instanceof u.NavigationStart)return;const F=D.state.url;(function I(R,m){return C(R)===C(m)})(this.router.url,F)||(this.storeState=U,this.trigger=h.STORE,this.router.navigateByUrl(F).catch(k=>{this.errorHandler.handleError(k)}))}setUpRouterEventsListener(){const D=this.config.navigationActionTiming===f.PostActivation;let U;this.router.events.pipe((0,i.withLatestFrom)(this.store)).subscribe(([F,k])=>{this.lastEvent=F,F instanceof u.NavigationStart?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==h.STORE&&(this.storeState=k,this.dispatchRouterRequest(F))):F instanceof u.RoutesRecognized?(U=F,!D&&this.trigger!==h.STORE&&this.dispatchRouterNavigation(F)):F instanceof u.NavigationCancel?(this.dispatchRouterCancel(F),this.reset()):F instanceof u.NavigationError?(this.dispatchRouterError(F),this.reset()):F instanceof u.NavigationEnd&&(this.trigger!==h.STORE&&(D&&this.dispatchRouterNavigation(U),this.dispatchRouterNavigated(F)),this.reset())})}dispatchRouterRequest(D){this.dispatchRouterAction(s,{event:D})}dispatchRouterNavigation(D){const U=this.serializer.serialize(D.state);this.dispatchRouterAction(T,{routerState:U,event:new u.RoutesRecognized(D.id,D.url,D.urlAfterRedirects,U)})}dispatchRouterCancel(D){this.dispatchRouterAction(p,{storeState:this.storeState,event:D})}dispatchRouterError(D){this.dispatchRouterAction(c,{storeState:this.storeState,event:new u.NavigationError(D.id,D.url,`${D}`)})}dispatchRouterNavigated(D){const U=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(r,{event:D,routerState:U})}dispatchRouterAction(D,U){this.trigger=h.ROUTER;try{this.store.dispatch({type:D,payload:{routerState:this.routerState,...U,event:0===this.config.routerState?U.event:{id:U.event.id,url:U.event.url,urlAfterRedirects:U.event.urlAfterRedirects}}})}finally{this.trigger=h.NONE}}reset(){this.trigger=h.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(U){return new(U||R)(l.\u0275\u0275inject(e.Store),l.\u0275\u0275inject(u.Router),l.\u0275\u0275inject(S),l.\u0275\u0275inject(l.ErrorHandler),l.\u0275\u0275inject(w),l.\u0275\u0275inject(e.ACTIVE_RUNTIME_CHECKS))};static#t=this.\u0275prov=l.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac})}return R})();function C(R){return R?.length>0&&"/"===R[R.length-1]?R.substring(0,R.length-1):R}function x(R={}){return(0,l.makeEnvironmentProviders)([{provide:y,useValue:R},{provide:w,useFactory:g,deps:[y]},{provide:S,useClass:R.serializer?R.serializer:0===R.routerState?N:E},{provide:l.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>()=>(0,l.inject)(W)},W])}let j=(()=>{class R{static forRoot(D={}){return{ngModule:R,providers:[x(D)]}}static#e=this.\u0275fac=function(U){return new(U||R)};static#t=this.\u0275mod=l.\u0275\u0275defineNgModule({type:R});static#r=this.\u0275inj=l.\u0275\u0275defineInjector({})}return R})();function B(){return(0,e.createFeatureSelector)(O)}function G(R=B()){const m=(0,e.createSelector)(R,A=>A&&A.state),D=(0,e.createSelector)(m,A=>A&&A.root),U=(0,e.createSelector)(D,A=>{if(!A)return;let P=A;for(;P.firstChild;)P=P.firstChild;return P}),F=(0,e.createSelector)(D,A=>A&&A.fragment),k=(0,e.createSelector)(D,A=>A&&A.queryParams),z=(0,e.createSelector)(U,A=>A&&A.params),X=(0,e.createSelector)(U,A=>A&&A.data),L=(0,e.createSelector)(m,A=>A&&A.url),Y=(0,e.createSelector)(U,A=>{if(A?.routeConfig)return"string"==typeof A.routeConfig.title?A.routeConfig.title:A.title});return{selectCurrentRoute:U,selectFragment:F,selectQueryParams:k,selectQueryParam:A=>(0,e.createSelector)(k,P=>P&&P[A]),selectRouteParams:z,selectRouteParam:A=>(0,e.createSelector)(z,P=>P&&P[A]),selectRouteData:X,selectRouteDataParam:A=>(0,e.createSelector)(X,P=>P&&P[A]),selectUrl:L,selectTitle:Y}}}}]);