(self.webpackChunkworkout_exercise_templates=self.webpackChunkworkout_exercise_templates||[]).push([[8592],{1598:(B,_,t)=>{t.d(_,{C:()=>g,j:()=>r});var e=t(5793),c=t(9287);const o={[c.wX]:c.NJ},g="exercise-template",r=(T=o,E)=>(0,e.combineReducers)({[c.wX]:c.u$},o)(T,E)},3419:(B,_,t)=>{t.d(_,{y:()=>r});var e=t(9964),o=t(3731);let r=/^(179|4511)$/.test(t.j)?(()=>{class T{static#e=this.\u0275fac=function(p){return new(p||T)};static#t=this.\u0275cmp=o.\u0275\u0275defineComponent({type:T,selectors:[["workout-tracker-exercise-templates"]],standalone:!0,features:[o.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(p,n){1&p&&o.\u0275\u0275element(0,"router-outlet")},dependencies:[e.RouterOutlet],styles:["[_nghost-%COMP%]{height:100%}"]})}return T})():null},3081:(B,_,t)=>{t.d(_,{l:()=>u});var e=t(3731),r=(t(9964),t(5793)),E=t(3635),p=t(3826),n=t(8267);let u=/^(179|4511)$/.test(t.j)?(()=>{class f{constructor(){this.store=(0,e.inject)(r.Store)}resolve(s){const a=s.paramMap.get("id");return a?(this.store.dispatch((0,p.Cb)({exerciseId:a})),this.store.select(n.X7).pipe((0,E.filter)(d=>!!d))):(0,E.of)(void 0)}static#e=this.\u0275fac=function(a){return new(a||f)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})():null},2690:(B,_,t)=>{t.d(_,{s:()=>u});var e=t(3731),r=(t(9964),t(5793)),E=t(4232),p=t(3635);let u=/^(179|4511)$/.test(t.j)?(()=>{class f{constructor(){this.store=(0,e.inject)(r.Store)}resolve(s){return this.store.dispatch((0,E.getUserExerciseTemplatesListRequest)()),this.store.select((0,E.getIsAppLoaded)(E.AppInit.EXERCISES_TEMPLATES)).pipe((0,p.filter)(a=>a),(0,p.mergeMap)(()=>this.store.select(E.getExerciseTemplatesList)))}static#e=this.\u0275fac=function(a){return new(a||f)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})():null},3826:(B,_,t)=>{t.d(_,{$I:()=>P,Cb:()=>g,Ck:()=>s,F9:()=>f,FI:()=>T,Io:()=>y,JU:()=>d,PO:()=>n,TV:()=>F,YE:()=>I,gi:()=>v,o7:()=>i,qd:()=>x});var e=t(5793);const g=(0,e.createAction)("GET USER EXERCISE TEMPLATE DETAILS",(0,e.props)()),T=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Request",(0,e.props)()),i=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Success",(0,e.props)()),n=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE DETAILS Error",(0,e.props)()),f=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Request",(0,e.props)()),s=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Success",(0,e.props)()),d=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE DETAILS Error",(0,e.props)()),I=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Request",(0,e.props)()),F=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Success",(0,e.props)()),x=(0,e.createAction)("GET AUTHENTICATED USER EXERCISE TEMPLATE TRAININGS DETAILS Error",(0,e.props)()),y=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Request",(0,e.props)()),v=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Success",(0,e.props)()),P=(0,e.createAction)("GET ANONYMOUS USER EXERCISE TEMPLATE TRAININGS DETAILS Error",(0,e.props)())},4741:(B,_,t)=>{t.d(_,{Q:()=>x});var e=t(3731),o=t(1705),r=t(3635),E=t(9964),p=t(5004),u=t(8467),S=t(5793),a=t(4232),l=t(3114),M=t(3826),F=t(8034);let x=/^(179|4511)$/.test(t.j)?(()=>{class R{constructor(){this.exerciseTemplatesService=(0,e.inject)(u.ExerciseTemplatesService),this.trainingService=(0,e.inject)(F.TrainingsService),this.translateService=(0,e.inject)(p.TranslateService),this.actions$=(0,e.inject)(o.Actions),this.router=(0,e.inject)(E.Router),this.store=(0,e.inject)(S.Store),this.getUserExerciseTemplateDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.Cb),(0,o.concatLatestFrom)(()=>this.store.select(a.getUser)),(0,r.mergeMap)(([{exerciseId:O},v])=>(0,r.iif)(()=>!!v,(0,r.of)((0,M.FI)({exerciseId:O})),(0,r.of)((0,M.F9)({exerciseId:O})))))),this.getAuthenticatedUserExerciseTemplateDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.FI),(0,o.concatLatestFrom)(()=>this.store.select(a.getUser)),(0,r.mergeMap)(([{exerciseId:O},v])=>this.exerciseTemplatesService.getExerciseTemplate(v?.uid,O).pipe((0,r.map)(C=>(0,M.o7)({exercise:C})),(0,r.catchError)(C=>(this.router.navigate([l.AppRoutes.WorkoutExerciseTemplatesList]),(0,r.of)((0,M.PO)({exerciseId:O})))))))),this.getAnonymousUserExerciseTemplateDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.F9),(0,r.mergeMap)(({exerciseId:O})=>this.store.select((0,a.getExerciseTemplateById)(O)).pipe((0,r.take)(1),(0,r.map)(v=>v?(0,M.Ck)({exercise:v}):(0,M.JU)({exerciseId:O})))))),this.getUserExerciseTemplateDetailsRequestError$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.JU,M.PO),(0,r.map)(({exerciseId:O})=>(0,a.showError)({errorMessage:`${this.translateService.instant("apps.workout-exercises.errors.exerciseNotFound",{exerciseId:O.toUpperCase()})}`})))),this.getExerciseTemplateTrainingsDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.Cb),(0,o.concatLatestFrom)(()=>this.store.select(a.getUser)),(0,r.mergeMap)(([{exerciseId:O},v])=>(0,r.iif)(()=>!!v,(0,r.of)((0,M.YE)({exerciseTemplateId:O})),(0,r.of)((0,M.Io)({exerciseTemplateId:O})))))),this.getAuthenticatedUserExerciseTemplateTrainingsDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.YE),(0,o.concatLatestFrom)(()=>this.store.select(a.getUser)),(0,r.mergeMap)(([{exerciseTemplateId:O},v])=>this.trainingService.getExerciseTemplateTrainingExercises(v?.uid,O).pipe((0,r.map)(C=>(0,M.TV)({trainings:C})),(0,r.catchError)(C=>(this.router.navigate([l.AppRoutes.WorkoutExerciseTemplatesList]),(0,r.of)((0,M.qd)({exerciseTemplateId:O})))))))),this.getAnonymousUserExerciseTemplateTrainingsDetailsRequest$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.Io),(0,r.mergeMap)(({exerciseTemplateId:O})=>this.store.select((0,a.getTrainingsByExerciseTemplateId)(O)).pipe((0,r.take)(1),(0,r.map)(v=>v?(0,M.gi)({trainings:v}):(0,M.$I)({exerciseTemplateId:O})))))),this.getUserExerciseTemplateTrainingsDetailsRequestError$=(0,o.createEffect)(()=>this.actions$.pipe((0,o.ofType)(M.qd,M.$I),(0,r.map)(({exerciseTemplateId:O})=>(0,a.showError)({errorMessage:`${this.translateService.instant("apps.workout-exercises.errors.exerciseTrainingsNotFound",{exerciseTemplateId:O.toUpperCase()})}`}))))}static#e=this.\u0275fac=function(v){return new(v||R)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac})}return R})():null},9287:(B,_,t)=>{t.d(_,{NJ:()=>r,u$:()=>T,wX:()=>g});var e=t(5793),o=t(3826);const g="exercise-template",r={details:{exercise:void 0,trainings:void 0}},T=(0,e.createReducer)(r,(0,e.on)(o.Cb,E=>({...r})),(0,e.on)(o.o7,o.Ck,(E,{exercise:i})=>({...E,details:{...E.details,exercise:i}})),(0,e.on)(o.TV,o.gi,(E,{trainings:i})=>({...E,details:{...E.details,trainings:i}})))},8267:(B,_,t)=>{t.d(_,{VT:()=>p,X7:()=>E,ET:()=>T});var e=t(5793),c=t(9287),o=t(1598);const g=(0,e.createFeatureSelector)(o.C),r=(0,e.createSelector)(g,n=>n[c.wX]),T=(0,e.createSelector)(r,n=>n.details),E=(0,e.createSelector)(T,n=>n.exercise),p=((0,e.createSelector)(T,n=>n.trainings),(0,e.createSelector)(T,n=>n.trainings&&n.exercise?n.trainings?.map(u=>({...u,trainingExercises:u.trainingExercises?.filter(f=>f.exerciseTemplate.id===n.exercise?.id)})):void 0))},5304:(B,_,t)=>{t.r(_),t.d(_,{DateAdapter:()=>c,ExerciseTemplateAdapter:()=>o,TrainingAdapter:()=>g,TrainingExerciseAdapter:()=>r,TrainingExerciseSerieAdapter:()=>T});var e=t(3894);class c{static toState(i){return i.toDate()}static toDto(i){return e.EK.fromDate(i)}}class o{static toState(i,p){return{...i,id:p,creationDate:c.toState(i.creationDate),lastModification:i.lastModification?c.toState(i.lastModification):void 0}}static toDto(i){return{name:i.name,musclesInvolved:i.musclesInvolved,image:i.image,observations:i.observations,creationDate:c.toDto(i.creationDate),lastModification:i.lastModification?c.toDto(i.lastModification):void 0}}}class g{static toState(i,p,n){return{...i,id:p,trainingExercises:n,creationDate:c.toState(i.creationDate),finishDate:i.finishDate?c.toState(i.finishDate):void 0}}static toDto(i){return{observations:i.observations,muscleGroups:i.muscleGroups,creationDate:c.toDto(i.creationDate),finishDate:i.finishDate?c.toDto(i.finishDate):void 0}}}class r{static toState(i,p,n,u){return{id:p,exerciseTemplate:n,series:u}}static toDto(i,p){return{exerciseTemplateId:p}}}class T{static toState(i,p){return{...i,id:p}}static toDto(i){return{weight:i.weight,repetitions:i.repetitions,observations:i.observations}}}},7906:(B,_,t)=>{t.r(_),t.d(_,{AppRoutes:()=>e,BannerType:()=>o,LibsModelsModule:()=>p,MessageTypes:()=>c,MuscleGroups:()=>g,MusclesInvolved:()=>r,muscleInvolvedByGroups:()=>T});var e=function(n){return n.Home="/",n.Login="/account/login",n.SignUp="/account/signUp",n.Settings="/account/settings",n.WorkoutExerciseTemplatesList="/exercise-templates",n.WorkoutTrainingsList="/trainings",n.WorkoutTrainingExercise="/exercise",n}(e||{}),c=function(n){return n[n.Error=0]="Error",n}(c||{}),o=function(n){return n[n.Info=0]="Info",n[n.Warning=1]="Warning",n[n.Success=2]="Success",n[n.Error=3]="Error",n}(o||{}),g=function(n){return n.Legs="Legs",n.Arms="Arms",n.Shoulder="Shoulder",n.Back="Back",n.Chest="Chest",n.Core="Core",n}(g||{}),r=function(n){return n.Abdominals="Abdominals",n.Abductors="Abductors",n.Adductors="Adductors",n.Biceps="Biceps",n.Calves="Calves",n.Chest="Chest",n.Forearms="Forearms",n.Glutes="Glutes",n.Hamstrings="Hamstrings",n.Lats="Lats",n.Lower_back="Lower_back",n.Middle_back="Middle_back",n.Neck="Neck",n.Quadriceps="Quadriceps",n.Traps="Traps",n.Triceps="Triceps",n.Anterior_deltoid="Anterior_deltoid",n.Medial_deltoid="Medial_deltoid",n.Posterior_deltoid="Posterior_deltoid",n}(r||{});const T={[g.Chest]:[r.Chest],[g.Back]:[r.Lower_back,r.Middle_back],[g.Legs]:[r.Abductors,r.Adductors,r.Quadriceps,r.Hamstrings,r.Calves],[g.Arms]:[r.Biceps,r.Triceps,r.Forearms],[g.Shoulder]:[r.Anterior_deltoid,r.Medial_deltoid,r.Posterior_deltoid],[g.Core]:[r.Abdominals]};var E=t(6571),i=t(3731);let p=(()=>{class n{static#e=this.\u0275fac=function(S){return new(S||n)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:n});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({imports:[E.CommonModule]})}return n})()},5111:(B,_,t)=>{t.r(_),t.d(_,{AuthService:()=>r,LibsServicesAuthModule:()=>i,authServiceMock:()=>T});var e=t(3731),c=t(3635),o=t(8251),g=t(7142);let r=(()=>{class p{constructor(){this.auth=(0,e.inject)(o.zQ)}logIn(u,f){return(0,c.from)(this.auth.signInWithEmailAndPassword(u,f))}logOut(){return(0,c.from)(this.auth.signOut())}signUp(u,f){return(0,c.from)(this.auth.createUserWithEmailAndPassword(u,f))}googleSignIn(){const u=new g.Z.auth.GoogleAuthProvider;return(0,c.from)(this.auth.signInWithPopup(u))}isNewUser(u){return!!u?.additionalUserInfo?.isNewUser}static#e=this.\u0275fac=function(f){return new(f||p)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})();const T={logIn:()=>(0,c.of)({}),logOut:()=>(0,c.of)(),signUp:()=>(0,c.of)({}),googleSignIn:()=>(0,c.of)({}),isNewUser:()=>!0};var E=t(6571);let i=(()=>{class p{static#e=this.\u0275fac=function(f){return new(f||p)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:p});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[r],imports:[E.CommonModule]})}return p})()},6052:(B,_,t)=>{t.r(_),t.d(_,{CultureService:()=>f,LibsServicesCultureModule:()=>S});var e=t(6571),c=t(3731),o=t(5004),g=t(3635);const r=void 0,E=["es",[["a.\xa0m.","p.\xa0m."],r,r],r,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],r,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],r,[["a. C.","d. C."],r,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[r,"$"],BRL:[r,"R$"],BYN:[r,"\u0440."],CAD:[r,"$"],CNY:[r,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[r,"\xa3"],HKD:[r,"$"],ILS:[r,"\u20aa"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NZD:[r,"$"],PHP:[r,"\u20b1"],RON:[r,"L"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:["US$","$"],XAF:[],XCD:[r,"$"],XOF:[]},"ltr",function T(s){const a=s,d=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length,I=parseInt(s.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===a?1:0===I&&0!==d&&d%1e6==0&&0===l||!(I>=0&&I<=5)?4:5}],i=void 0,n=["en",[["a","p"],["AM","PM"],i],[["AM","PM"],i,i],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],i,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",i,"{1} 'at' {0}",i],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p(s){const d=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===l?1:5}];var u=t(3122);let f=(()=>{class s{constructor(){this.defaultLangCode="ES-ES",this.translateService=(0,c.inject)(o.TranslateService),this.dateAdapter=(0,c.inject)(u.DateAdapter),this.acceptedLanguages=["EN-GB","ES-ES"]}initialize(){this.registerLocales(),this.translateService.setDefaultLang(this.defaultLangCode),this.translateService.addLangs(this.acceptedLanguages)}changeLanguage(d){return this.setCulture(d)}getBrowserLanguage(){return this.getLangCode(this.translateService.getBrowserCultureLang()||this.defaultLangCode)}changeDarkMode(d){this.setDarkMode(d)}getBrowserIsDarkMode(){return!1}registerLocales(){(0,e.registerLocaleData)(n),(0,e.registerLocaleData)(E)}getLangCode(d){return this.acceptedLanguages.find(I=>I===d.toUpperCase())||this.defaultLangCode}setCulture(d){return(0,e.registerLocaleData)(this.getLangCode(d)),this.dateAdapter.setLocale(d),this.translateService.use(this.getLangCode(d)).pipe((0,g.first)())}setDarkMode(d){console.log("setDarkMode",d)}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})}return s})(),S=(()=>{class s{static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:s});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[f],imports:[e.CommonModule]})}return s})()},8388:(B,_,t)=>{t.r(_),t.d(_,{DialogService:()=>r,LibsServicesDialogModule:()=>T});var e=t(6571),c=t(8978),o=t(3731),g=t(9576);let r=(()=>{class E{constructor(){this.dialog=(0,o.inject)(g.MatDialog)}showDialog(p,n,u){return this.dialog.open(p,{...u,panelClass:"dialogClass",disableClose:!n}).afterClosed()}static#e=this.\u0275fac=function(n){return new(n||E)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}return E})(),T=(()=>{class E{static#e=this.\u0275fac=function(n){return new(n||E)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:E});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[r],imports:[c.UiModule,e.CommonModule]})}return E})()},6992:(B,_,t)=>{t.r(_),t.d(_,{ExerciseTemplatesRefService:()=>T,ExerciseTemplatesService:()=>E,LibsServicesExerciseTemplatesModule:()=>i,exerciseTemplatesRefServiceMock:()=>n,exerciseTemplatesServiceMock:()=>p});var e=t(6571),c=t(3731),o=t(8154),g=t(3635),r=t(6369);let T=(()=>{class u{constructor(){this.firebaseDataBase=(0,c.inject)(r.ST)}getExerciseTemplatesCollectionRef(S){return this.firebaseDataBase.collection(`user/${S}/exerciseTemplates`)}getExerciseTemplateDocRef(S,s){return this.firebaseDataBase.doc(`user/${S}/exerciseTemplates/${s}`)}static#e=this.\u0275fac=function(s){return new(s||u)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac})}return u})(),E=(()=>{class u{constructor(){this.exerciseTemplatesRefService=(0,c.inject)(T)}getExerciseTemplate(S,s){return(0,g.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(S,s).get()).pipe((0,g.map)(a=>o.ExerciseTemplateAdapter.toState({...a.data()},a.id)))}getExerciseTemplates(S){return this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(S).get().pipe((0,g.map)(s=>s.docs.map(a=>o.ExerciseTemplateAdapter.toState({...a.data()},a.id))))}setExerciseTemplate(S,s){const a=o.ExerciseTemplateAdapter.toDto(s);return(0,g.from)(this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(S).add(a)).pipe((0,g.map)(d=>o.ExerciseTemplateAdapter.toState({...a},d.id)))}updateExerciseTemplate(S,s){s.lastModification=new Date;const a=o.ExerciseTemplateAdapter.toDto(s);return(0,g.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(S,s.id).update(a)).pipe((0,g.map)(()=>({...s})))}deleteExerciseTemplate(S,s){return(0,g.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(S,s.id).delete()).pipe((0,g.map)(()=>!0))}static#e=this.\u0275fac=function(s){return new(s||u)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac})}return u})(),i=(()=>{class u{static#e=this.\u0275fac=function(s){return new(s||u)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:u});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[E,T],imports:[e.CommonModule]})}return u})();const p={getExerciseTemplate:()=>(0,g.of)({}),getExerciseTemplates:()=>(0,g.of)([]),setExerciseTemplate:()=>(0,g.of)({}),updateExerciseTemplate:()=>(0,g.of)({}),deleteExerciseTemplate:()=>(0,g.of)(!0)},n={getExerciseTemplatesCollectionRef:()=>({}),getExerciseTemplateDocRef:()=>({})}},8959:(B,_,t)=>{t.r(_),t.d(_,{LibsServicesMessageModule:()=>E,MessageService:()=>T});var e=t(6571),c=t(8978),o=t(3731),g=t(3496),r=t(3635);let T=(()=>{class i{constructor(){this.snackBar=(0,o.inject)(g.MatSnackBar)}showAlertMessage(n,u){return this.snackBar.open(u,void 0,{horizontalPosition:"right",verticalPosition:"top",duration:3e3}).afterDismissed().pipe((0,r.map)(s=>s.dismissedByAction))}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac})}return i})(),E=(()=>{class i{static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:i});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[T],imports:[c.UiModule,e.CommonModule]})}return i})()},1759:(B,_,t)=>{t.r(_),t.d(_,{LibsServicesTrainingsModule:()=>n,TrainingsService:()=>p,trainingsServiceMock:()=>u});var e=t(6571),c=t(3731),o=t(8154),r=(t(3114),t(3635)),T=t(8467),E=t(6369);let i=(()=>{class f{constructor(){this.firebaseDataBase=(0,c.inject)(E.ST)}getTrainingsPaginatedQuery(s){return d=>{let l=d;return s.filters.betweenDates&&(l=l.where("creationDate",">=",o.DateAdapter.toDto(s.filters.betweenDates.fromDate)).where("creationDate","<=",o.DateAdapter.toDto(s.filters.betweenDates.toDate))),s.filters.muscleGroups.length&&(l=l.where("muscleGroups","array-contains-any",s.filters.muscleGroups)),l=l.limit(s.pagination.pageElements).orderBy("creationDate","desc"),s.pagination.lastElement&&(l=l.startAfter(o.DateAdapter.toDto(s.pagination.lastElement.creationDate))),l}}getTrainingsCollectionRef(s){return this.firebaseDataBase.collection(`user/${s}/trainings`)}getTrainingsPaginatedCollectionRef(s,a){const d=this.getTrainingsPaginatedQuery(a);return this.firebaseDataBase.collection(`user/${s}/trainings`,d)}getTrainingExercisesCollectionRef(s,a){return this.firebaseDataBase.collection(`user/${s}/trainings/${a}/exercises`)}getTrainingExerciseSeriesCollectionRef(s,a,d){return this.firebaseDataBase.collection(`user/${s}/trainings/${a}/exercises/${d}/series`)}getTrainingDocRef(s,a){return this.firebaseDataBase.doc(`user/${s}/trainings/${a}`)}getTrainingExerciseDocRef(s,a,d){return this.firebaseDataBase.doc(`user/${s}/trainings/${a}/exercises/${d}`)}getTrainingExerciseSerieDocRef(s,a,d,l){return this.firebaseDataBase.doc(`user/${s}/trainings/${a}/exercises/${d}/series/${l}`)}getExerciseTemplateTrainingExercisesDocRefs(s,a,d){return this.firebaseDataBase.collectionGroup("exercises",I=>{let M=I;return M=M.where("exerciseTemplateId","==",d.ref),M=M.limit(5),M})}static#e=this.\u0275fac=function(a){return new(a||f)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})(),p=(()=>{class f{constructor(){this.exerciseTemplateRefService=(0,c.inject)(T.ExerciseTemplatesRefService),this.trainingsRefService=(0,c.inject)(i)}getTraining(s,a){return this.trainingsRefService.getTrainingDocRef(s,a).get().pipe((0,r.switchMap)(d=>{const l=d.id,I=d.data();return this.getTrainingExercises(s,l).pipe((0,r.map)(M=>o.TrainingAdapter.toState(I,l,M)))}))}getTrainings(s,a){return this.trainingsRefService.getTrainingsPaginatedCollectionRef(s,a).get().pipe((0,r.switchMap)(d=>{const l=[];return d.docs.forEach(I=>{const M=I.id,F=I.data(),h=this.getTrainingExercises(s,M).pipe((0,r.map)(x=>o.TrainingAdapter.toState(F,M,x)));l.push(h)}),(0,r.forkJoin)(l).pipe((0,r.defaultIfEmpty)([]))}),(0,r.catchError)(d=>{throw console.log("error",d),d}))}getExerciseTemplateTrainingExercises(s,a){return this.trainingsRefService.getExerciseTemplateTrainingExercisesDocRefs(s,a,this.exerciseTemplateRefService.getExerciseTemplateDocRef(s,a)).get().pipe((0,r.switchMap)(d=>{const l=[];return[...new Set(d.docs.map(I=>I.ref.parent.parent?.id))].map(I=>{if(I){const M=this.getTraining(s,I);l.push(M)}}),(0,r.forkJoin)(l).pipe((0,r.defaultIfEmpty)([]))}),(0,r.catchError)(d=>{throw console.log("error",d),d}))}getTrainingExercise(s,a,d){return this.trainingsRefService.getTrainingExerciseDocRef(s,a,d).get().pipe((0,r.switchMap)(l=>{const I=l.id,M=l.data();return(0,r.combineLatest)(M.exerciseTemplateId.get(),this.getTrainingExerciseSeries(s,a,I)).pipe((0,r.map)(([F,h])=>o.TrainingExerciseAdapter.toState(M,I,o.ExerciseTemplateAdapter.toState(F.data(),F.id),h)))}))}getTrainingExercises(s,a){return this.trainingsRefService.getTrainingExercisesCollectionRef(s,a).get().pipe((0,r.switchMap)(d=>{const l=[];return d.docs.forEach(I=>{const M=I.id,F=I.data(),h=(0,r.combineLatest)(F.exerciseTemplateId.get(),this.getTrainingExerciseSeries(s,a,M)).pipe((0,r.map)(([x,R])=>o.TrainingExerciseAdapter.toState(F,M,o.ExerciseTemplateAdapter.toState(x.data(),x.id),R)));l.push(h)}),(0,r.forkJoin)(l).pipe((0,r.defaultIfEmpty)([]))}))}getTrainingExerciseSeries(s,a,d){return this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(s,a,d).get().pipe((0,r.map)(l=>l.docs.map(I=>o.TrainingExerciseSerieAdapter.toState(I.data(),I.id))))}setTraining(s,a){const d=o.TrainingAdapter.toDto(a);return(0,r.from)(this.trainingsRefService.getTrainingsCollectionRef(s).add(d)).pipe((0,r.map)(l=>o.TrainingAdapter.toState(d,l.id,[])))}setTrainingExercise(s,a,d){const l=o.TrainingExerciseAdapter.toDto(d,this.exerciseTemplateRefService.getExerciseTemplateDocRef(s,d.exerciseTemplate.id).ref);return(0,r.from)(this.trainingsRefService.getTrainingExercisesCollectionRef(s,a).add(l)).pipe((0,r.map)(I=>o.TrainingExerciseAdapter.toState(l,I.id,d.exerciseTemplate,[])))}setTrainingExerciseSerie(s,a,d,l){const I=o.TrainingExerciseSerieAdapter.toDto(l);return(0,r.from)(this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(s,a,d).add(I)).pipe((0,r.map)(M=>o.TrainingExerciseSerieAdapter.toState(I,M.id)))}updateTraining(s,a){const d=o.TrainingAdapter.toDto(a);return(0,r.from)(this.trainingsRefService.getTrainingDocRef(s,a.id).update(d)).pipe((0,r.map)(()=>({...a})))}updateTrainingExercise(s,a,d){const l=o.TrainingExerciseAdapter.toDto(d,this.exerciseTemplateRefService.getExerciseTemplateDocRef(s,d.exerciseTemplate.id).ref);return(0,r.from)(this.trainingsRefService.getTrainingExerciseDocRef(s,a,d.id).update(l)).pipe((0,r.map)(()=>({...d})))}updateTrainingExerciseSerie(s,a,d,l){const I=o.TrainingExerciseSerieAdapter.toDto(l);return(0,r.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(s,a,d,l.id).update(I)).pipe((0,r.map)(()=>({...l})))}deleteTraining(s,a){return(0,r.from)(this.trainingsRefService.getTrainingDocRef(s,a.id).delete()).pipe((0,r.map)(()=>!0))}deleteTrainingExercise(s,a,d){return(0,r.from)(this.trainingsRefService.getTrainingExerciseDocRef(s,a,d.id).delete()).pipe((0,r.map)(()=>!0))}deleteTrainingExerciseSerie(s,a,d,l){return(0,r.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(s,a,d,l.id).delete()).pipe((0,r.map)(()=>!0))}static#e=this.\u0275fac=function(a){return new(a||f)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}return f})(),n=(()=>{class f{static#e=this.\u0275fac=function(a){return new(a||f)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:f});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[p,i],imports:[e.CommonModule]})}return f})();const u={getTraining:()=>(0,r.of)({}),getTrainings:()=>(0,r.of)([]),getTrainingExercise:()=>(0,r.of)({}),getExerciseTemplateTrainingExercises:()=>(0,r.of)([]),setTraining:()=>(0,r.of)({}),setTrainingExercise:()=>(0,r.of)({}),setTrainingExerciseSerie:()=>(0,r.of)({}),updateTraining:()=>(0,r.of)({}),updateTrainingExercise:()=>(0,r.of)({}),updateTrainingExerciseSerie:()=>(0,r.of)({}),deleteTraining:()=>(0,r.of)(!0),deleteTrainingExercise:()=>(0,r.of)(!0),deleteTrainingExerciseSerie:()=>(0,r.of)(!0)}},7185:(B,_,t)=>{t.r(_),t.d(_,{LibsServicesUserSettingsModule:()=>E,UserSettingsService:()=>T,userSettingsServiceMock:()=>i});var e=t(6571),c=t(3731),o=t(6369),g=t(3635),r=t(3690);let T=(()=>{class p{constructor(){this.firebaseDataBase=(0,c.inject)(o.ST),this.cultureService=(0,c.inject)(r.CultureService)}getUserSettingsDocRef(u){return this.firebaseDataBase.collection("user").doc(u)}applyUserSettings(u){this.cultureService.changeLanguage(u.language),this.cultureService.changeDarkMode(u.darkMode)}getBrowserSettings(){return{language:this.cultureService.getBrowserLanguage(),darkMode:this.cultureService.getBrowserIsDarkMode()}}getAnonymousSettings(){const u=this.getBrowserSettings();return this.applyUserSettings(u),(0,g.of)(u)}getUserSettings(u){return this.getUserSettingsDocRef(u).get().pipe((0,g.map)(f=>{const S=f.data();return this.applyUserSettings(S),S}))}setUserSettings(u){const f=this.getBrowserSettings();return(0,g.from)(this.getUserSettingsDocRef(u).set(f,{})).pipe((0,g.map)(()=>(this.applyUserSettings(f),f)))}updateAnonymousSettings(u){return this.applyUserSettings(u),(0,g.of)(u)}updateUserSettings(u,f){return(0,g.from)(this.getUserSettingsDocRef(u).update(f)).pipe((0,g.map)(()=>(this.applyUserSettings(f),f)))}static#e=this.\u0275fac=function(f){return new(f||p)};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})(),E=(()=>{class p{static#e=this.\u0275fac=function(f){return new(f||p)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:p});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[T],imports:[e.CommonModule]})}return p})();const i={setUserSettings:()=>(0,g.of)({}),getUserSettings:()=>(0,g.of)({}),getAnonymousSettings:()=>(0,g.of)({}),updateAnonymousSettings:()=>(0,g.of)({}),updateUserSettings:()=>(0,g.of)({})}},5211:(B,_,t)=>{t.r(_),t.d(_,{IntersectionObserverDirective:()=>G,LocalizedDatePipe:()=>D,MuscleGroupPillDirective:()=>P,MuscleInvolvedGroupPipe:()=>w,UiModule:()=>y,accordionAnimation:()=>W,collapseAnimation:()=>$,opacityAnimation:()=>H,rotateAnimation:()=>X,shakeAnimation:()=>Y});var e=t(6571),c=t(7141),o=t(8279),g=t(5077),r=t(470),T=t(7666),E=t(5160),i=t(3731);const p=[o.MatInputModule,c.MatSlideToggleModule,g.MatFormFieldModule,r.MatButtonModule,E.MatTableModule,T.MatIconModule];let n=(()=>{class N{static#e=this.\u0275fac=function(k){return new(k||N)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:N});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({imports:[p,o.MatInputModule,c.MatSlideToggleModule,g.MatFormFieldModule,r.MatButtonModule,E.MatTableModule,T.MatIconModule]})}return N})();var u=t(6751),f=t(4168),S=t(5416),s=t(9698),a=t(3496),d=t(5189),l=t(3122),I=t(6278),M=t(9576),F=t(5388),h=t(4503),x=t(5692),R=t(5239);let y=(()=>{class N{static#e=this.\u0275fac=function(k){return new(k||N)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:N});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[(0,l.provideNativeDateAdapter)(),{provide:l.MAT_DATE_LOCALE,useValue:"es-ES"}],imports:[e.CommonModule,u.FormsModule,g.MatFormFieldModule,n,u.ReactiveFormsModule,f.MatPaginatorModule,S.MatCardModule,a.MatSnackBarModule,M.MatDialogModule,F.MatButtonToggleModule,r.MatButtonModule,h.MatStepperModule,x.MatDatepickerModule,R.MatDividerModule,e.CommonModule,u.FormsModule,g.MatFormFieldModule,n,u.ReactiveFormsModule,f.MatPaginatorModule,s.MatProgressSpinnerModule,S.MatCardModule,d.MatSelectModule,I.MatCheckboxModule,c.MatSlideToggleModule,l.MatOptionModule,a.MatSnackBarModule,M.MatDialogModule,F.MatButtonToggleModule,r.MatButtonModule,h.MatStepperModule,x.MatDatepickerModule,R.MatDividerModule]})}return N})();var O=t(3114);const v={[O.MuscleGroups.Arms]:"#ffffff",[O.MuscleGroups.Back]:"#000000",[O.MuscleGroups.Chest]:"#000000",[O.MuscleGroups.Legs]:"#000000",[O.MuscleGroups.Shoulder]:"#000000",[O.MuscleGroups.Core]:"#000000"},C={[O.MuscleGroups.Arms]:"#007cae",[O.MuscleGroups.Back]:"#00a6e1",[O.MuscleGroups.Chest]:"#33b44a",[O.MuscleGroups.Legs]:"#ff6921",[O.MuscleGroups.Shoulder]:"#ffc20e",[O.MuscleGroups.Core]:"#21ffad"};let P=(()=>{class N{constructor(j){this.el=j}ngOnChanges(j){this.muscleGroup&&(this.el.nativeElement.style.color=v[this.muscleGroup]||v.Arms,this.el.nativeElement.style.backgroundColor=C[this.muscleGroup]||C.Arms)}static#e=this.\u0275fac=function(k){return new(k||N)(i.\u0275\u0275directiveInject(i.ElementRef))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:N,selectors:[["","appMuscleGroupPill",""]],inputs:{muscleGroup:"muscleGroup"},standalone:!0,features:[i.\u0275\u0275NgOnChangesFeature]})}return N})();var b=t(3635);let G=(()=>{class N{constructor(j){this.element=j,this.offset=0,this.active=!1,this.isIntersecting=new i.EventEmitter,this._isIntersecting=!1}ngOnInit(){this.subscription=this.createAndObserve()}ngOnDestroy(){this.subscription.unsubscribe()}createAndObserve(){const j={root:document.querySelector("#rootObserver"),rootMargin:`${this.offset}px`,threshold:0};return new b.Observable(k=>{const J=new IntersectionObserver(Q=>{const{isIntersecting:Z}=Q[0];k.next(Z)},j);return J.observe(this.element.nativeElement),{unsubscribe(){J.disconnect()}}}).subscribe(k=>{this.active&&(this.isIntersecting.emit(k),this._isIntersecting=!k)})}static#e=this.\u0275fac=function(k){return new(k||N)(i.\u0275\u0275directiveInject(i.ElementRef))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:N,selectors:[["","appIntersectionObserver",""]],inputs:{offset:"offset",active:"active"},outputs:{isIntersecting:"isIntersecting"},standalone:!0})}return N})(),w=(()=>{class N{transform(j){return Object.keys(O.muscleInvolvedByGroups).find(k=>O.muscleInvolvedByGroups[k].includes(j))}static#e=this.\u0275fac=function(k){return new(k||N)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"appMuscleInvolvedGroup",type:N,pure:!0,standalone:!0})}return N})();var A=t(5004);let D=(()=>{class N{constructor(){this.translateService=(0,i.inject)(A.TranslateService)}transform(j,k="shortDate"){return new e.DatePipe(this.translateService.currentLang).transform(j,k)}static#e=this.\u0275fac=function(k){return new(k||N)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"localizedDate",type:N,pure:!1,standalone:!0})}return N})();var m=t(8012);const W=(0,m.trigger)("accordion",[(0,m.state)("false",(0,m.style)({height:m.AUTO_STYLE,visibility:m.AUTO_STYLE})),(0,m.state)("true",(0,m.style)({height:"0",visibility:"hidden"})),(0,m.transition)("false => true",(0,m.animate)("500ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("500ms ease-out"))]),$=(0,m.trigger)("collapse",[(0,m.state)("false",(0,m.style)({left:m.AUTO_STYLE})),(0,m.state)("true",(0,m.style)({left:"-100%"})),(0,m.transition)("false => true",(0,m.animate)("500ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("500ms ease-out"))]),X=(0,m.trigger)("rotate",[(0,m.state)("false",(0,m.style)({transform:"rotate(0)"})),(0,m.state)("true",(0,m.style)({transform:"rotate(180deg)"})),(0,m.transition)("false => true",(0,m.animate)("200ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("200ms ease-out"))]),H=(0,m.trigger)("opacity",[(0,m.state)("false",(0,m.style)({filter:"opacity(1)"})),(0,m.state)("true",(0,m.style)({filter:"opacity(0.5)"})),(0,m.transition)("false => true",(0,m.animate)("200ms ease-in")),(0,m.transition)("true => false",(0,m.animate)("200ms ease-out"))]),Y=(0,m.trigger)("shake",[(0,m.transition)("false => true",[(0,m.animate)("0.3s",(0,m.keyframes)([(0,m.style)({transform:"translateY(0)",offset:0}),(0,m.style)({transform:"translateY(-10px)",offset:.5}),(0,m.style)({transform:"translateY(0)",offset:1})]))])])},1993:(B,_,t)=>{t.r(_),t.d(_,{takeUntilDestroyed:()=>g,toObservable:()=>r,toSignal:()=>T});var e=t(3731),c=t(3635),o=t(5893);function g(E){E||((0,e.assertInInjectionContext)(g),E=(0,e.inject)(e.DestroyRef));const i=new c.Observable(p=>E.onDestroy(p.next.bind(p)));return p=>p.pipe((0,o.takeUntil)(i))}function r(E,i){!i?.injector&&(0,e.assertInInjectionContext)(r);const p=i?.injector??(0,e.inject)(e.Injector),n=new c.ReplaySubject(1),u=(0,e.effect)(()=>{let f;try{f=E()}catch(S){return void(0,e.untracked)(()=>n.error(S))}(0,e.untracked)(()=>n.next(f))},{injector:p,manualCleanup:!0});return p.get(e.DestroyRef).onDestroy(()=>{u.destroy(),n.complete()}),n.asObservable()}function T(E,i){const p=!i?.manualCleanup;p&&!i?.injector&&(0,e.assertInInjectionContext)(T);const n=p?i?.injector?.get(e.DestroyRef)??(0,e.inject)(e.DestroyRef):null;let u;u=(0,e.signal)(i?.requireSync?{kind:0}:{kind:1,value:i?.initialValue});const f=E.subscribe({next:S=>u.set({kind:1,value:S}),error:S=>{if(i?.rejectErrors)throw S;u.set({kind:2,error:S})}});return n?.onDestroy(f.unsubscribe.bind(f)),(0,e.computed)(()=>{const S=u();switch(S.kind){case 1:return S.value;case 2:throw S.error;case 0:throw new e.\u0275RuntimeError(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},6682:(B,_,t)=>{t.r(_),t.d(_,{VERSION:()=>E,keepUnstableUntilFirst:()=>x,observeInsideAngular:()=>h,observeOutsideAngular:()=>F,\u0275APP_CHECK_PROVIDER_NAME:()=>f,\u0275AngularFireSchedulers:()=>d,\u0275AppCheckInstances:()=>u,\u0275ZoneScheduler:()=>s,\u0275getAllInstancesOf:()=>n,\u0275getDefaultInstanceOf:()=>p,\u0275isSupportedError:()=>i,\u0275keepUnstableUntilFirstFactory:()=>R,\u0275zoneWrap:()=>O});var e=t(3731),c=t(534);(0,c.registerVersion)("firebase","10.8.0","app");var r=t(3635),T=t(5893);const E=new e.Version("ANGULARFIRE2_VERSION"),i=v=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${v} in the constructor, first ensure that ${v} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${v})\`.`;function p(v,C,P){if(C){if(1===C.length)return C[0];const w=C.filter(A=>A.app===P);if(1===w.length)return w[0]}return P.container.getProvider(v).getImmediate({optional:!0})}const n=(v,C)=>{const P=C?[C]:(0,c.getApps)(),b=[];return P.forEach(G=>{G.container.getProvider(v).instances.forEach(A=>{b.includes(A)||b.push(A)})}),b};class u{constructor(){return n(f)}}const f="app-check";function S(){}class s{zone;delegate;constructor(C,P=r.queueScheduler){this.zone=C,this.delegate=P}now(){return this.delegate.now()}schedule(C,P,b){const G=this.zone;return this.delegate.schedule(function(A){G.runGuarded(()=>{C.apply(this,[A])})},P,b)}}class a{zone;task=null;constructor(C){this.zone=C}call(C,P){const b=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S,{},S,S)),P.pipe((0,T.tap)({next:b,complete:b,error:b})).subscribe(C).add(b)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let d=(()=>{class v{ngZone;outsideAngular;insideAngular;constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new s(Zone.current)),this.insideAngular=P.run(()=>new s(Zone.current,r.asyncScheduler)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(b){return new(b||v)(e.\u0275\u0275inject(e.NgZone))};static \u0275prov=e.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function l(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function M(v){return l().ngZone.run(()=>v())}function F(v){return v.pipe((0,T.observeOn)(l().outsideAngular))}function h(v){return v.pipe((0,T.observeOn)(l().insideAngular))}function x(v){return R(l())(v)}function R(v){return function(P){return(P=P.lift(new a(v.ngZone))).pipe((0,T.subscribeOn)(v.outsideAngular),(0,T.observeOn)(v.insideAngular))}}const y=(v,C)=>function(){const b=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),M(()=>v.apply(void 0,b))},O=(v,C)=>function(){let P;const b=arguments;for(let w=0;w<arguments.length;w++)"function"==typeof b[w]&&(C&&(P||=M(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S,{},S,S))),b[w]=y(b[w],P));const G=function I(v){return l().ngZone.runOutsideAngular(()=>v())}(()=>v.apply(this,b));if(!C){if(G instanceof r.Observable){const w=l();return G.pipe((0,T.subscribeOn)(w.outsideAngular),(0,T.observeOn)(w.insideAngular))}return M(()=>G)}return G instanceof r.Observable?G.pipe(x):G instanceof Promise?M(()=>new Promise((w,A)=>G.then(D=>M(()=>w(D)),D=>M(()=>A(D))))):"function"==typeof G&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),G.apply(this,arguments)}:M(()=>G)}},6385:(B,_,t)=>{t.r(_),t.d(_,{MatDivider:()=>g,MatDividerModule:()=>r});var e=t(3731),c=t(2495),o=t(3122);let g=(()=>{class T{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=(0,c.Ig)(i)}get inset(){return this._inset}set inset(i){this._inset=(0,c.Ig)(i)}static#e=this.\u0275fac=function(p){return new(p||T)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:T,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(p,n){2&p&&(e.\u0275\u0275attribute("aria-orientation",n.vertical?"vertical":"horizontal"),e.\u0275\u0275classProp("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:0,vars:0,template:function(p,n){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return T})(),r=(()=>{class T{static#e=this.\u0275fac=function(p){return new(p||T)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:T});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[o.MatCommonModule,o.MatCommonModule]})}return T})()},5940:(B,_,t)=>{t.r(_),t.d(_,{MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS:()=>T,MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY:()=>E,MatProgressSpinner:()=>n,MatProgressSpinnerModule:()=>f,MatSpinner:()=>u});var e=t(3731),c=t(6571),o=t(3122);const g=["determinateSpinner"];function r(S,s){if(1&S&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",11),e.\u0275\u0275element(1,"circle",12),e.\u0275\u0275elementEnd()),2&S){const a=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("viewBox",a._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",a._strokeCircumference(),"px")("stroke-dashoffset",a._strokeCircumference()/2,"px")("stroke-width",a._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",a._circleRadius())}}const T=new e.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:E});function E(){return{diameter:i}}const i=100;let n=(()=>{class S{get color(){return this._color||this._defaultColor}set color(a){this._color=a}constructor(a,d,l){this._elementRef=a,this._defaultColor="primary",this._value=0,this._diameter=i,this._noopAnimations="NoopAnimations"===d&&!!l&&!l._forceAnimations,this.mode="mat-spinner"===a.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",l&&(l.color&&(this.color=this._defaultColor=l.color),l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(a){this._value=Math.max(0,Math.min(100,a||0))}get diameter(){return this._diameter}set diameter(a){this._diameter=a||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(a){this._strokeWidth=a||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const a=2*this._circleRadius()+this.strokeWidth;return`0 0 ${a} ${a}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(d){return new(d||S)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8),e.\u0275\u0275directiveInject(T))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:S,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(d,l){if(1&d&&e.\u0275\u0275viewQuery(g,5),2&d){let I;e.\u0275\u0275queryRefresh(I=e.\u0275\u0275loadQuery())&&(l._determinateCircle=I.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(d,l){2&d&&(e.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===l.mode?l.value:null)("mode",l.mode),e.\u0275\u0275classMap("mat-"+l.color),e.\u0275\u0275styleProp("width",l.diameter,"px")("height",l.diameter,"px")("--mdc-circular-progress-size",l.diameter+"px")("--mdc-circular-progress-active-indicator-width",l.diameter+"px"),e.\u0275\u0275classProp("_mat-animation-noopable",l._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===l.mode))},inputs:{color:"color",mode:"mode",value:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"value","value",e.numberAttribute],diameter:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"diameter","diameter",e.numberAttribute],strokeWidth:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"strokeWidth","strokeWidth",e.numberAttribute]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.\u0275\u0275InputTransformsFeature,e.\u0275\u0275StandaloneFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(d,l){if(1&d&&(e.\u0275\u0275template(0,r,2,8,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",1,2),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(4,"svg",3),e.\u0275\u0275element(5,"circle",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),e.\u0275\u0275elementContainer(9,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementContainer(11,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementContainer(13,8),e.\u0275\u0275elementEnd()()()),2&d){const I=e.\u0275\u0275reference(1);e.\u0275\u0275advance(4),e.\u0275\u0275attribute("viewBox",l._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",l._strokeCircumference(),"px")("stroke-dashoffset",l._strokeDashOffset(),"px")("stroke-width",l._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",l._circleRadius()),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngTemplateOutlet",I),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",I),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",I)}},dependencies:[c.NgTemplateOutlet],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return S})();const u=n;let f=(()=>{class S{static#e=this.\u0275fac=function(d){return new(d||S)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:S});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,o.MatCommonModule]})}return S})()},8091:(B,_,t)=>{t.r(_),t.d(_,{LetDirective:()=>M,PushPipe:()=>F,RenderScheduler:()=>i});var e=t(3731),c=t(3635),o=t(5893);let r=(()=>{class h{static#e=this.\u0275fac=function(y){return new(y||h)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:()=>function g(h){return h instanceof e.NgZone}((0,e.inject)(e.NgZone))?new E:(0,e.inject)(T),providedIn:"root"})}return h})(),T=(()=>{class h extends r{constructor(R){super(),this.appRef=R,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}static#e=this.\u0275fac=function(y){return new(y||h)(e.\u0275\u0275inject(e.ApplicationRef))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();class E extends r{schedule(){}}let i=(()=>{class h{constructor(R,y){this.cdRef=R,this.tickScheduler=y}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}static#e=this.\u0275fac=function(y){return new(y||h)(e.\u0275\u0275inject(e.ChangeDetectorRef),e.\u0275\u0275inject(r))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac})}return h})();function d(h){const x=function n(h){return x=>h[x.type]?.(x)}(h),R=new c.ReplaySubject(1);return{nextPotentialObservable(y){R.next(y)},handlePotentialObservableChanges:()=>R.pipe((0,o.distinctUntilChanged)(),function l(){return(0,c.pipe)((0,o.switchMap)(h=>{const x=function u(h){return(0,c.isObservable)(h)?h:function S(h){return function s(h){return!!h&&"object"==typeof h&&!Array.isArray(h)}(h)&&Object.keys(h).length>0&&Object.values(h).every(c.isObservable)}(h)?(0,c.combineLatest)(function a(h){return Object.keys(h).reduce((x,R)=>({...x,[R]:h[R].pipe((0,o.distinctUntilChanged)())}),{})}(h)):function f(h){return"function"==typeof h?.then}(h)?(0,c.from)(h):new c.Observable(x=>{x.next(h)})}(h);let R=!0,y=!0;return new c.Observable(O=>{const v=(0,e.untracked)(()=>x.subscribe({next(C){O.next({type:"next",value:C,reset:R,synchronous:y}),R=!1},error(C){O.next({type:"error",error:C,reset:R,synchronous:y}),R=!1},complete(){O.next({type:"complete",reset:R,synchronous:y}),R=!1}}));return R&&(O.next({type:"suspense",reset:R,synchronous:!0}),R=!1),y=!1,v})}))}(),(0,o.distinctUntilChanged)(I),(0,o.tap)(x))}}function I(h,x){return h.type===x.type&&h.reset===x.reset&&("next"===x.type?h.value===x.value:"error"!==x.type||h.error===x.error)}let M=(()=>{class h{set ngrxLet(R){this.renderEventManager.nextPotentialObservable(R)}constructor(R,y,O,v){this.mainTemplateRef=R,this.viewContainerRef=y,this.errorHandler=O,this.renderScheduler=v,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=d({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:C=>{this.viewContext.$implicit=C.value,this.viewContext.ngrxLet=C.value,C.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(C.synchronous)},error:C=>{this.viewContext.error=C.error,C.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(C.synchronous),this.errorHandler.handleError(C.error)},complete:C=>{this.viewContext.complete=!0,C.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(C.synchronous)}}),this.subscription=new c.Subscription}static ngTemplateContextGuard(R,y){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(R){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),R||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}static#e=this.\u0275fac=function(y){return new(y||h)(e.\u0275\u0275directiveInject(e.TemplateRef),e.\u0275\u0275directiveInject(e.ViewContainerRef),e.\u0275\u0275directiveInject(e.ErrorHandler),e.\u0275\u0275directiveInject(i))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:h,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:[e.\u0275\u0275InputFlags.None,"ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[e.\u0275\u0275ProvidersFeature([i])]})}return h})(),F=(()=>{class h{constructor(R){this.errorHandler=R,this.renderScheduler=function p(){return new i((0,e.inject)(e.ChangeDetectorRef),(0,e.inject)(r))}(),this.renderEventManager=d({suspense:y=>this.setRenderedValue(void 0,y.synchronous),next:y=>this.setRenderedValue(y.value,y.synchronous),error:y=>{y.reset&&this.setRenderedValue(void 0,y.synchronous),this.errorHandler.handleError(y.error)},complete:y=>{y.reset&&this.setRenderedValue(void 0,y.synchronous)}}),this.subscription=this.renderEventManager.handlePotentialObservableChanges().subscribe()}transform(R){return this.renderEventManager.nextPotentialObservable(R),this.renderedValue}ngOnDestroy(){this.subscription.unsubscribe()}setRenderedValue(R,y){R!==this.renderedValue&&(this.renderedValue=R,y||this.renderScheduler.schedule())}static#e=this.\u0275fac=function(y){return new(y||h)(e.\u0275\u0275directiveInject(e.ErrorHandler,16))};static#t=this.\u0275pipe=e.\u0275\u0275definePipe({name:"ngrxPush",type:h,pure:!1,standalone:!0})}return h})()},493:(B,_,t)=>{t.r(_),t.d(_,{DEFAULT_ROUTER_FEATURENAME:()=>I,FullRouterStateSerializer:()=>x,MinimalRouterStateSerializer:()=>d,NavigationActionTiming:()=>l,ROUTER_CANCEL:()=>p,ROUTER_CONFIG:()=>F,ROUTER_ERROR:()=>u,ROUTER_NAVIGATED:()=>S,ROUTER_NAVIGATION:()=>E,ROUTER_REQUEST:()=>r,RouterStateSerializer:()=>R,StoreRouterConnectingModule:()=>b,createRouterSelector:()=>G,getRouterSelectors:()=>w,provideRouterStore:()=>P,routerCancelAction:()=>n,routerErrorAction:()=>f,routerNavigatedAction:()=>s,routerNavigationAction:()=>i,routerReducer:()=>a,routerRequestAction:()=>T});var e=t(5793),c=t(3731),o=t(9964),g=t(5893);const r="@ngrx/router-store/request",T=(0,e.createAction)(r,(0,e.props)()),E="@ngrx/router-store/navigation",i=(0,e.createAction)(E,(0,e.props)()),p="@ngrx/router-store/cancel",n=(0,e.createAction)(p,(0,e.props)()),u="@ngrx/router-store/error",f=(0,e.createAction)(u,(0,e.props)()),S="@ngrx/router-store/navigated",s=(0,e.createAction)(S,(0,e.props)());function a(A,D){const m=D;switch(m.type){case E:case u:case p:return{state:m.payload.routerState,navigationId:m.payload.event.id};default:return A}}class d{serialize(D){return{root:this.serializeRoute(D.root),url:D.url}}serializeRoute(D){const m=D.children.map(U=>this.serializeRoute(U));return{params:D.params,data:D.data,url:D.url,outlet:D.outlet,title:D.title,routeConfig:D.routeConfig?{path:D.routeConfig.path,pathMatch:D.routeConfig.pathMatch,redirectTo:D.routeConfig.redirectTo,outlet:D.routeConfig.outlet,title:"string"==typeof D.routeConfig.title?D.routeConfig.title:void 0}:null,queryParams:D.queryParams,fragment:D.fragment,firstChild:m[0],children:m}}}var l=function(A){return A[A.PreActivation=1]="PreActivation",A[A.PostActivation=2]="PostActivation",A}(l||{});const I="router",M=new c.InjectionToken("@ngrx/router-store Internal Configuration"),F=new c.InjectionToken("@ngrx/router-store Configuration");function h(A){return{stateKey:I,serializer:d,navigationActionTiming:l.PreActivation,...A}}class x{serialize(D){return{root:this.serializeRoute(D.root),url:D.url}}serializeRoute(D){const m=D.children.map(U=>this.serializeRoute(U));return{params:D.params,paramMap:D.paramMap,data:D.data,url:D.url,outlet:D.outlet,title:D.title,routeConfig:D.routeConfig?{component:D.routeConfig.component,path:D.routeConfig.path,pathMatch:D.routeConfig.pathMatch,redirectTo:D.routeConfig.redirectTo,outlet:D.routeConfig.outlet,title:D.routeConfig.title}:null,queryParams:D.queryParams,queryParamMap:D.queryParamMap,fragment:D.fragment,component:D.routeConfig?D.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:m[0],pathFromRoot:void 0,children:m}}}class R{}var y=function(A){return A[A.NONE=1]="NONE",A[A.ROUTER=2]="ROUTER",A[A.STORE=3]="STORE",A}(y||{});let O=(()=>{class A{constructor(m,U,W,z,$,K){this.store=m,this.router=U,this.serializer=W,this.errorHandler=z,this.config=$,this.activeRuntimeChecks=K,this.lastEvent=null,this.routerState=null,this.trigger=y.NONE,this.stateKey=this.config.stateKey,!(0,e.isNgrxMockEnvironment)()&&(0,c.isDevMode)()&&(K?.strictActionSerializability||K?.strictStateSerializability)&&this.serializer instanceof x&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,e.select)(this.stateKey),(0,g.withLatestFrom)(this.store)).subscribe(([m,U])=>{this.navigateIfNeeded(m,U)})}navigateIfNeeded(m,U){if(!m||!m.state||this.trigger===y.ROUTER||this.lastEvent instanceof o.NavigationStart)return;const W=m.state.url;(function v(A,D){return C(A)===C(D)})(this.router.url,W)||(this.storeState=U,this.trigger=y.STORE,this.router.navigateByUrl(W).catch(z=>{this.errorHandler.handleError(z)}))}setUpRouterEventsListener(){const m=this.config.navigationActionTiming===l.PostActivation;let U;this.router.events.pipe((0,g.withLatestFrom)(this.store)).subscribe(([W,z])=>{this.lastEvent=W,W instanceof o.NavigationStart?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==y.STORE&&(this.storeState=z,this.dispatchRouterRequest(W))):W instanceof o.RoutesRecognized?(U=W,!m&&this.trigger!==y.STORE&&this.dispatchRouterNavigation(W)):W instanceof o.NavigationCancel?(this.dispatchRouterCancel(W),this.reset()):W instanceof o.NavigationError?(this.dispatchRouterError(W),this.reset()):W instanceof o.NavigationEnd&&(this.trigger!==y.STORE&&(m&&this.dispatchRouterNavigation(U),this.dispatchRouterNavigated(W)),this.reset())})}dispatchRouterRequest(m){this.dispatchRouterAction(r,{event:m})}dispatchRouterNavigation(m){const U=this.serializer.serialize(m.state);this.dispatchRouterAction(E,{routerState:U,event:new o.RoutesRecognized(m.id,m.url,m.urlAfterRedirects,U)})}dispatchRouterCancel(m){this.dispatchRouterAction(p,{storeState:this.storeState,event:m})}dispatchRouterError(m){this.dispatchRouterAction(u,{storeState:this.storeState,event:new o.NavigationError(m.id,m.url,`${m}`)})}dispatchRouterNavigated(m){const U=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(S,{event:m,routerState:U})}dispatchRouterAction(m,U){this.trigger=y.ROUTER;try{this.store.dispatch({type:m,payload:{routerState:this.routerState,...U,event:0===this.config.routerState?U.event:{id:U.event.id,url:U.event.url,urlAfterRedirects:U.event.urlAfterRedirects}}})}finally{this.trigger=y.NONE}}reset(){this.trigger=y.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(U){return new(U||A)(c.\u0275\u0275inject(e.Store),c.\u0275\u0275inject(o.Router),c.\u0275\u0275inject(R),c.\u0275\u0275inject(c.ErrorHandler),c.\u0275\u0275inject(F),c.\u0275\u0275inject(e.ACTIVE_RUNTIME_CHECKS))};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac})}return A})();function C(A){return A?.length>0&&"/"===A[A.length-1]?A.substring(0,A.length-1):A}function P(A={}){return(0,c.makeEnvironmentProviders)([{provide:M,useValue:A},{provide:F,useFactory:h,deps:[M]},{provide:R,useClass:A.serializer?A.serializer:0===A.routerState?x:d},{provide:c.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>()=>(0,c.inject)(O)},O])}let b=(()=>{class A{static forRoot(m={}){return{ngModule:A,providers:[P(m)]}}static#e=this.\u0275fac=function(U){return new(U||A)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:A});static#r=this.\u0275inj=c.\u0275\u0275defineInjector({})}return A})();function G(){return(0,e.createFeatureSelector)(I)}function w(A=G()){const D=(0,e.createSelector)(A,L=>L&&L.state),m=(0,e.createSelector)(D,L=>L&&L.root),U=(0,e.createSelector)(m,L=>{if(!L)return;let j=L;for(;j.firstChild;)j=j.firstChild;return j}),W=(0,e.createSelector)(m,L=>L&&L.fragment),z=(0,e.createSelector)(m,L=>L&&L.queryParams),K=(0,e.createSelector)(U,L=>L&&L.params),V=(0,e.createSelector)(U,L=>L&&L.data),Y=(0,e.createSelector)(D,L=>L&&L.url),N=(0,e.createSelector)(U,L=>{if(L?.routeConfig)return"string"==typeof L.routeConfig.title?L.routeConfig.title:L.title});return{selectCurrentRoute:U,selectFragment:W,selectQueryParams:z,selectQueryParam:L=>(0,e.createSelector)(z,j=>j&&j[L]),selectRouteParams:K,selectRouteParam:L=>(0,e.createSelector)(K,j=>j&&j[L]),selectRouteData:V,selectRouteDataParam:L=>(0,e.createSelector)(V,j=>j&&j[L]),selectUrl:Y,selectTitle:N}}}}]);