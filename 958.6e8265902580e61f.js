(self.webpackChunkshell=self.webpackChunkshell||[]).push([[958],{958:(Jt,z,S)=>{S.r(z),S.d(z,{ADD_ANONYMOUS_USER_EXERCISE_ERROR:()=>rt,ADD_ANONYMOUS_USER_EXERCISE_REQUEST:()=>tt,ADD_ANONYMOUS_USER_EXERCISE_SUCCESS:()=>st,ADD_AUTHENTICATED_USER_EXERCISE_ERROR:()=>Je,ADD_AUTHENTICATED_USER_EXERCISE_REQUEST:()=>ze,ADD_AUTHENTICATED_USER_EXERCISE_SUCCESS:()=>Ze,ADD_USER_EXERCISE_REQUEST:()=>ke,AppInit:()=>u,CLEAR_EXERCISE_QUERY_FILTER:()=>St,CLOSE_NAVBAR:()=>Tt,END_REQUEST:()=>re,EXERCISES_FEATURE_KEY:()=>ut,ErrorMessageEffects:()=>yt,ExercisesEffects:()=>Xt,GET_ANONYMOUS_USER_EXERCISES_ERROR:()=>Ke,GET_ANONYMOUS_USER_EXERCISES_REQUEST:()=>Be,GET_ANONYMOUS_USER_EXERCISES_SUCCESS:()=>be,GET_ANONYMOUS_USER_SETTINGS_REQUEST:()=>Le,GET_ANONYMOUS_USER_SETTINGS_SUCCESS:()=>me,GET_AUTHENTICATED_USER_DATA_ERROR:()=>Ge,GET_AUTHENTICATED_USER_DATA_SUCCESS:()=>qe,GET_AUTHENTICATED_USER_EXERCISES_ERROR:()=>Pe,GET_AUTHENTICATED_USER_EXERCISES_REQUEST:()=>we,GET_AUTHENTICATED_USER_EXERCISES_SUCCESS:()=>He,GET_AUTHENTICATED_USER_SETTINGS_REQUEST:()=>ye,GET_USER_EXERCISES_REQUEST:()=>Ye,INITIALIZE_LOADED_APPS:()=>te,LAYOUT_FEATURE_KEY:()=>ft,LOADED_APP:()=>Z,LOGIN_ERROR:()=>Re,LOGIN_GOOGLE_ERROR:()=>pe,LOGIN_GOOGLE_REQUEST:()=>Ue,LOGIN_GOOGLE_SUCCESS:()=>Te,LOGIN_REQUEST:()=>Se,LOGIN_SUCCESS:()=>ue,LOGOUT:()=>Ee,LayoutEffects:()=>Ht,ROUTER_FEATURE_KEY:()=>dt,RequestEffects:()=>Wt,RouterEffects:()=>Kt,SETTINGS_FEATURE_KEY:()=>Fe,SET_ANONYMOUS_USER:()=>ge,SET_AUTHENTICATED_USER:()=>Ie,SET_EXERCISE_MUSCLE_INVOLVED_QUERY_FILTER:()=>ot,SET_EXERCISE_NAME_QUERY_FILTER:()=>Et,SET_USER_INFO:()=>he,SHOW_ERROR:()=>Oe,SIGNUP_ERROR:()=>le,SIGNUP_REQUEST:()=>fe,SIGNUP_SUCCESS:()=>de,START_REQUEST:()=>se,SWITCH_NAVBAR:()=>Ut,SettingsEffects:()=>Dt,StoreModule:()=>Zt,UI_FEATURE_KEY:()=>oe,UNLOADED_APP:()=>J,UPDATE_USER_SETTINGS_REQUEST:()=>Me,UPDATE_USER_SETTINGS_SUCCESS:()=>$e,USER_FEATURE_KEY:()=>Ce,UiEffects:()=>ht,UserEffects:()=>Yt,addAnonymousUserExerciseRequest:()=>P,addAnonymousUserExerciseRequestError:()=>ct,addAnonymousUserExerciseRequestSuccess:()=>j,addAuthenticatedUserExerciseRequest:()=>w,addAuthenticatedUserExerciseRequestError:()=>et,addAuthenticatedUserExerciseRequestSuccess:()=>H,addUserExerciseRequest:()=>We,clearExerciseQueryFilter:()=>at,closeNavBar:()=>b,endRequest:()=>_,exercisesInitialState:()=>A,exercisesReducer:()=>Mt,getAnonymousUserExercisesRequest:()=>G,getAnonymousUserExercisesRequestError:()=>Ve,getAnonymousUserExercisesRequestSuccess:()=>D,getAnonymousUserSettingsRequest:()=>Y,getAnonymousUserSettingsRequestSuccess:()=>O,getAuthenticatedUserExercisesRequest:()=>y,getAuthenticatedUserExercisesRequestError:()=>je,getAuthenticatedUserExercisesRequestSuccess:()=>q,getAuthenticatedUserSettingsRequest:()=>X,getAuthenticatedUserSettingsRequestError:()=>De,getAuthenticatedUserSettingsRequestSuccess:()=>C,getCurrentRoute:()=>Vt,getExerciseById:()=>Ft,getExercisesFiltered:()=>$t,getExercisesFilters:()=>vt,getExercisesList:()=>B,getExercisesState:()=>T,getIsAppLoaded:()=>gt,getIsBlockByRequest:()=>It,getIsNewUser:()=>Rt,getIsUILoadedApp:()=>ie,getIsUserLogged:()=>Qt,getLayoutState:()=>V,getMenu:()=>Pt,getMenuNavBarIsOpened:()=>jt,getPrevRoute:()=>kt,getRouterState:()=>k,getSettingsState:()=>Xe,getUiState:()=>d,getUser:()=>a,getUserExercisesRequest:()=>Qe,getUserSettings:()=>Lt,getUserState:()=>m,initializeLoadedApps:()=>M,layoutInitialState:()=>pt,layoutReducer:()=>wt,loadedApp:()=>p,logOutRequest:()=>ne,loginGoogleRequest:()=>Ae,loginGoogleRequestError:()=>$,loginGoogleRequestSuccess:()=>h,loginRequest:()=>ae,loginRequestError:()=>x,loginRequestSuccess:()=>l,routerInitialState:()=>_t,routerReducer:()=>Bt,setAnonymousUser:()=>U,setAuthenticatedUser:()=>R,setExerciseMuscleInvolvedQueryFilter:()=>it,setExerciseNameQueryFilter:()=>nt,setUserInfo:()=>F,settingsInitialState:()=>ve,settingsReducer:()=>qt,showError:()=>g,signUpRequest:()=>_e,signUpRequestError:()=>v,signUpRequestSuccess:()=>I,startRequest:()=>f,switchNavBar:()=>At,uiInitialState:()=>ce,uiReducer:()=>lt,unloadedApp:()=>ee,updateUserSettingsRequest:()=>xe,updateUserSettingsRequestSuccess:()=>Q,userInitialState:()=>Ne,userReducer:()=>Nt});var t=S(5793);const Z="LOADED_APP",p=(0,t.createAction)(Z,(0,t.props)()),J="UNLOADED_APP",ee=(0,t.createAction)(J,(0,t.props)()),te="INITIALIZE_LOADED_APPS",M=(0,t.createAction)(te),se="START_REQUEST",f=(0,t.createAction)(se),re="END_REQUEST",_=(0,t.createAction)(re),ce={actionOngoing:!1,blockByRequest:!1,requestCounter:0,loadedApps:[]};var u=function(e){return e.UI="UI",e.ACCOUNT="ACCOUNT",e.EXERCISES="EXERCISES",e}(u||{});const oe="ui",lt=(0,t.createReducer)(ce,(0,t.on)(p,(e,{initialized:i})=>({...e,loadedApps:e.loadedApps.includes(i)?e.loadedApps:e.loadedApps.concat([i])})),(0,t.on)(ee,(e,{uninitialized:i})=>({...e,loadedApps:e.loadedApps.filter(c=>c!==i)})),(0,t.on)(M,e=>({...e,loadedApps:[u.ACCOUNT]})),(0,t.on)(f,e=>({...e,actionOngoing:!0,blockByRequest:!0,requestCounter:e.requestCounter+1})),(0,t.on)(_,e=>({...e,actionOngoing:!1,blockByRequest:1!==e.requestCounter&&e.blockByRequest,requestCounter:e.requestCounter-1})));var E=S(3731),r=S(1705),s=S(3635);let ht=(()=>{class e{constructor(){this.actions$=(0,E.inject)(r.Actions),this.requestsCounter=0,this.requestOnGoing=new s.BehaviorSubject(!1),this.initRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(f),(0,s.tap)(()=>{++this.requestsCounter,1===this.requestsCounter&&this.requestOnGoing.next(!0)})),{dispatch:!1}),this.endRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(_),(0,s.tap)(()=>{--this.requestsCounter,0===this.requestsCounter&&this.requestOnGoing.next(!1)})),{dispatch:!1})}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();const d=(0,t.createFeatureSelector)(oe),It=(0,t.createSelector)(d,e=>e.blockByRequest),ie=(0,t.createSelector)(d,e=>e.loadedApps.findIndex(i=>i===u.UI)>-1),gt=e=>(0,t.createSelector)(d,i=>i.loadedApps.findIndex(c=>c===e)>-1),Ee="LOGOUT_USER",ne=(0,t.createAction)(Ee),Se="LOGIN Request",ae=(0,t.createAction)(Se,(0,t.props)()),ue="LOGIN Success",l=(0,t.createAction)(ue,(0,t.props)()),Re="LOGIN Error",x=(0,t.createAction)(Re,(0,t.props)()),Ue="LOGIN Google Request",Ae=(0,t.createAction)(Ue),Te="LOGIN Google Success",h=(0,t.createAction)(Te,(0,t.props)()),pe="LOGIN Google Error",$=(0,t.createAction)(pe,(0,t.props)()),fe="SIGNUP Request",_e=(0,t.createAction)(fe,(0,t.props)()),de="SIGNUP Success",I=(0,t.createAction)(de,(0,t.props)()),le="SIGNUP Error",v=(0,t.createAction)(le,(0,t.props)()),he="SET USER INFO",F=(0,t.createAction)(he,(0,t.props)()),Ie="SET AUTHENTICATED USER",R=(0,t.createAction)(Ie,(0,t.props)()),ge="SET ANONYMOUS USER",U=(0,t.createAction)(ge),Ne={user:void 0,isLogged:!1,isNewUser:!1,userName:void 0},Ce="user",Nt=(0,t.createReducer)(Ne,(0,t.on)(F,(e,{isNewUser:i,userName:c})=>({...e,isNewUser:i,userName:c})),(0,t.on)(R,(e,{user:i})=>({...e,user:i,isLogged:!0,isNewUser:!0,userName:void 0})),(0,t.on)(U,e=>({...e,user:void 0,isLogged:!1,settings:void 0,userName:void 0})));var Ct=S(4270);const Oe="SHOW ERROR",g=(0,t.createAction)(Oe,(0,t.props)());var Ot=S(4809),N=S(3114);let yt=(()=>{class e{constructor(){this.actions$=(0,E.inject)(r.Actions),this.messageService=(0,E.inject)(Ot.MessageService),this.showError$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(g),(0,s.tap)(({errorMessage:c})=>{this.messageService.showAlertMessage(N.MessageTypes.Error,c)})),{dispatch:!1})}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();const ye="GET AUTHENTICATED USER SETTINGS Request",X=(0,t.createAction)(ye),qe="GET AUTHENTICATED USER SETTINGS Success",C=(0,t.createAction)(qe,(0,t.props)()),Ge="GET AUTHENTICATED USER SETTINGS Success",De=(0,t.createAction)(Ge,(0,t.props)()),Le="GET ANONYMOUS USER SETTINGS Request",Y=(0,t.createAction)(Le),me="GET ANONYMOUS USER SETTINGS Success",O=(0,t.createAction)(me,(0,t.props)()),Me="UPDATE USER SETTINGS Request",xe=(0,t.createAction)(Me,(0,t.props)()),$e="UPDATE USER SETTINGS Success",Q=(0,t.createAction)($e,(0,t.props)()),ve={userSettings:void 0},Fe="settings",qt=(0,t.createReducer)(ve,(0,t.on)(C,O,Q,(e,{userSettings:i})=>({...e,userSettings:i})));var Gt=S(7983);let Dt=(()=>{class e{constructor(){this.actions$=(0,E.inject)(r.Actions),this.userSettingsService=(0,E.inject)(Gt.UserSettingsService),this.store=(0,E.inject)(t.Store),this.getAuthenticatedUserSettingsRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(X),(0,r.concatLatestFrom)(()=>[this.store.select(a),this.store.select(Rt)]),(0,s.switchMap)(([c,o,n])=>(n?this.userSettingsService.setUserSettings(o?.uid):this.userSettingsService.getUserSettings(o?.uid)).pipe((0,s.map)(W=>C({userSettings:W})),(0,s.catchError)(W=>(0,s.of)(De({error:W}))))))),this.getAnonymousUserSettingsRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(Y),(0,s.switchMap)(()=>this.userSettingsService.getAnonymousSettings().pipe((0,s.map)(c=>O({userSettings:c})))))),this.updateUserSettings$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(xe),(0,r.concatLatestFrom)(()=>this.store.select(a)),(0,s.switchMap)(([{userSettings:c},o])=>(o?this.userSettingsService.updateUserSettings(o.uid,c):this.userSettingsService.updateAnonymousSettings(c)).pipe((0,s.map)(n=>Q({userSettings:n})))))),this.UserSettingsLoaded$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(C,O),(0,r.concatLatestFrom)(()=>this.store.select(ie)),(0,s.switchMap)(([c,o])=>(0,s.iif)(()=>!o,(0,s.of)(p({initialized:u.UI})),s.EMPTY))))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();const Xe=(0,t.createFeatureSelector)(Fe),Lt=(0,t.createSelector)(Xe,e=>e.userSettings);var mt=S(9964);const Ye="GET USER EXERCISES",Qe=(0,t.createAction)(Ye),we="GET AUTHENTICATED USER EXERCISES Request",y=(0,t.createAction)(we),He="GET AUTHENTICATED USER EXERCISES Success",q=(0,t.createAction)(He,(0,t.props)()),Pe="GET AUTHENTICATED USER EXERCISES Error",je=(0,t.createAction)(Pe,(0,t.props)()),Be="GET ANONYMOUS USER EXERCISES Request",G=(0,t.createAction)(Be),be="GET ANONYMOUS USER EXERCISES Success",D=(0,t.createAction)(be,(0,t.props)()),Ke="GET ANONYMOUS USER EXERCISES Error",Ve=(0,t.createAction)(Ke,(0,t.props)()),ke="ADD USER EXERCISE",We=(0,t.createAction)(ke,(0,t.props)()),ze="ADD AUTHENTICATED USER EXERCISE Request",w=(0,t.createAction)(ze,(0,t.props)()),Ze="ADD AUTHENTICATED USER EXERCISE Success",H=(0,t.createAction)(Ze,(0,t.props)()),Je="ADD AUTHENTICATED USER EXERCISE Error",et=(0,t.createAction)(Je,(0,t.props)()),tt="ADD ANONYMOUS USER EXERCISE Request",P=(0,t.createAction)(tt,(0,t.props)()),st="ADD ANONYMOUS USER EXERCISE Success",j=(0,t.createAction)(st,(0,t.props)()),rt="ADD ANONYMOUS USER EXERCISE Error",ct=(0,t.createAction)(rt,(0,t.props)()),ot="SET EXERCISE TYPE QUERY FILTER",it=(0,t.createAction)(ot,(0,t.props)()),Et="SET EXERCISE NAME QUERY FILTER",nt=(0,t.createAction)(Et,(0,t.props)()),St="CLEAR EXERCISE QUERY FILTER",at=(0,t.createAction)(St),A={list:[],filtered:[],query:{filters:{byName:"",byMuscles:[]}}},ut="exercises",Mt=(0,t.createReducer)(A,(0,t.on)(U,R,e=>({...A})),(0,t.on)(D,q,(e,{exercises:i})=>({...e,list:i,filtered:i})),(0,t.on)(it,(e,{muscleInvolved:i})=>{const c={...e.query.filters,byMuscles:e.query.filters.byMuscles.includes(i)?e.query.filters.byMuscles.filter(o=>o!==i):[...e.query.filters.byMuscles,i]};return{...e,query:{...e.query,filters:{...c}},filtered:L(e.list,c)}}),(0,t.on)(nt,(e,{exerciseName:i})=>{const c={...e.query.filters,byName:i};return{...e,query:{...e.query,filters:{...c}},filtered:L(e.list,c)}}),(0,t.on)(H,j,(e,{exercise:i})=>({...e,list:[...e.list,i],filtered:L([...e.list,i],A.query.filters)})),(0,t.on)(at,e=>({...e,query:{...e.query,filters:A.query.filters},filtered:L(e.list,A.query.filters)}))),L=(e,i)=>{let c=[];return c=e.filter(o=>o.name.includes(i.byName)),i.byMuscles.length>0&&(c=c.filter(o=>i.byMuscles.some(n=>o.musclesInvolved.includes(n)))),c};var xt=S(295);const T=(0,t.createFeatureSelector)(ut),B=(0,t.createSelector)(T,e=>e.list),$t=(0,t.createSelector)(T,e=>e.filtered),vt=(0,t.createSelector)(T,e=>e.query.filters),Ft=e=>(0,t.createSelector)(T,i=>i.list.find(c=>c.id===e));let Xt=(()=>{class e{constructor(){this.exercisesService=(0,E.inject)(xt.ExercisesService),this.store=(0,E.inject)(t.Store),this.actions$=(0,E.inject)(r.Actions),this.getUserExercisesRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(Qe),(0,r.concatLatestFrom)(()=>this.store.select(a)),(0,s.switchMap)(([c,o])=>(0,s.iif)(()=>!!o,(0,s.of)(y()),(0,s.of)(G()))))),this.getAuthenticatedUserExercisesRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(y),(0,r.concatLatestFrom)(()=>this.store.select(a)),(0,s.switchMap)(([c,o])=>this.exercisesService.getExercises(o?.uid).pipe((0,s.map)(n=>q({exercises:n})),(0,s.catchError)(n=>(0,s.of)(je({error:n}))))))),this.getAnonymousUserExercisesRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(G),(0,s.switchMap)(()=>this.store.select(B).pipe((0,s.take)(1),(0,s.map)(c=>D({exercises:c})),(0,s.catchError)(c=>(0,s.of)(Ve({error:c}))))))),this.getUserExercisesSuccess$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(q,D),(0,s.switchMap)(({})=>(0,s.of)(p({initialized:u.EXERCISES}))))),this.addUserExerciseRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(We),(0,r.concatLatestFrom)(()=>this.store.select(a)),(0,s.switchMap)(([{exercise:c},o])=>(0,s.iif)(()=>!!o,(0,s.of)(w({exercise:c})),(0,s.of)(P({exercise:c})))))),this.addAuthenticatedUserExerciseRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(w),(0,r.concatLatestFrom)(()=>this.store.select(a)),(0,s.switchMap)(([{exercise:c},o])=>this.exercisesService.setExercises(o?.uid,c).pipe((0,s.map)(n=>H({exercise:n})),(0,s.catchError)(n=>(0,s.of)(et({error:n}))))))),this.addAnonymousUserExerciseRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(P),(0,r.concatLatestFrom)(()=>this.store.select(B)),(0,s.switchMap)(([{exercise:c},o])=>(0,s.of)(c).pipe((0,s.take)(1),(0,s.map)(n=>j({exercise:{...n,id:(o.length+1).toString()}})),(0,s.catchError)(n=>(0,s.of)(ct({error:n})))))))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})(),Yt=(()=>{class e{constructor(){this.authService=(0,E.inject)(Ct.AuthService),this.store=(0,E.inject)(t.Store),this.router=(0,E.inject)(mt.Router),this.actions$=(0,E.inject)(r.Actions),this.loginRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(ae),(0,s.switchMap)(({userEmail:c,userPass:o})=>this.authService.logIn(c,o).pipe((0,s.map)(n=>l({credentials:n})),(0,s.catchError)(n=>(0,s.of)(x({error:n}))))))),this.loginGoogleRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(Ae),(0,s.switchMap)(()=>this.authService.googleSignIn().pipe((0,s.map)(c=>h({credentials:Object.freeze(c)})),(0,s.catchError)(c=>(0,s.of)($({error:c}))))))),this.loginRequestSuccess$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(l,h),(0,s.switchMap)(()=>this.router.navigate([N.AppRoutes.Home]))),{dispatch:!1}),this.loginRequestError$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(x,$),(0,s.switchMap)(({error:c})=>(0,s.of)(g({errorMessage:c.code}))))),this.signUpRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(_e),(0,s.switchMap)(({userEmail:c,userPass:o})=>this.authService.signUp(c,o).pipe((0,s.map)(n=>I({credentials:Object.freeze(n)})),(0,s.catchError)(n=>(0,s.of)(v({error:n}))))))),this.signUpRequestSuccess$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(I),(0,s.switchMap)(()=>this.router.navigate([N.AppRoutes.Home]))),{dispatch:!1}),this.signUpRequestError$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(v),(0,s.switchMap)(({error:c})=>(0,s.of)(g({errorMessage:c.code}))))),this.checkNewUser$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(I,h,l),(0,s.switchMap)(({credentials:c})=>(0,s.of)(F({isNewUser:this.authService.isNewUser(c),userName:c.additionalUserInfo?.username??void 0}))))),this.logOut$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(ne),(0,s.switchMap)(()=>this.authService.logOut().pipe((0,s.tap)(()=>this.router.navigate([N.AppRoutes.Home]))))),{dispatch:!1}),this.setUser$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(R,U),(0,s.switchMap)(()=>(0,s.of)(M())))),this.setAuthenticatedUserSettings$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(R),(0,s.switchMap)(()=>(0,s.of)(X())))),this.setAnonymousUserSettings$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(U),(0,s.switchMap)(()=>(0,s.of)(Y())))),this.setAuthenticatedUserExercises$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(R),(0,s.switchMap)(()=>(0,s.of)(y())))),this.setAnonymousUserExercises$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(U),(0,s.switchMap)(()=>(0,s.of)(G()))))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();const m=(0,t.createFeatureSelector)(Ce),a=(0,t.createSelector)(m,e=>e.user),Qt=(0,t.createSelector)(m,e=>e.isLogged),Rt=(0,t.createSelector)(m,e=>e.isNewUser),Ut="SWITCH_NAVBAR",At=(0,t.createAction)(Ut),Tt="CLOSE_NAVBAR",b=(0,t.createAction)(Tt),pt={menu:{navBar:{isOpened:!1}}},ft="layout",wt=(0,t.createReducer)(pt,(0,t.on)(At,e=>({...e,menu:{...e.menu,navBar:{...e.menu.navBar,isOpened:!e.menu.navBar.isOpened}}})),(0,t.on)(b,e=>({...e,menu:{...e.menu,navBar:{...e.menu.navBar,isOpened:!1}}}))),K=(0,t.createAction)("SET CURRENT ROUTE",(0,t.props)());let Ht=(()=>{class e{constructor(){this.actions$=(0,E.inject)(r.Actions),this.setCurrentRoute$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(K),(0,s.switchMap)(()=>(0,s.of)(b()))))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();const V=(0,t.createFeatureSelector)(ft),Pt=(0,t.createSelector)(V,e=>e.menu),jt=(0,t.createSelector)(V,e=>e.menu.navBar.isOpened),_t={prevRoute:void 0,currentRoute:void 0},dt="router",Bt=(0,t.createReducer)(_t,(0,t.on)(K,(e,{currentRoute:i})=>({...e,currentRoute:i,prevRoute:e.currentRoute})));var bt=S(2042);let Kt=(()=>{class e{constructor(){this.actions$=(0,E.inject)(r.Actions),this.routerNavigationAction$=(0,r.createEffect)(()=>this.actions$.pipe((0,r.ofType)(bt.routerNavigationAction),(0,s.switchMap)(({payload:c})=>(0,s.of)(K({currentRoute:c.event.url})))))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();const k=(0,t.createFeatureSelector)(dt),Vt=(0,t.createSelector)(k,e=>e.currentRoute),kt=(0,t.createSelector)(k,e=>e.prevRoute);let Wt=(()=>{class e{constructor(){this.actions$=(0,E.inject)(r.Actions),this.initRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,s.filter)(c=>c.type.endsWith("Request")),(0,s.concatMap)(()=>(0,s.of)(f())))),this.endRequest$=(0,r.createEffect)(()=>this.actions$.pipe((0,s.filter)(c=>c.type.endsWith("Success")||c.type.endsWith("Error")),(0,s.concatMap)(()=>(0,s.of)(_()))))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=E.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();var zt=S(6571);let Zt=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=E.\u0275\u0275defineNgModule({type:e});static#s=this.\u0275inj=E.\u0275\u0275defineInjector({imports:[zt.CommonModule]})}return e})()}}]);