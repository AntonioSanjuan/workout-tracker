(self.webpackChunkshell=self.webpackChunkshell||[]).push([[8592],{5304:(z,T,t)=>{t.r(T),t.d(T,{DateAdapter:()=>o,ExerciseTemplateAdapter:()=>m,TrainingAdapter:()=>f,TrainingExerciseAdapter:()=>r,TrainingExerciseSerieAdapter:()=>E});var e=t(3894);class o{static toState(i){return i.toDate()}static toDto(i){return e.EK.fromDate(i)}}class m{static toState(i,p){return{...i,id:p,creationDate:o.toState(i.creationDate),lastModification:i.lastModification?o.toState(i.lastModification):void 0}}static toDto(i){return{name:i.name,musclesInvolved:i.musclesInvolved,image:i.image,observations:i.observations,creationDate:o.toDto(i.creationDate),lastModification:i.lastModification?o.toDto(i.lastModification):void 0}}}class f{static toState(i,p,c){return{...i,id:p,trainingExercises:c,creationDate:o.toState(i.creationDate),finishDate:i.finishDate?o.toState(i.finishDate):void 0}}static toDto(i){return{observations:i.observations,muscleGroups:i.muscleGroups,creationDate:o.toDto(i.creationDate),finishDate:i.finishDate?o.toDto(i.finishDate):void 0}}}class r{static toState(i,p,c,d){return console.log("id",p),console.log("exerciseTemplate",c),console.log("exerciseSeries",d),{id:p,exerciseTemplate:c,series:d}}static toDto(i,p){return{exerciseTemplateId:p}}}class E{static toState(i,p){return{...i,id:p}}static toDto(i){return{weight:i.weight,repetitions:i.repetitions,observations:i.observations}}}},7906:(z,T,t)=>{t.r(T),t.d(T,{AppRoutes:()=>e,BannerType:()=>m,LibsModelsModule:()=>p,MessageTypes:()=>o,MuscleGroups:()=>f,MusclesInvolved:()=>r,muscleInvolvedByGroups:()=>E});var e=function(c){return c.Home="/",c.Login="/account/login",c.SignUp="/account/signUp",c.Settings="/account/settings",c.WorkoutExerciseTemplatesList="/exercise-templates",c.WorkoutTrainingsList="/trainings",c}(e||{}),o=function(c){return c[c.Error=0]="Error",c}(o||{}),m=function(c){return c[c.Info=0]="Info",c[c.Warning=1]="Warning",c[c.Success=2]="Success",c[c.Error=3]="Error",c}(m||{}),f=function(c){return c.Legs="Legs",c.Arms="Arms",c.Shoulder="Shoulder",c.Back="Back",c.Chest="Chest",c.Core="Core",c}(f||{}),r=function(c){return c.Abdominals="Abdominals",c.Abductors="Abductors",c.Adductors="Adductors",c.Biceps="Biceps",c.Calves="Calves",c.Chest="Chest",c.Forearms="Forearms",c.Glutes="Glutes",c.Hamstrings="Hamstrings",c.Lats="Lats",c.Lower_back="Lower_back",c.Middle_back="Middle_back",c.Neck="Neck",c.Quadriceps="Quadriceps",c.Traps="Traps",c.Triceps="Triceps",c.Anterior_deltoid="Anterior_deltoid",c.Medial_deltoid="Medial_deltoid",c.Posterior_deltoid="Posterior_deltoid",c}(r||{});const E={[f.Chest]:[r.Chest],[f.Back]:[r.Lower_back,r.Middle_back],[f.Legs]:[r.Abductors,r.Adductors,r.Quadriceps,r.Hamstrings,r.Calves],[f.Arms]:[r.Biceps,r.Triceps,r.Forearms],[f.Shoulder]:[r.Anterior_deltoid,r.Medial_deltoid,r.Posterior_deltoid],[f.Core]:[r.Abdominals]};var y=t(6571),i=t(3731);let p=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:c});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({imports:[y.CommonModule]})}return c})()},1710:(z,T,t)=>{t.r(T),t.d(T,{ApiService:()=>m,LibsServicesApiModule:()=>r});var e=t(3731),o=t(2210);let m=(()=>{class E{constructor(){this.httpClient=(0,e.inject)(o.HttpClient)}get(i){return this.httpClient.get(i)}post(i,p){return this.httpClient.post(i,p)}delete(i){return this.httpClient.delete(i)}put(i,p){return this.httpClient.put(i,p)}static#e=this.\u0275fac=function(p){return new(p||E)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}return E})();var f=t(6571);let r=(()=>{class E{static#e=this.\u0275fac=function(p){return new(p||E)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:E});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[m],imports:[f.CommonModule]})}return E})()},3417:(z,T,t)=>{t.r(T),t.d(T,{AuthPersistanceService:()=>y,authPersistanceServiceMock:()=>i});var e=t(3731),o=t(5793),m=t(4232),f=t(8251),r=t(9964),E=t(3635);let y=(()=>{class p{constructor(){this.store=(0,e.inject)(o.Store),this.auth=(0,e.inject)(f.zQ),this.router=(0,e.inject)(r.Router),console.log("epaaa")}initialize(){this.auth.authState.pipe((0,E.distinctUntilChanged)()).subscribe(d=>{this.vitaminizedListener(d)})}vitaminizedListener(d){d&&this.store.dispatch((0,m.setAuthenticatedUser)({user:Object.freeze(d)})),d||this.store.dispatch((0,m.setAnonymousUser)())}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const i={initialize:()=>{}}},5111:(z,T,t)=>{t.r(T),t.d(T,{AuthService:()=>r,LibsServicesAuthModule:()=>i,authServiceMock:()=>E});var e=t(3731),o=t(3635),m=t(8251),f=t(7142);let r=(()=>{class p{constructor(){this.auth=(0,e.inject)(m.zQ)}logIn(d,v){return(0,o.from)(this.auth.signInWithEmailAndPassword(d,v))}logOut(){return(0,o.from)(this.auth.signOut())}signUp(d,v){return(0,o.from)(this.auth.createUserWithEmailAndPassword(d,v))}googleSignIn(){const d=new f.Z.auth.GoogleAuthProvider;return(0,o.from)(this.auth.signInWithPopup(d))}isNewUser(d){return!!d?.additionalUserInfo?.isNewUser}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})();const E={logIn:()=>(0,o.of)({}),logOut:()=>(0,o.of)(),signUp:()=>(0,o.of)({}),googleSignIn:()=>(0,o.of)({}),isNewUser:()=>!0};var y=t(6571);let i=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:p});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[r],imports:[y.CommonModule]})}return p})()},6052:(z,T,t)=>{t.r(T),t.d(T,{CultureService:()=>v,LibsServicesCultureModule:()=>h});var e=t(6571),o=t(3731),m=t(5004),f=t(3635);const r=void 0,y=["es",[["a.\xa0m.","p.\xa0m."],r,r],r,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],r,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],r,[["a. C.","d. C."],r,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",r,r,r],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[r,"$"],BRL:[r,"R$"],BYN:[r,"\u0440."],CAD:[r,"$"],CNY:[r,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[r,"\xa3"],HKD:[r,"$"],ILS:[r,"\u20aa"],INR:[r,"\u20b9"],JPY:[r,"\xa5"],KRW:[r,"\u20a9"],MXN:[r,"$"],NZD:[r,"$"],PHP:[r,"\u20b1"],RON:[r,"L"],THB:["\u0e3f"],TWD:[r,"NT$"],USD:["US$","$"],XAF:[],XCD:[r,"$"],XOF:[]},"ltr",function E(n){const s=n,u=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length,R=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===s?1:0===R&&0!==u&&u%1e6==0&&0===a||!(R>=0&&R<=5)?4:5}],i=void 0,c=["en",[["a","p"],["AM","PM"],i],[["AM","PM"],i,i],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],i,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",i,"{1} 'at' {0}",i],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p(n){const u=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===a?1:5}];var d=t(3122);let v=(()=>{class n{constructor(){this.defaultLangCode="ES-ES",this.translateService=(0,o.inject)(m.TranslateService),this.dateAdapter=(0,o.inject)(d.DateAdapter),this.acceptedLanguages=["EN-GB","ES-ES"]}initialize(){this.registerLocales(),this.translateService.setDefaultLang(this.defaultLangCode),this.translateService.addLangs(this.acceptedLanguages)}changeLanguage(u){return this.setCulture(u)}getBrowserLanguage(){return this.getLangCode(this.translateService.getBrowserCultureLang()||this.defaultLangCode)}changeDarkMode(u){this.setDarkMode(u)}getBrowserIsDarkMode(){return!1}registerLocales(){(0,e.registerLocaleData)(c),(0,e.registerLocaleData)(y)}getLangCode(u){return this.acceptedLanguages.find(R=>R===u.toUpperCase())||this.defaultLangCode}setCulture(u){return(0,e.registerLocaleData)(this.getLangCode(u)),this.dateAdapter.setLocale(u),this.translateService.use(this.getLangCode(u)).pipe((0,f.first)())}setDarkMode(u){console.log("setDarkMode",u)}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),h=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:n});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[v],imports:[e.CommonModule]})}return n})()},8388:(z,T,t)=>{t.r(T),t.d(T,{DialogService:()=>r,LibsServicesDialogModule:()=>E});var e=t(6571),o=t(8978),m=t(3731),f=t(9576);let r=(()=>{class y{constructor(){this.dialog=(0,m.inject)(f.MatDialog)}showDialog(p,c,d){return this.dialog.open(p,{...d,panelClass:"dialogClass",disableClose:!c}).afterClosed()}static#e=this.\u0275fac=function(c){return new(c||y)};static#t=this.\u0275prov=m.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac})}return y})(),E=(()=>{class y{static#e=this.\u0275fac=function(c){return new(c||y)};static#t=this.\u0275mod=m.\u0275\u0275defineNgModule({type:y});static#r=this.\u0275inj=m.\u0275\u0275defineInjector({providers:[r],imports:[o.UiModule,e.CommonModule]})}return y})()},6992:(z,T,t)=>{t.r(T),t.d(T,{ExerciseTemplatesRefService:()=>E,ExerciseTemplatesService:()=>y,LibsServicesExerciseTemplatesModule:()=>i,exerciseTemplatesRefServiceMock:()=>c,exerciseTemplatesServiceMock:()=>p});var e=t(6571),o=t(3731),m=t(8154),f=t(3635),r=t(6369);let E=(()=>{class d{constructor(){this.firebaseDataBase=(0,o.inject)(r.ST)}getExerciseTemplatesCollectionRef(h){return this.firebaseDataBase.collection(`user/${h}/exerciseTemplates`)}getExerciseTemplateDocRef(h,n){return this.firebaseDataBase.doc(`user/${h}/exerciseTemplates/${n}`)}static#e=this.\u0275fac=function(n){return new(n||d)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}return d})(),y=(()=>{class d{constructor(){this.exerciseTemplatesRefService=(0,o.inject)(E)}getExerciseTemplate(h,n){return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(h,n).get()).pipe((0,f.map)(s=>m.ExerciseTemplateAdapter.toState({...s.data()},s.id)))}getExerciseTemplates(h){return this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(h).get().pipe((0,f.map)(n=>n.docs.map(s=>m.ExerciseTemplateAdapter.toState({...s.data()},s.id))))}setExerciseTemplate(h,n){const s=m.ExerciseTemplateAdapter.toDto(n);return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplatesCollectionRef(h).add(s)).pipe((0,f.map)(u=>m.ExerciseTemplateAdapter.toState({...s},u.id)))}updateExerciseTemplate(h,n){n.lastModification=new Date;const s=m.ExerciseTemplateAdapter.toDto(n);return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(h,n.id).update(s)).pipe((0,f.map)(()=>({...n})))}deleteExerciseTemplate(h,n){return(0,f.from)(this.exerciseTemplatesRefService.getExerciseTemplateDocRef(h,n.id).delete()).pipe((0,f.map)(()=>!0))}static#e=this.\u0275fac=function(n){return new(n||d)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}return d})(),i=(()=>{class d{static#e=this.\u0275fac=function(n){return new(n||d)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:d});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[y,E],imports:[e.CommonModule]})}return d})();const p={getExerciseTemplate:()=>(0,f.of)({}),getExerciseTemplates:()=>(0,f.of)([]),setExerciseTemplate:()=>(0,f.of)({}),updateExerciseTemplate:()=>(0,f.of)({}),deleteExerciseTemplate:()=>(0,f.of)(!0)},c={getExerciseTemplatesCollectionRef:()=>({}),getExerciseTemplateDocRef:()=>({})}},8959:(z,T,t)=>{t.r(T),t.d(T,{LibsServicesMessageModule:()=>y,MessageService:()=>E});var e=t(6571),o=t(8978),m=t(3731),f=t(3496),r=t(3635);let E=(()=>{class i{constructor(){this.snackBar=(0,m.inject)(f.MatSnackBar)}showAlertMessage(c,d){return this.snackBar.open(d,void 0,{horizontalPosition:"right",verticalPosition:"top",duration:3e3}).afterDismissed().pipe((0,r.map)(n=>n.dismissedByAction))}static#e=this.\u0275fac=function(d){return new(d||i)};static#t=this.\u0275prov=m.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac})}return i})(),y=(()=>{class i{static#e=this.\u0275fac=function(d){return new(d||i)};static#t=this.\u0275mod=m.\u0275\u0275defineNgModule({type:i});static#r=this.\u0275inj=m.\u0275\u0275defineInjector({providers:[E],imports:[o.UiModule,e.CommonModule]})}return i})()},1759:(z,T,t)=>{t.r(T),t.d(T,{LibsServicesTrainingsModule:()=>c,TrainingsService:()=>p,trainingsServiceMock:()=>d});var e=t(6571),o=t(3731),m=t(8154),r=(t(3114),t(3635)),E=t(8467),y=t(6369);let i=(()=>{class v{constructor(){this.firebaseDataBase=(0,o.inject)(y.ST)}getTrainingsPaginatedQuery(n){return u=>{let a=u;return n.filters.betweenDates&&(console.log("trainingQuery.filters.betweenDates",n.filters.betweenDates),a=a.where("creationDate",">=",m.DateAdapter.toDto(n.filters.betweenDates.fromDate)).where("creationDate","<=",m.DateAdapter.toDto(n.filters.betweenDates.toDate))),n.filters.muscleGroups.length&&(console.log("trainingQuery.filters.muscleGroups",n.filters.muscleGroups),a=a.where("muscleGroups","array-contains-any",n.filters.muscleGroups)),a=a.limit(n.pagination.pageElements).orderBy("creationDate","desc"),n.pagination.lastElement&&(a=a.startAt(m.DateAdapter.toDto(n.pagination.lastElement.creationDate))),a}}getTrainingsCollectionRef(n){return this.firebaseDataBase.collection(`user/${n}/trainings`)}getTrainingsPaginatedCollectionRef(n,s){const u=this.getTrainingsPaginatedQuery(s);return this.firebaseDataBase.collection(`user/${n}/trainings`,u)}getTrainingExercisesCollectionRef(n,s){return this.firebaseDataBase.collection(`user/${n}/trainings/${s}/exercises`)}getTrainingExerciseSeriesCollectionRef(n,s,u){return this.firebaseDataBase.collection(`user/${n}/trainings/${s}/exercises/${u}/series`)}getTrainingDocRef(n,s){return this.firebaseDataBase.doc(`user/${n}/trainings/${s}`)}getTrainingExerciseDocRef(n,s,u){return this.firebaseDataBase.doc(`user/${n}/trainings/${s}/exercises/${u}`)}getTrainingExerciseSerieDocRef(n,s,u,a){return this.firebaseDataBase.doc(`user/${n}/trainings/${s}/exercises/${u}/series/${a}`)}getExerciseTemplateTrainingExercisesDocRefs(n,s,u){return console.log("ref",`/user/${n}/exerciseTemplates/${s}`),this.firebaseDataBase.collectionGroup("exercises",R=>{let O=R;return O=O.where("exerciseTemplateId","==",u.ref),O=O.limit(5),O})}static#e=this.\u0275fac=function(s){return new(s||v)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac})}return v})(),p=(()=>{class v{constructor(){this.exerciseTemplateRefService=(0,o.inject)(E.ExerciseTemplatesRefService),this.trainingsRefService=(0,o.inject)(i)}getTraining(n,s){return this.trainingsRefService.getTrainingDocRef(n,s).get().pipe((0,r.switchMap)(u=>{const a=u.id,R=u.data();return this.getTrainingExercises(n,a).pipe((0,r.map)(O=>m.TrainingAdapter.toState(R,a,O)))}))}getTrainings(n,s){return this.trainingsRefService.getTrainingsPaginatedCollectionRef(n,s).get().pipe((0,r.switchMap)(u=>{const a=[];return u.docs.forEach(R=>{const O=R.id,B=R.data(),g=this.getTrainingExercises(n,O).pipe((0,r.map)(P=>m.TrainingAdapter.toState(B,O,P)));a.push(g)}),(0,r.forkJoin)(a).pipe((0,r.defaultIfEmpty)([]))}),(0,r.catchError)(u=>{throw console.log("error",u),u}))}getExerciseTemplateTrainingExercises(n,s){return this.trainingsRefService.getExerciseTemplateTrainingExercisesDocRefs(n,s,this.exerciseTemplateRefService.getExerciseTemplateDocRef(n,s)).get().pipe((0,r.switchMap)(u=>{const a=[];return u.docs.forEach(R=>{const O=R.ref.parent?.parent?.id;if(O){const B=this.getTraining(n,O);a.push(B)}}),(0,r.forkJoin)(a).pipe((0,r.defaultIfEmpty)([]))}),(0,r.catchError)(u=>{throw console.log("error",u),u}))}getTrainingExercises(n,s){return this.trainingsRefService.getTrainingExercisesCollectionRef(n,s).get().pipe((0,r.switchMap)(u=>{const a=[];return u.docs.forEach(R=>{const O=R.id,B=R.data(),g=(0,r.combineLatest)(B.exerciseTemplateId.get(),this.getTrainingExerciseSeries(n,s,O)).pipe((0,r.map)(([P,A])=>m.TrainingExerciseAdapter.toState(B,O,m.ExerciseTemplateAdapter.toState(P.data(),P.id),A)));a.push(g)}),(0,r.forkJoin)(a).pipe((0,r.defaultIfEmpty)([]))}))}getTrainingExerciseSeries(n,s,u){return this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(n,s,u).get().pipe((0,r.map)(a=>a.docs.map(R=>m.TrainingExerciseSerieAdapter.toState(R.data(),R.id))))}setTraining(n,s){const u=m.TrainingAdapter.toDto(s);return(0,r.from)(this.trainingsRefService.getTrainingsCollectionRef(n).add(u)).pipe((0,r.map)(a=>m.TrainingAdapter.toState(u,a.id,[])))}setTrainingExercise(n,s,u){const a=m.TrainingExerciseAdapter.toDto(u,this.exerciseTemplateRefService.getExerciseTemplateDocRef(n,u.exerciseTemplate.id).ref);return(0,r.from)(this.trainingsRefService.getTrainingExercisesCollectionRef(n,s).add(a)).pipe((0,r.map)(R=>m.TrainingExerciseAdapter.toState(a,R.id,u.exerciseTemplate,[])))}setTrainingExerciseSerie(n,s,u,a){const R=m.TrainingExerciseSerieAdapter.toDto(a);return(0,r.from)(this.trainingsRefService.getTrainingExerciseSeriesCollectionRef(n,s,u).add(R)).pipe((0,r.map)(O=>m.TrainingExerciseSerieAdapter.toState(R,O.id)))}updateTraining(n,s){const u=m.TrainingAdapter.toDto(s);return(0,r.from)(this.trainingsRefService.getTrainingDocRef(n,s.id).update(u)).pipe((0,r.map)(()=>({...s})))}updateTrainingExercise(n,s,u){const a=m.TrainingExerciseAdapter.toDto(u,this.exerciseTemplateRefService.getExerciseTemplateDocRef(n,u.exerciseTemplate.id).ref);return(0,r.from)(this.trainingsRefService.getTrainingExerciseDocRef(n,s,u.id).update(a)).pipe((0,r.map)(()=>({...u})))}updateTrainingExerciseSerie(n,s,u,a){const R=m.TrainingExerciseSerieAdapter.toDto(a);return(0,r.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(n,s,u,a.id).update(R)).pipe((0,r.map)(()=>({...a})))}deleteTraining(n,s){return(0,r.from)(this.trainingsRefService.getTrainingDocRef(n,s.id).delete()).pipe((0,r.map)(()=>!0))}deleteTrainingExercise(n,s,u){return(0,r.from)(this.trainingsRefService.getTrainingExerciseDocRef(n,s,u.id).delete()).pipe((0,r.map)(()=>!0))}deleteTrainingExerciseSerie(n,s,u,a){return(0,r.from)(this.trainingsRefService.getTrainingExerciseSerieDocRef(n,s,u,a.id).delete()).pipe((0,r.map)(()=>!0))}static#e=this.\u0275fac=function(s){return new(s||v)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac})}return v})(),c=(()=>{class v{static#e=this.\u0275fac=function(s){return new(s||v)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:v});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[p,i],imports:[e.CommonModule]})}return v})();const d={getTraining:()=>(0,r.of)({}),getTrainings:()=>(0,r.of)([]),getExerciseTemplateTrainingExercises:()=>(0,r.of)([]),setTraining:()=>(0,r.of)({}),setTrainingExercise:()=>(0,r.of)({}),setTrainingExerciseSerie:()=>(0,r.of)({}),updateTraining:()=>(0,r.of)({}),updateTrainingExercise:()=>(0,r.of)({}),updateTrainingExerciseSerie:()=>(0,r.of)({}),deleteTraining:()=>(0,r.of)(!0),deleteTrainingExercise:()=>(0,r.of)(!0),deleteTrainingExerciseSerie:()=>(0,r.of)(!0)}},7185:(z,T,t)=>{t.r(T),t.d(T,{LibsServicesUserSettingsModule:()=>y,UserSettingsService:()=>E,userSettingsServiceMock:()=>i});var e=t(6571),o=t(3731),m=t(6369),f=t(3635),r=t(3690);let E=(()=>{class p{constructor(){this.firebaseDataBase=(0,o.inject)(m.ST),this.cultureService=(0,o.inject)(r.CultureService)}getUserSettingsDocRef(d){return this.firebaseDataBase.collection("user").doc(d)}applyUserSettings(d){this.cultureService.changeLanguage(d.language),this.cultureService.changeDarkMode(d.darkMode)}getBrowserSettings(){return{language:this.cultureService.getBrowserLanguage(),darkMode:this.cultureService.getBrowserIsDarkMode()}}getAnonymousSettings(){const d=this.getBrowserSettings();return this.applyUserSettings(d),(0,f.of)(d)}getUserSettings(d){return this.getUserSettingsDocRef(d).get().pipe((0,f.map)(v=>{const h=v.data();return this.applyUserSettings(h),h}))}setUserSettings(d){const v=this.getBrowserSettings();return(0,f.from)(this.getUserSettingsDocRef(d).set(v,{})).pipe((0,f.map)(()=>(this.applyUserSettings(v),v)))}updateAnonymousSettings(d){return this.applyUserSettings(d),(0,f.of)(d)}updateUserSettings(d,v){return(0,f.from)(this.getUserSettingsDocRef(d).update(v)).pipe((0,f.map)(()=>(this.applyUserSettings(v),v)))}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac})}return p})(),y=(()=>{class p{static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:p});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({providers:[E],imports:[e.CommonModule]})}return p})();const i={setUserSettings:()=>(0,f.of)({}),getUserSettings:()=>(0,f.of)({}),getAnonymousSettings:()=>(0,f.of)({}),updateAnonymousSettings:()=>(0,f.of)({}),updateUserSettings:()=>(0,f.of)({})}},5211:(z,T,t)=>{t.r(T),t.d(T,{IntersectionObserverDirective:()=>L,LocalizedDatePipe:()=>M,MuscleGroupPillDirective:()=>b,MuscleInvolvedGroupPipe:()=>w,UiModule:()=>A,accordionAnimation:()=>I,collapseAnimation:()=>W,opacityAnimation:()=>H,rotateAnimation:()=>G,shakeAnimation:()=>K});var e=t(6571),o=t(7141),m=t(8279),f=t(5077),r=t(470),E=t(7666),y=t(5160),i=t(3731);const p=[m.MatInputModule,o.MatSlideToggleModule,f.MatFormFieldModule,r.MatButtonModule,y.MatTableModule,E.MatIconModule];let c=(()=>{class U{static#e=this.\u0275fac=function(j){return new(j||U)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:U});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({imports:[p,m.MatInputModule,o.MatSlideToggleModule,f.MatFormFieldModule,r.MatButtonModule,y.MatTableModule,E.MatIconModule]})}return U})();var d=t(6751),v=t(4168),h=t(5416),n=t(9698),s=t(3496),u=t(5189),a=t(3122),R=t(6278),O=t(9576),B=t(5388),g=t(4503),P=t(5692);let A=(()=>{class U{static#e=this.\u0275fac=function(j){return new(j||U)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:U});static#r=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[(0,a.provideNativeDateAdapter)(),{provide:a.MAT_DATE_LOCALE,useValue:"es-ES"}],imports:[e.CommonModule,d.FormsModule,f.MatFormFieldModule,c,d.ReactiveFormsModule,v.MatPaginatorModule,h.MatCardModule,s.MatSnackBarModule,O.MatDialogModule,B.MatButtonToggleModule,r.MatButtonModule,g.MatStepperModule,P.MatDatepickerModule,e.CommonModule,d.FormsModule,f.MatFormFieldModule,c,d.ReactiveFormsModule,v.MatPaginatorModule,n.MatProgressSpinnerModule,h.MatCardModule,u.MatSelectModule,R.MatCheckboxModule,o.MatSlideToggleModule,a.MatOptionModule,s.MatSnackBarModule,O.MatDialogModule,B.MatButtonToggleModule,r.MatButtonModule,g.MatStepperModule,P.MatDatepickerModule]})}return U})();var S=t(3114);const k={[S.MuscleGroups.Arms]:"#ffffff",[S.MuscleGroups.Back]:"#000000",[S.MuscleGroups.Chest]:"#000000",[S.MuscleGroups.Legs]:"#000000",[S.MuscleGroups.Shoulder]:"#000000",[S.MuscleGroups.Core]:"#000000"},x={[S.MuscleGroups.Arms]:"#007cae",[S.MuscleGroups.Back]:"#00a6e1",[S.MuscleGroups.Chest]:"#33b44a",[S.MuscleGroups.Legs]:"#ff6921",[S.MuscleGroups.Shoulder]:"#ffc20e",[S.MuscleGroups.Core]:"#ff6921"};let b=(()=>{class U{constructor(D){this.el=D}ngOnChanges(D){this.muscleGroup&&(this.el.nativeElement.style.color=k[this.muscleGroup]||k.Arms,this.el.nativeElement.style.backgroundColor=x[this.muscleGroup]||x.Arms)}static#e=this.\u0275fac=function(j){return new(j||U)(i.\u0275\u0275directiveInject(i.ElementRef))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:U,selectors:[["","appMuscleGroupPill",""]],inputs:{muscleGroup:"muscleGroup"},standalone:!0,features:[i.\u0275\u0275NgOnChangesFeature]})}return U})();var N=t(3635);let L=(()=>{class U{constructor(D){this.element=D,this.offset=0,this.active=!1,this.isIntersecting=new i.EventEmitter,this._isIntersecting=!1}ngOnInit(){this.subscription=this.createAndObserve()}ngOnDestroy(){this.subscription.unsubscribe()}createAndObserve(){const D={root:document.querySelector("#rootObserver"),rootMargin:`${this.offset}px`,threshold:0};return new N.Observable(j=>{const Z=new IntersectionObserver(Y=>{const{isIntersecting:Q}=Y[0];j.next(Q)},D);return Z.observe(this.element.nativeElement),{unsubscribe(){Z.disconnect()}}}).subscribe(j=>{this.active&&(this.isIntersecting.emit(j),this._isIntersecting=!j)})}static#e=this.\u0275fac=function(j){return new(j||U)(i.\u0275\u0275directiveInject(i.ElementRef))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:U,selectors:[["","appIntersectionObserver",""]],inputs:{offset:"offset",active:"active"},outputs:{isIntersecting:"isIntersecting"},standalone:!0})}return U})(),w=(()=>{class U{transform(D){return Object.keys(S.muscleInvolvedByGroups).find(j=>S.muscleInvolvedByGroups[j].includes(D))}static#e=this.\u0275fac=function(j){return new(j||U)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"appMuscleInvolvedGroup",type:U,pure:!0,standalone:!0})}return U})();var _=t(5004);let M=(()=>{class U{constructor(){this.translateService=(0,i.inject)(_.TranslateService)}transform(D,j="shortDate"){return new e.DatePipe(this.translateService.currentLang).transform(D,j)}static#e=this.\u0275fac=function(j){return new(j||U)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"localizedDate",type:U,pure:!1,standalone:!0})}return U})();var l=t(8012);const I=(0,l.trigger)("accordion",[(0,l.state)("false",(0,l.style)({height:l.AUTO_STYLE,visibility:l.AUTO_STYLE})),(0,l.state)("true",(0,l.style)({height:"0",visibility:"hidden"})),(0,l.transition)("false => true",(0,l.animate)("500ms ease-in")),(0,l.transition)("true => false",(0,l.animate)("500ms ease-out"))]),W=(0,l.trigger)("collapse",[(0,l.state)("false",(0,l.style)({left:l.AUTO_STYLE})),(0,l.state)("true",(0,l.style)({left:"-100%"})),(0,l.transition)("false => true",(0,l.animate)("500ms ease-in")),(0,l.transition)("true => false",(0,l.animate)("500ms ease-out"))]),G=(0,l.trigger)("rotate",[(0,l.state)("false",(0,l.style)({transform:"rotate(0)"})),(0,l.state)("true",(0,l.style)({transform:"rotate(180deg)"})),(0,l.transition)("false => true",(0,l.animate)("200ms ease-in")),(0,l.transition)("true => false",(0,l.animate)("200ms ease-out"))]),H=(0,l.trigger)("opacity",[(0,l.state)("false",(0,l.style)({filter:"opacity(1)"})),(0,l.state)("true",(0,l.style)({filter:"opacity(0.5)"})),(0,l.transition)("false => true",(0,l.animate)("200ms ease-in")),(0,l.transition)("true => false",(0,l.animate)("200ms ease-out"))]),K=(0,l.trigger)("shake",[(0,l.transition)("false => true",[(0,l.animate)("0.3s",(0,l.keyframes)([(0,l.style)({transform:"translateY(0)",offset:0}),(0,l.style)({transform:"translateY(-10px)",offset:.5}),(0,l.style)({transform:"translateY(0)",offset:1})]))])])},1993:(z,T,t)=>{t.r(T),t.d(T,{takeUntilDestroyed:()=>f,toObservable:()=>r,toSignal:()=>E});var e=t(3731),o=t(3635),m=t(5893);function f(y){y||((0,e.assertInInjectionContext)(f),y=(0,e.inject)(e.DestroyRef));const i=new o.Observable(p=>y.onDestroy(p.next.bind(p)));return p=>p.pipe((0,m.takeUntil)(i))}function r(y,i){!i?.injector&&(0,e.assertInInjectionContext)(r);const p=i?.injector??(0,e.inject)(e.Injector),c=new o.ReplaySubject(1),d=(0,e.effect)(()=>{let v;try{v=y()}catch(h){return void(0,e.untracked)(()=>c.error(h))}(0,e.untracked)(()=>c.next(v))},{injector:p,manualCleanup:!0});return p.get(e.DestroyRef).onDestroy(()=>{d.destroy(),c.complete()}),c.asObservable()}function E(y,i){const p=!i?.manualCleanup;p&&!i?.injector&&(0,e.assertInInjectionContext)(E);const c=p?i?.injector?.get(e.DestroyRef)??(0,e.inject)(e.DestroyRef):null;let d;d=(0,e.signal)(i?.requireSync?{kind:0}:{kind:1,value:i?.initialValue});const v=y.subscribe({next:h=>d.set({kind:1,value:h}),error:h=>{if(i?.rejectErrors)throw h;d.set({kind:2,error:h})}});return c?.onDestroy(v.unsubscribe.bind(v)),(0,e.computed)(()=>{const h=d();switch(h.kind){case 1:return h.value;case 2:throw h.error;case 0:throw new e.\u0275RuntimeError(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},6682:(z,T,t)=>{t.r(T),t.d(T,{VERSION:()=>y,keepUnstableUntilFirst:()=>P,observeInsideAngular:()=>g,observeOutsideAngular:()=>B,\u0275APP_CHECK_PROVIDER_NAME:()=>v,\u0275AngularFireSchedulers:()=>u,\u0275AppCheckInstances:()=>d,\u0275ZoneScheduler:()=>n,\u0275getAllInstancesOf:()=>c,\u0275getDefaultInstanceOf:()=>p,\u0275isSupportedError:()=>i,\u0275keepUnstableUntilFirstFactory:()=>A,\u0275zoneWrap:()=>k});var e=t(3731),o=t(534);(0,o.registerVersion)("firebase","10.8.0","app");var r=t(3635),E=t(5893);const y=new e.Version("ANGULARFIRE2_VERSION"),i=x=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${x} in the constructor, first ensure that ${x} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${x})\`.`;function p(x,b,N){if(b){if(1===b.length)return b[0];const _=b.filter(M=>M.app===N);if(1===_.length)return _[0]}return N.container.getProvider(x).getImmediate({optional:!0})}const c=(x,b)=>{const N=b?[b]:(0,o.getApps)(),L=[];return N.forEach(w=>{w.container.getProvider(x).instances.forEach(M=>{L.includes(M)||L.push(M)})}),L};class d{constructor(){return c(v)}}const v="app-check";function h(){}class n{zone;delegate;constructor(b,N=r.queueScheduler){this.zone=b,this.delegate=N}now(){return this.delegate.now()}schedule(b,N,L){const w=this.zone;return this.delegate.schedule(function(M){w.runGuarded(()=>{b.apply(this,[M])})},N,L)}}class s{zone;task=null;constructor(b){this.zone=b}call(b,N){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h)),N.pipe((0,E.tap)({next:L,complete:L,error:L})).subscribe(b).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u=(()=>{class x{ngZone;outsideAngular;insideAngular;constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new n(Zone.current)),this.insideAngular=N.run(()=>new n(Zone.current,r.asyncScheduler)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(L){return new(L||x)(e.\u0275\u0275inject(e.NgZone))};static \u0275prov=e.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})();function a(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function O(x){return a().ngZone.run(()=>x())}function B(x){return x.pipe((0,E.observeOn)(a().outsideAngular))}function g(x){return x.pipe((0,E.observeOn)(a().insideAngular))}function P(x){return A(a())(x)}function A(x){return function(N){return(N=N.lift(new s(x.ngZone))).pipe((0,E.subscribeOn)(x.outsideAngular),(0,E.observeOn)(x.insideAngular))}}const S=(x,b)=>function(){const L=arguments;return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),O(()=>x.apply(void 0,L))},k=(x,b)=>function(){let N;const L=arguments;for(let _=0;_<arguments.length;_++)"function"==typeof L[_]&&(b&&(N||=O(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h))),L[_]=S(L[_],N));const w=function R(x){return a().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,L));if(!b){if(w instanceof r.Observable){const _=a();return w.pipe((0,E.subscribeOn)(_.outsideAngular),(0,E.observeOn)(_.insideAngular))}return O(()=>w)}return w instanceof r.Observable?w.pipe(P):w instanceof Promise?O(()=>new Promise((_,M)=>w.then(l=>O(()=>_(l)),l=>O(()=>M(l))))):"function"==typeof w&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),w.apply(this,arguments)}:O(()=>w)}},5940:(z,T,t)=>{t.r(T),t.d(T,{MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS:()=>E,MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY:()=>y,MatProgressSpinner:()=>c,MatProgressSpinnerModule:()=>v,MatSpinner:()=>d});var e=t(3731),o=t(6571),m=t(3122);const f=["determinateSpinner"];function r(h,n){if(1&h&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",11),e.\u0275\u0275element(1,"circle",12),e.\u0275\u0275elementEnd()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("viewBox",s._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",s._strokeCircumference(),"px")("stroke-dashoffset",s._strokeCircumference()/2,"px")("stroke-width",s._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",s._circleRadius())}}const E=new e.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:y});function y(){return{diameter:i}}const i=100;let c=(()=>{class h{get color(){return this._color||this._defaultColor}set color(s){this._color=s}constructor(s,u,a){this._elementRef=s,this._defaultColor="primary",this._value=0,this._diameter=i,this._noopAnimations="NoopAnimations"===u&&!!a&&!a._forceAnimations,this.mode="mat-spinner"===s.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",a&&(a.color&&(this.color=this._defaultColor=a.color),a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(s){this._value=Math.max(0,Math.min(100,s||0))}get diameter(){return this._diameter}set diameter(s){this._diameter=s||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(s){this._strokeWidth=s||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const s=2*this._circleRadius()+this.strokeWidth;return`0 0 ${s} ${s}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(u){return new(u||h)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8),e.\u0275\u0275directiveInject(E))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:h,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(u,a){if(1&u&&e.\u0275\u0275viewQuery(f,5),2&u){let R;e.\u0275\u0275queryRefresh(R=e.\u0275\u0275loadQuery())&&(a._determinateCircle=R.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(u,a){2&u&&(e.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===a.mode?a.value:null)("mode",a.mode),e.\u0275\u0275classMap("mat-"+a.color),e.\u0275\u0275styleProp("width",a.diameter,"px")("height",a.diameter,"px")("--mdc-circular-progress-size",a.diameter+"px")("--mdc-circular-progress-active-indicator-width",a.diameter+"px"),e.\u0275\u0275classProp("_mat-animation-noopable",a._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===a.mode))},inputs:{color:"color",mode:"mode",value:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"value","value",e.numberAttribute],diameter:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"diameter","diameter",e.numberAttribute],strokeWidth:[e.\u0275\u0275InputFlags.HasDecoratorInputTransform,"strokeWidth","strokeWidth",e.numberAttribute]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.\u0275\u0275InputTransformsFeature,e.\u0275\u0275StandaloneFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(u,a){if(1&u&&(e.\u0275\u0275template(0,r,2,8,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(2,"div",1,2),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(4,"svg",3),e.\u0275\u0275element(5,"circle",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),e.\u0275\u0275elementContainer(9,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275elementContainer(11,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementContainer(13,8),e.\u0275\u0275elementEnd()()()),2&u){const R=e.\u0275\u0275reference(1);e.\u0275\u0275advance(4),e.\u0275\u0275attribute("viewBox",a._viewBox()),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("stroke-dasharray",a._strokeCircumference(),"px")("stroke-dashoffset",a._strokeDashOffset(),"px")("stroke-width",a._circleStrokeWidth(),"%"),e.\u0275\u0275attribute("r",a._circleRadius()),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngTemplateOutlet",R),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",R),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",R)}},dependencies:[o.NgTemplateOutlet],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return h})();const d=c;let v=(()=>{class h{static#e=this.\u0275fac=function(u){return new(u||h)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:h});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[o.CommonModule,m.MatCommonModule]})}return h})()},2931:(z,T,t)=>{t.r(T),t.d(T,{ANIMATION_MODULE_TYPE:()=>e.ANIMATION_MODULE_TYPE,BrowserAnimationsModule:()=>d,NoopAnimationsModule:()=>h,provideAnimations:()=>v,provideNoopAnimations:()=>n,\u0275InjectableAnimationEngine:()=>r});var e=t(3731),o=t(652),m=t(5374),f=t(6571);let r=(()=>{class s extends m.\u0275AnimationEngine{constructor(a,R,O){super(a,R,O,(0,e.inject)(e.\u0275ChangeDetectionScheduler,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(R){return new(R||s)(e.\u0275\u0275inject(f.DOCUMENT),e.\u0275\u0275inject(m.AnimationDriver),e.\u0275\u0275inject(m.\u0275AnimationStyleNormalizer))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})}return s})();const i=[{provide:m.\u0275AnimationStyleNormalizer,useFactory:function E(){return new m.\u0275WebAnimationsStyleNormalizer}},{provide:m.\u0275AnimationEngine,useClass:r},{provide:e.RendererFactory2,useFactory:function y(s,u,a){return new m.\u0275AnimationRendererFactory(s,u,a)},deps:[o.\u0275DomRendererFactory2,m.\u0275AnimationEngine,e.NgZone]}],p=[{provide:m.AnimationDriver,useFactory:()=>new m.\u0275WebAnimationsDriver},{provide:e.ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},...i],c=[{provide:m.AnimationDriver,useClass:m.NoopAnimationDriver},{provide:e.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"},...i];let d=(()=>{class s{static withConfig(a){return{ngModule:s,providers:a.disableAnimations?c:p}}static#e=this.\u0275fac=function(R){return new(R||s)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:s});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:p,imports:[o.BrowserModule]})}return s})();function v(){return[...p]}let h=(()=>{class s{static#e=this.\u0275fac=function(R){return new(R||s)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:s});static#r=this.\u0275inj=e.\u0275\u0275defineInjector({providers:c,imports:[o.BrowserModule]})}return s})();function n(){return[...c]}},8091:(z,T,t)=>{t.r(T),t.d(T,{LetDirective:()=>O,PushPipe:()=>B,RenderScheduler:()=>i});var e=t(3731),o=t(3635),m=t(5893);let r=(()=>{class g{static#e=this.\u0275fac=function(S){return new(S||g)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:()=>function f(g){return g instanceof e.NgZone}((0,e.inject)(e.NgZone))?new y:(0,e.inject)(E),providedIn:"root"})}return g})(),E=(()=>{class g extends r{constructor(A){super(),this.appRef=A,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}static#e=this.\u0275fac=function(S){return new(S||g)(e.\u0275\u0275inject(e.ApplicationRef))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();class y extends r{schedule(){}}let i=(()=>{class g{constructor(A,S){this.cdRef=A,this.tickScheduler=S}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}static#e=this.\u0275fac=function(S){return new(S||g)(e.\u0275\u0275inject(e.ChangeDetectorRef),e.\u0275\u0275inject(r))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac})}return g})();function u(g){const P=function c(g){return P=>g[P.type]?.(P)}(g),A=new o.ReplaySubject(1);return{nextPotentialObservable(S){A.next(S)},handlePotentialObservableChanges:()=>A.pipe((0,m.distinctUntilChanged)(),function a(){return(0,o.pipe)((0,m.switchMap)(g=>{const P=function d(g){return(0,o.isObservable)(g)?g:function h(g){return function n(g){return!!g&&"object"==typeof g&&!Array.isArray(g)}(g)&&Object.keys(g).length>0&&Object.values(g).every(o.isObservable)}(g)?(0,o.combineLatest)(function s(g){return Object.keys(g).reduce((P,A)=>({...P,[A]:g[A].pipe((0,m.distinctUntilChanged)())}),{})}(g)):function v(g){return"function"==typeof g?.then}(g)?(0,o.from)(g):new o.Observable(P=>{P.next(g)})}(g);let A=!0,S=!0;return new o.Observable(k=>{const x=(0,e.untracked)(()=>P.subscribe({next(b){k.next({type:"next",value:b,reset:A,synchronous:S}),A=!1},error(b){k.next({type:"error",error:b,reset:A,synchronous:S}),A=!1},complete(){k.next({type:"complete",reset:A,synchronous:S}),A=!1}}));return A&&(k.next({type:"suspense",reset:A,synchronous:!0}),A=!1),S=!1,x})}))}(),(0,m.distinctUntilChanged)(R),(0,m.tap)(P))}}function R(g,P){return g.type===P.type&&g.reset===P.reset&&("next"===P.type?g.value===P.value:"error"!==P.type||g.error===P.error)}let O=(()=>{class g{set ngrxLet(A){this.renderEventManager.nextPotentialObservable(A)}constructor(A,S,k,x){this.mainTemplateRef=A,this.viewContainerRef=S,this.errorHandler=k,this.renderScheduler=x,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=u({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:b=>{this.viewContext.$implicit=b.value,this.viewContext.ngrxLet=b.value,b.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(b.synchronous)},error:b=>{this.viewContext.error=b.error,b.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(b.synchronous),this.errorHandler.handleError(b.error)},complete:b=>{this.viewContext.complete=!0,b.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(b.synchronous)}}),this.subscription=new o.Subscription}static ngTemplateContextGuard(A,S){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(A){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),A||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}static#e=this.\u0275fac=function(S){return new(S||g)(e.\u0275\u0275directiveInject(e.TemplateRef),e.\u0275\u0275directiveInject(e.ViewContainerRef),e.\u0275\u0275directiveInject(e.ErrorHandler),e.\u0275\u0275directiveInject(i))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:g,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:[e.\u0275\u0275InputFlags.None,"ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[e.\u0275\u0275ProvidersFeature([i])]})}return g})(),B=(()=>{class g{constructor(A){this.errorHandler=A,this.renderScheduler=function p(){return new i((0,e.inject)(e.ChangeDetectorRef),(0,e.inject)(r))}(),this.renderEventManager=u({suspense:S=>this.setRenderedValue(void 0,S.synchronous),next:S=>this.setRenderedValue(S.value,S.synchronous),error:S=>{S.reset&&this.setRenderedValue(void 0,S.synchronous),this.errorHandler.handleError(S.error)},complete:S=>{S.reset&&this.setRenderedValue(void 0,S.synchronous)}}),this.subscription=this.renderEventManager.handlePotentialObservableChanges().subscribe()}transform(A){return this.renderEventManager.nextPotentialObservable(A),this.renderedValue}ngOnDestroy(){this.subscription.unsubscribe()}setRenderedValue(A,S){A!==this.renderedValue&&(this.renderedValue=A,S||this.renderScheduler.schedule())}static#e=this.\u0275fac=function(S){return new(S||g)(e.\u0275\u0275directiveInject(e.ErrorHandler,16))};static#t=this.\u0275pipe=e.\u0275\u0275definePipe({name:"ngrxPush",type:g,pure:!1,standalone:!0})}return g})()},493:(z,T,t)=>{t.r(T),t.d(T,{DEFAULT_ROUTER_FEATURENAME:()=>R,FullRouterStateSerializer:()=>P,MinimalRouterStateSerializer:()=>u,NavigationActionTiming:()=>a,ROUTER_CANCEL:()=>p,ROUTER_CONFIG:()=>B,ROUTER_ERROR:()=>d,ROUTER_NAVIGATED:()=>h,ROUTER_NAVIGATION:()=>y,ROUTER_REQUEST:()=>r,RouterStateSerializer:()=>A,StoreRouterConnectingModule:()=>L,createRouterSelector:()=>w,getRouterSelectors:()=>_,provideRouterStore:()=>N,routerCancelAction:()=>c,routerErrorAction:()=>v,routerNavigatedAction:()=>n,routerNavigationAction:()=>i,routerReducer:()=>s,routerRequestAction:()=>E});var e=t(5793),o=t(3731),m=t(9964),f=t(5893);const r="@ngrx/router-store/request",E=(0,e.createAction)(r,(0,e.props)()),y="@ngrx/router-store/navigation",i=(0,e.createAction)(y,(0,e.props)()),p="@ngrx/router-store/cancel",c=(0,e.createAction)(p,(0,e.props)()),d="@ngrx/router-store/error",v=(0,e.createAction)(d,(0,e.props)()),h="@ngrx/router-store/navigated",n=(0,e.createAction)(h,(0,e.props)());function s(M,l){const C=l;switch(C.type){case y:case d:case p:return{state:C.payload.routerState,navigationId:C.payload.event.id};default:return M}}class u{serialize(l){return{root:this.serializeRoute(l.root),url:l.url}}serializeRoute(l){const C=l.children.map(I=>this.serializeRoute(I));return{params:l.params,data:l.data,url:l.url,outlet:l.outlet,title:l.title,routeConfig:l.routeConfig?{path:l.routeConfig.path,pathMatch:l.routeConfig.pathMatch,redirectTo:l.routeConfig.redirectTo,outlet:l.routeConfig.outlet,title:"string"==typeof l.routeConfig.title?l.routeConfig.title:void 0}:null,queryParams:l.queryParams,fragment:l.fragment,firstChild:C[0],children:C}}}var a=function(M){return M[M.PreActivation=1]="PreActivation",M[M.PostActivation=2]="PostActivation",M}(a||{});const R="router",O=new o.InjectionToken("@ngrx/router-store Internal Configuration"),B=new o.InjectionToken("@ngrx/router-store Configuration");function g(M){return{stateKey:R,serializer:u,navigationActionTiming:a.PreActivation,...M}}class P{serialize(l){return{root:this.serializeRoute(l.root),url:l.url}}serializeRoute(l){const C=l.children.map(I=>this.serializeRoute(I));return{params:l.params,paramMap:l.paramMap,data:l.data,url:l.url,outlet:l.outlet,title:l.title,routeConfig:l.routeConfig?{component:l.routeConfig.component,path:l.routeConfig.path,pathMatch:l.routeConfig.pathMatch,redirectTo:l.routeConfig.redirectTo,outlet:l.routeConfig.outlet,title:l.routeConfig.title}:null,queryParams:l.queryParams,queryParamMap:l.queryParamMap,fragment:l.fragment,component:l.routeConfig?l.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:C[0],pathFromRoot:void 0,children:C}}}class A{}var S=function(M){return M[M.NONE=1]="NONE",M[M.ROUTER=2]="ROUTER",M[M.STORE=3]="STORE",M}(S||{});let k=(()=>{class M{constructor(C,I,F,W,$,G){this.store=C,this.router=I,this.serializer=F,this.errorHandler=W,this.config=$,this.activeRuntimeChecks=G,this.lastEvent=null,this.routerState=null,this.trigger=S.NONE,this.stateKey=this.config.stateKey,!(0,e.isNgrxMockEnvironment)()&&(0,o.isDevMode)()&&(G?.strictActionSerializability||G?.strictStateSerializability)&&this.serializer instanceof P&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,e.select)(this.stateKey),(0,f.withLatestFrom)(this.store)).subscribe(([C,I])=>{this.navigateIfNeeded(C,I)})}navigateIfNeeded(C,I){if(!C||!C.state||this.trigger===S.ROUTER||this.lastEvent instanceof m.NavigationStart)return;const F=C.state.url;(function x(M,l){return b(M)===b(l)})(this.router.url,F)||(this.storeState=I,this.trigger=S.STORE,this.router.navigateByUrl(F).catch(W=>{this.errorHandler.handleError(W)}))}setUpRouterEventsListener(){const C=this.config.navigationActionTiming===a.PostActivation;let I;this.router.events.pipe((0,f.withLatestFrom)(this.store)).subscribe(([F,W])=>{this.lastEvent=F,F instanceof m.NavigationStart?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==S.STORE&&(this.storeState=W,this.dispatchRouterRequest(F))):F instanceof m.RoutesRecognized?(I=F,!C&&this.trigger!==S.STORE&&this.dispatchRouterNavigation(F)):F instanceof m.NavigationCancel?(this.dispatchRouterCancel(F),this.reset()):F instanceof m.NavigationError?(this.dispatchRouterError(F),this.reset()):F instanceof m.NavigationEnd&&(this.trigger!==S.STORE&&(C&&this.dispatchRouterNavigation(I),this.dispatchRouterNavigated(F)),this.reset())})}dispatchRouterRequest(C){this.dispatchRouterAction(r,{event:C})}dispatchRouterNavigation(C){const I=this.serializer.serialize(C.state);this.dispatchRouterAction(y,{routerState:I,event:new m.RoutesRecognized(C.id,C.url,C.urlAfterRedirects,I)})}dispatchRouterCancel(C){this.dispatchRouterAction(p,{storeState:this.storeState,event:C})}dispatchRouterError(C){this.dispatchRouterAction(d,{storeState:this.storeState,event:new m.NavigationError(C.id,C.url,`${C}`)})}dispatchRouterNavigated(C){const I=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(h,{event:C,routerState:I})}dispatchRouterAction(C,I){this.trigger=S.ROUTER;try{this.store.dispatch({type:C,payload:{routerState:this.routerState,...I,event:0===this.config.routerState?I.event:{id:I.event.id,url:I.event.url,urlAfterRedirects:I.event.urlAfterRedirects}}})}finally{this.trigger=S.NONE}}reset(){this.trigger=S.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(I){return new(I||M)(o.\u0275\u0275inject(e.Store),o.\u0275\u0275inject(m.Router),o.\u0275\u0275inject(A),o.\u0275\u0275inject(o.ErrorHandler),o.\u0275\u0275inject(B),o.\u0275\u0275inject(e.ACTIVE_RUNTIME_CHECKS))};static#t=this.\u0275prov=o.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac})}return M})();function b(M){return M?.length>0&&"/"===M[M.length-1]?M.substring(0,M.length-1):M}function N(M={}){return(0,o.makeEnvironmentProviders)([{provide:O,useValue:M},{provide:B,useFactory:g,deps:[O]},{provide:A,useClass:M.serializer?M.serializer:0===M.routerState?P:u},{provide:o.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>()=>(0,o.inject)(k)},k])}let L=(()=>{class M{static forRoot(C={}){return{ngModule:M,providers:[N(C)]}}static#e=this.\u0275fac=function(I){return new(I||M)};static#t=this.\u0275mod=o.\u0275\u0275defineNgModule({type:M});static#r=this.\u0275inj=o.\u0275\u0275defineInjector({})}return M})();function w(){return(0,e.createFeatureSelector)(R)}function _(M=w()){const l=(0,e.createSelector)(M,D=>D&&D.state),C=(0,e.createSelector)(l,D=>D&&D.root),I=(0,e.createSelector)(C,D=>{if(!D)return;let j=D;for(;j.firstChild;)j=j.firstChild;return j}),F=(0,e.createSelector)(C,D=>D&&D.fragment),W=(0,e.createSelector)(C,D=>D&&D.queryParams),G=(0,e.createSelector)(I,D=>D&&D.params),H=(0,e.createSelector)(I,D=>D&&D.data),U=(0,e.createSelector)(l,D=>D&&D.url),J=(0,e.createSelector)(I,D=>{if(D?.routeConfig)return"string"==typeof D.routeConfig.title?D.routeConfig.title:D.title});return{selectCurrentRoute:I,selectFragment:F,selectQueryParams:W,selectQueryParam:D=>(0,e.createSelector)(W,j=>j&&j[D]),selectRouteParams:G,selectRouteParam:D=>(0,e.createSelector)(G,j=>j&&j[D]),selectRouteData:H,selectRouteDataParam:D=>(0,e.createSelector)(H,j=>j&&j[D]),selectUrl:U,selectTitle:J}}}}]);